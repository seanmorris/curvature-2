(function() {
  'use strict';

  var globals = typeof global === 'undefined' ? self : global;
  if (typeof globals.require === 'function') return;

  var modules = {};
  var cache = {};
  var aliases = {};
  var has = {}.hasOwnProperty;

  var expRe = /^\.\.?(\/|$)/;
  var expand = function(root, name) {
    var results = [], part;
    var parts = (expRe.test(name) ? root + '/' + name : name).split('/');
    for (var i = 0, length = parts.length; i < length; i++) {
      part = parts[i];
      if (part === '..') {
        results.pop();
      } else if (part !== '.' && part !== '') {
        results.push(part);
      }
    }
    return results.join('/');
  };

  var dirname = function(path) {
    return path.split('/').slice(0, -1).join('/');
  };

  var localRequire = function(path) {
    return function expanded(name) {
      var absolute = expand(dirname(path), name);
      return globals.require(absolute, path);
    };
  };

  var initModule = function(name, definition) {
    var hot = hmr && hmr.createHot(name);
    var module = {id: name, exports: {}, hot: hot};
    cache[name] = module;
    definition(module.exports, localRequire(name), module);
    return module.exports;
  };

  var expandAlias = function(name) {
    var val = aliases[name];
    return (val && name !== val) ? expandAlias(val) : name;
  };

  var _resolve = function(name, dep) {
    return expandAlias(expand(dirname(name), dep));
  };

  var require = function(name, loaderPath) {
    if (loaderPath == null) loaderPath = '/';
    var path = expandAlias(name);

    if (has.call(cache, path)) return cache[path].exports;
    if (has.call(modules, path)) return initModule(path, modules[path]);

    throw new Error("Cannot find module '" + name + "' from '" + loaderPath + "'");
  };

  require.alias = function(from, to) {
    aliases[to] = from;
  };

  var extRe = /\.[^.\/]+$/;
  var indexRe = /\/index(\.[^\/]+)?$/;
  var addExtensions = function(bundle) {
    if (extRe.test(bundle)) {
      var alias = bundle.replace(extRe, '');
      if (!has.call(aliases, alias) || aliases[alias].replace(extRe, '') === alias + '/index') {
        aliases[alias] = bundle;
      }
    }

    if (indexRe.test(bundle)) {
      var iAlias = bundle.replace(indexRe, '');
      if (!has.call(aliases, iAlias)) {
        aliases[iAlias] = bundle;
      }
    }
  };

  require.register = require.define = function(bundle, fn) {
    if (bundle && typeof bundle === 'object') {
      for (var key in bundle) {
        if (has.call(bundle, key)) {
          require.register(key, bundle[key]);
        }
      }
    } else {
      modules[bundle] = fn;
      delete cache[bundle];
      addExtensions(bundle);
    }
  };

  require.list = function() {
    var list = [];
    for (var item in modules) {
      if (has.call(modules, item)) {
        list.push(item);
      }
    }
    return list;
  };

  var hmr = globals._hmr && new globals._hmr(_resolve, require, modules, cache);
  require._cache = cache;
  require.hmr = hmr && hmr.wrap;
  require.brunch = true;
  globals.require = require;
})();

(function() {
var global = typeof window === 'undefined' ? this : window;
var __makeRelativeRequire = function(require, mappings, pref) {
  var none = {};
  var tryReq = function(name, pref) {
    var val;
    try {
      val = require(pref + '/node_modules/' + name);
      return val;
    } catch (e) {
      if (e.toString().indexOf('Cannot find module') === -1) {
        throw e;
      }

      if (pref.indexOf('node_modules') !== -1) {
        var s = pref.split('/');
        var i = s.lastIndexOf('node_modules');
        var newPref = s.slice(0, i).join('/');
        return tryReq(name, newPref);
      }
    }
    return none;
  };
  return function(name) {
    if (name in mappings) name = mappings[name];
    if (!name) return;
    if (name[0] !== '.' && pref) {
      var val = tryReq(name, pref);
      if (val !== none) return val;
    }
    return require(name);
  }
};
require.register("curvature/Config.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Config=void 0;var Config={title:"Curvature 0.0.66-r"};exports.Config=Config;
});

require.register("curvature/access/LoginView.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoginView=void 0;var _Config=require("../base/Config"),_View2=require("../base/View"),_Router=require("../base/Router"),_Repository=require("../base/Repository"),_UserRepository=require("./UserRepository"),_Toast=require("../toast/Toast"),_ToastAlert=require("../toast/ToastAlert");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var LoginView=/*#__PURE__*/function(a){function b(){var a;return _classCallCheck(this,b),a=c.call(this),a.template="\n\t\t\t<a cv-link = \"user\">User</a>\n\t\t\t<br />\n\t\t\t\n\t\t\t<a cv-link = \"user/login\">Login</a>\n\t\t\t<br />\n\n\t\t\t<a cv-link = \"user/register\">Register</a>\n\t\t\t<br />\n\n\t\t\t<a cv-link = \"user/logout\">Logout</a>\n\t\t\t<br />\n\n\t\t\t<input\n\t\t\t\ttype  = \"button\"\n\t\t\t\tvalue = \"Login via FaceBook\"\n\t\t\t \tcv-on = \"click:facebookLogin(event)\"\n\t\t\t />\n\t\t\t <input\n\t\t\t\ttype  = \"button\"\n\t\t\t\tvalue = \"Log Out\"\n\t\t\t \tcv-on = \"click:logout(event)\"\n\t\t\t />\n\t\t",a}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"facebookLogin",value:function facebookLogin(a){var b=this;console.log("fb!"),a.preventDefault();window.open(_Config.Config.get("backend")+"/facebookLogin");this.userCheck&&this.clearInterval(this.userCheck),this.userCheck=this.onInterval(333,function(){_UserRepository.UserRepository.getCurrentUser(!0).then(function(a){var c=a.body;c.id&&c&&(b.clearInterval(b.userCheck),_Router.Router.clearCache(),_Repository.Repository.clearCache(),_Toast.Toast.instance().pop(new _ToastAlert.ToastAlert({title:"Logged in as "+c.username,body:"ID: "+c.publicId,time:2400})))})})}},{key:"logout",value:function logout(){window.open(_Config.Config.get("backend")+"/user/logout?page=app%3Fclose%3D1")}}]),b}(_View2.View);exports.LoginView=LoginView;
});

;require.register("curvature/access/UserRepository.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserRepository=void 0;var _Config=require("../base/Config"),_Bindable=require("../base/Bindable"),_Repository2=require("../base/Repository");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var UserRepository=/*#__PURE__*/function(a){function b(){return _classCallCheck(this,b),c.apply(this,arguments)}_inherits(b,a);var c=_createSuper(b);return _createClass(b,null,[{key:"uri",get:function get(){return _Config.Config.get("backend")+"/user/"}},{key:"getCurrentUser",value:function getCurrentUser(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return window.prerenderer||navigator.userAgent.match(/prerender/i)?void(window.prerenderer=window.prerenderer||!0):this.args.response&&!1===b?Promise.resolve(this.args.response):this.request(this.uri+"current",!1,!1).then(function(b){if(b.body&&b.body.roles)for(var c in b.body.roles)"SeanMorris\\Access\\Role\\Administrator"==b.body.roles[c]["class"]&&(b.body.isAdmin=!0);return b.body&&b.body.id&&(a.args.response=b,a.args.current=b.body),b})["catch"](function(a){console.error(a)})}},{key:"login",value:function login(){return this.request(this.uri+"/login")}},{key:"logout",value:function logout(){var a=this,b=this.args.current;return delete this.args.current,this.request(this.uri+"logout",!1,{},!1).then(function(){return a.args.current=null,b})}},{key:"onChange",value:function onChange(a){return this.args.bindTo("current",a)}}]),b}(_Repository2.Repository);exports.UserRepository=UserRepository,Object.defineProperty(UserRepository,"args",{configurable:!1,writable:!1,value:_Bindable.Bindable.makeBindable({})}),_Repository2.Repository.onResponse(function(a){a&&a.meta&&"currentUser"in a.meta&&(!UserRepository.args.current||a.meta.currentUser.id!==UserRepository.args.current.id)&&(UserRepository.args.current=a.meta.currentUser)});
});

require.register("curvature/animate/Chain.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Chain=void 0;function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Chain=/*#__PURE__*/_createClass(function a(){_classCallCheck(this,a)});exports.Chain=Chain;
});

;require.register("curvature/animate/Ease.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ease=void 0;var _Mixin=require("../base/Mixin"),_PromiseMixin=require("../mixin/PromiseMixin");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var Ease=/*#__PURE__*/function(a){function b(a){var d,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,b),d=c.call(this),d.interval=a,d.terminal=!1,d.initial=!1,d.timeout=!1,d.final=!1,d.canceled=!1,d.done=!1,d.calculate=!!(d.calculate||"calculate"in e)&&e.calculate,d.bounded=!("bounded"in e)||e.bounded,d.repeat="repeat"in e?e.repeat:1,d.reverse=!!("reverse"in e)&&e.reverse,d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"start",value:function start(){var a=this;this.done=!1,requestAnimationFrame(function(){a.initial=Date.now(),a.terminal=a.initial+a.interval,0<=a.repeat&&(a.terminal=a.initial+a.interval*a.repeat,a.timeout=setTimeout(function(){return a.done?a.reverse?0:1:void(a.done=!0,a[_PromiseMixin.PromiseMixin.Accept](a.reverse?0:1))},a.interval*a.repeat))})}},{key:"cancel",value:function cancel(){return this.done?this.final:(clearTimeout(this.timeout),this.final=this.current(),this.canceled=this.done=!0,this[_PromiseMixin.PromiseMixin.Reject](this.final),this.final)}},{key:"fraction",value:function(){if(this.done)return this.reverse?0:1;if(!1===this.initial)return this.reverse?1:0;var a=Date.now()-this.initial;if(a/this.interval>=this.repeat)return this.reverse?0:1;var b=a%this.interval/this.interval;return this.reverse?1-b:b}},{key:"current",value:function current(){var a=this.fraction();return this.calculate?this.calculate(a):a}}]),b}(_Mixin.Mixin["with"](_PromiseMixin.PromiseMixin));exports.Ease=Ease;
});

;require.register("curvature/animate/ease/CubicIn.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.CubicIn=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var CubicIn=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return a*a*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.CubicIn=CubicIn;
});

;require.register("curvature/animate/ease/CubicInOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.CubicInOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var CubicInOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return .5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.CubicInOut=CubicInOut;
});

;require.register("curvature/animate/ease/CubicOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.CubicOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var CubicOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return--a*a*a+1}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.CubicOut=CubicOut;
});

;require.register("curvature/animate/ease/ElasticOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElasticOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var ElasticOut=/*#__PURE__*/function(a){function b(a){var d,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,b),d=c.call(this,a,e),_defineProperty(_assertThisInitialized(d),"calculate",function(a){return Math.pow(2,-10*a)*Math.sin((a-d.friction/4)*(2*Math.PI)/d.friction)+1}),d.friction=d.friction||"friction"in e?e.friction:.3,d}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.ElasticOut=ElasticOut;
});

;require.register("curvature/animate/ease/GeoIn.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeoIn=void 0;function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var GeoIn=/*#__PURE__*/function(a){function b(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,b),c.call(this,a,d);// this.calculate = t => Math.pow(t, this.power);
// this.power = 1;
// if('power' in options)
// {
// 	this.power = options.power
// }
}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.GeoIn=GeoIn;
});

;require.register("curvature/animate/ease/GeoInOut.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeoInOut=void 0;var _Ease2=require("../Ease"),_GeoIn=require("./GeoIn"),_GeoOut=require("./GeoOut");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}console.log(_GeoIn.GeoIn);var GeoInOut=/*#__PURE__*/function(a){function b(){return _classCallCheck(this,b),c.apply(this,arguments)}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"calculate",value:function calculate(a){return .5>a?EaseIn(power)(2*a)/2:EaseOut(power)(2*a-1)/2+.5}}]),b}(_Ease2.Ease);exports.GeoInOut=GeoInOut,_defineProperty(GeoInOut,"power",1);
});

;require.register("curvature/animate/ease/GeoOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeoOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var GeoOut=/*#__PURE__*/function(a){function b(a){var d,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,b),d=c.call(this,a,e),_defineProperty(_assertThisInitialized(d),"calculate",function(a){return 1-Math.abs(a-Math.pow(1,d.power))}),d.power=d.power||"power"in e?e.power:1,d}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.GeoOut=GeoOut;
});

;require.register("curvature/animate/ease/Linear.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Linear=void 0;function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var Linear=/*#__PURE__*/function(a){function b(){return _classCallCheck(this,b),c.apply(this,arguments)}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.Linear=Linear;
});

;require.register("curvature/animate/ease/QuadIn.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuadIn=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var QuadIn=/*#__PURE__*/function(a){function b(){return _classCallCheck(this,b),c.apply(this,arguments)}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"current",value:function current(){var a=this.fraction();return a*a}}]),b}(_Ease2.Ease);exports.QuadIn=QuadIn;
});

;require.register("curvature/animate/ease/QuadInOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuadInOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var QuadInOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return .5>a?2*a*a:-1+(4-2*a)*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.QuadInOut=QuadInOut;
});

;require.register("curvature/animate/ease/QuadOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuadOut=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var QuadOut=/*#__PURE__*/function(a){function b(){return _classCallCheck(this,b),c.apply(this,arguments)}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"current",value:function current(){var a=this.fraction();return a*(2-a)}}]),b}(_Ease2.Ease);exports.QuadOut=QuadOut;
});

;require.register("curvature/animate/ease/QuartIn.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuartIn=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var QuartIn=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return a*a*a*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.QuartIn=QuartIn;
});

;require.register("curvature/animate/ease/QuartInOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuartInOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var QuartInOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return .5>a?8*a*a*a*a:1-8*--a*a*a*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.QuartInOut=QuartInOut;
});

;require.register("curvature/animate/ease/QuartOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuartOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var QuartOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return 1- --a*a*a*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.QuartOut=QuartOut;
});

;require.register("curvature/animate/ease/QuintIn.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuintIn=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var QuintIn=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return a*a*a*a*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.QuintIn=QuintIn;
});

;require.register("curvature/animate/ease/QuintInOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuintInOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var QuintInOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return .5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.QuintInOut=QuintInOut;
});

;require.register("curvature/animate/ease/QuintOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuintOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var QuintOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return 1+--a*a*a*a*a}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.QuintOut=QuintOut;
});

;require.register("curvature/animate/ease/SineIn.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.SineIn=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var SineIn=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return 1+Math.sin(Math.PI/2*a-Math.PI/2)}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.SineIn=SineIn;
});

;require.register("curvature/animate/ease/SineInOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.SineInOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var SineInOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return(1+Math.sin(Math.PI*a-Math.PI/2))/2}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.SineInOut=SineInOut;
});

;require.register("curvature/animate/ease/SineOut.js", function(exports, require, module) {
"use strict";var _Ease2=require("../Ease");Object.defineProperty(exports,"__esModule",{value:!0}),exports.SineOut=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var SineOut=/*#__PURE__*/function(a){function b(){var a;_classCallCheck(this,b);for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return a=c.call.apply(c,[this].concat(e)),_defineProperty(_assertThisInitialized(a),"calculate",function(a){return Math.sin(Math.PI/2*a)}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Ease2.Ease);exports.SineOut=SineOut;
});

;require.register("curvature/base/Bag.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bag=void 0;var _Bindable=require("./Bindable"),_Mixin=require("./Mixin"),_EventTargetMixin=require("../mixin/EventTargetMixin");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var toId=function(a){return+a},fromId=function(a){return parseInt(a)},Mapped=Symbol("Mapped"),Has=Symbol("Has"),Add=Symbol("Add"),Remove=Symbol("Remove"),Delete=Symbol("Delete"),Bag=/*#__PURE__*/function(a){function b(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;return _classCallCheck(this,b),a=c.call(this),a.changeCallback=d,a.content=new Map,a.current=0,a.length=0,a.list=_Bindable.Bindable.makeBindable([]),a.meta=Symbol("meta"),a.type=void 0,a}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"has",value:function has(a){return this[Mapped]?this[Mapped].has(a):this[Has](a)}},{key:Has,value:function value(a){return this.content.has(a)}},{key:"add",value:function add(a){return this[Mapped]?this[Mapped].add(a):this[Add](a)}},{key:Add,value:function value(a){if(void 0===a||!(a instanceof Object))throw new Error("Only objects may be added to Bags.");if(this.type&&!(a instanceof this.type))throw console.error(this.type,a),new Error("Only objects of type ".concat(this.type," may be added to this Bag."));if(a=_Bindable.Bindable.make(a),!this.content.has(a)){var c=new CustomEvent("adding",{detail:{item:a}});if(this.dispatchEvent(c)){var d=toId(this.current++);this.content.set(a,d),this.list[d]=a,this.changeCallback&&this.changeCallback(a,this.meta,b.ITEM_ADDED,d);var e=new CustomEvent("added",{detail:{item:a,id:d}});return this.dispatchEvent(e),this.length=this.size,d}}}},{key:"remove",value:function remove(a){return this[Mapped]?this[Mapped].remove(a):this[Remove](a)}},{key:Remove,value:function value(a){if(void 0===a||!(a instanceof Object))throw new Error("Only objects may be removed from Bags.");if(this.type&&!(a instanceof this.type))throw console.error(this.type,a),new Error("Only objects of type ".concat(this.type," may be removed from this Bag."));if(a=_Bindable.Bindable.make(a),!this.content.has(a))return this.changeCallback&&this.changeCallback(a,this.meta,0,void 0),!1;var c=new CustomEvent("removing",{detail:{item:a}});if(this.dispatchEvent(c)){var d=this.content.get(a);delete this.list[d],this.content["delete"](a),this.changeCallback&&this.changeCallback(a,this.meta,b.ITEM_REMOVED,d);var e=new CustomEvent("removed",{detail:{item:a,id:d}});return this.dispatchEvent(e),this.length=this.size,a}}},{key:"delete",value:function _delete(a){return this[Mapped]?this[Mapped]["delete"](a):void this[Delete](a)}},{key:Delete,value:function value(a){this.remove(a)}},{key:"map",value:function map(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(a){return a},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(a){return a},d=new WeakMap,e=new b;return e[Mapped]=this,this.addEventListener("added",function(b){var f=b.detail.item;if(c(f)&&!d.has(f)){var g=a(f);d.set(f,g),e[Add](g)}}),this.addEventListener("removed",function(a){var b=a.detail.item;if(d.has(b)){var c=d.get(b);d["delete"](b),e[Remove](c)}}),e}},{key:"size",get:function get(){return this.content.size}},{key:"items",value:function items(){return Array.from(this.content.entries()).map(function(a){return a[0]})}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin));exports.Bag=Bag,Object.defineProperty(Bag,"ITEM_ADDED",{configurable:!1,enumerable:!1,writable:!0,value:1}),Object.defineProperty(Bag,"ITEM_REMOVED",{configurable:!1,enumerable:!1,writable:!0,value:-1});
});

require.register("curvature/base/Bindable.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bindable=void 0;function _construct(){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&_setPrototypeOf(f,d.prototype),f},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Ref=Symbol("ref"),Original=Symbol("original"),Deck=Symbol("deck"),Binding=Symbol("binding"),SubBinding=Symbol("subBinding"),BindingAll=Symbol("bindingAll"),IsBindable=Symbol("isBindable"),Wrapping=Symbol("wrapping"),Names=Symbol("Names"),Executing=Symbol("executing"),Stack=Symbol("stack"),ObjSymbol=Symbol("object"),Wrapped=Symbol("wrapped"),Unwrapped=Symbol("unwrapped"),GetProto=Symbol("getProto"),OnGet=Symbol("onGet"),OnAllGet=Symbol("onAllGet"),BindChain=Symbol("bindChain"),Descriptors=Symbol("Descriptors"),Before=Symbol("Before"),After=Symbol("After"),NoGetters=Symbol("NoGetters"),TypedArray=Object.getPrototypeOf(Int8Array),SetIterator=Set.prototype[Symbol.iterator],MapIterator=Map.prototype[Symbol.iterator],win=globalThis,excludedClasses=[win.Node,win.File,win.Map,win.Set,win.WeakMap,win.WeakSet,win.ArrayBuffer,win.ResizeObserver,win.MutationObserver,win.PerformanceObserver,win.IntersectionObserver,win.IDBCursor,win.IDBCursorWithValue,win.IDBDatabase,win.IDBFactory,win.IDBIndex,win.IDBKeyRange,win.IDBObjectStore,win.IDBOpenDBRequest,win.IDBRequest,win.IDBTransaction,win.IDBVersionChangeEvent,win.Event,win.CustomEvent,win.FileSystemFileHandle].filter(function(a){return"function"==typeof a}),Bindable=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"isBindable",value:function isBindable(b){return!!(b&&b[IsBindable])&&b[IsBindable]===a}},{key:"onDeck",value:function onDeck(a,b){return a[Deck][b]||!1}},{key:"ref",value:function ref(a){return a[Ref]||a||!1}},{key:"makeBindable",value:function makeBindable(a){return this.make(a)}},{key:"shuck",value:function shuck(b,c){c=c||new Map;var d={};if(b instanceof TypedArray||b instanceof ArrayBuffer){var e=b.slice(0);return c.set(b,e),e}var f=Object.keys(b);for(var g in f){var h=f[g];if("___"!==h.substring(0,3)){var j=c.get(b[h]);if(j){d[h]=j;continue}if(b[h]===b){c.set(b[h],d),d[h]=d;continue}if(b[h]&&"object"===_typeof(b[h])){var k=b[h];a.isBindable(b[h])&&(k=b[h][Original]),d[h]=this.shuck(k,c)}else d[h]=b[h];c.set(b[h],d[h])}}return a.isBindable(b)&&(delete d.bindTo,delete d.isBound),d}},{key:"make",value:function make(b){var c=this;if(!b||!["function","object"].includes(_typeof(b)))return b;if(b[Ref])return b[Ref];if(b[IsBindable])return b;if(Object.isSealed(b)||Object.isFrozen(b)||!Object.isExtensible(b)||excludedClasses.filter(function(a){return b instanceof a}).length)return b;Object.defineProperty(b,IsBindable,{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(b,Ref,{configurable:!0,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(b,Original,{configurable:!1,enumerable:!1,writable:!1,value:b}),Object.defineProperty(b,Deck,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(b,Binding,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(b,SubBinding,{configurable:!1,enumerable:!1,writable:!1,value:new Map}),Object.defineProperty(b,BindingAll,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(b,Executing,{enumerable:!1,writable:!0}),Object.defineProperty(b,Wrapping,{enumerable:!1,writable:!0}),Object.defineProperty(b,Stack,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(b,Before,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(b,After,{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(b,Wrapped,{configurable:!1,enumerable:!1,writable:!1,value:Object.preventExtensions(new Map)}),Object.defineProperty(b,Unwrapped,{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(b,Descriptors,{configurable:!1,enumerable:!1,writable:!1,value:Object.preventExtensions(new Map)});var d=function bindTo(e){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},h=!1;if(Array.isArray(e)){var j=e.map(function(a){return d(a,f,g)});return function(){return j.forEach(function(a){return a()})}}if(e instanceof Function&&(g=f||{},f=e,h=!0),0<=g.delay&&(f=c.wrapDelayCallback(f,g.delay)),0<=g.throttle&&(f=c.wrapThrottleCallback(f,g.throttle)),0<=g.wait&&(f=c.wrapWaitCallback(f,g.wait)),g.frame&&(f=c.wrapFrameCallback(f,g.frame)),g.idle&&(f=c.wrapIdleCallback(f)),h){var k=b[BindingAll].length;if(b[BindingAll].push(f),!("now"in g)||g.now)for(var l in b)f(b[l],l,b,!1);return function(){delete b[BindingAll][k]}}// let bindIndex = object[Binding][property].length;
if(b[Binding][e]||(b[Binding][e]=new Set),g.children){var m=f;f=function callback(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d[0],h=b[SubBinding].get(m);if(h&&(b[SubBinding]["delete"](m),h()),"object"!==_typeof(f))return void m.apply(void 0,d);var i=a.make(f);a.isBindable(i)&&b[SubBinding].set(m,i.bindTo(function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return m.apply(void 0,d.concat(b))},Object.assign({},g,{children:!1}))),m.apply(void 0,d)}}b[Binding][e].add(f),(!("now"in g)||g.now)&&f(b[e],e,b,!1);var n=function debinder(){var a=b[SubBinding].get(f);a&&(b[SubBinding]["delete"](f),a()),b[Binding][e]&&b[Binding][e].has(f)&&b[Binding][e]["delete"](f)};return g.removeWith&&g.removeWith instanceof View&&g.removeWith.onRemove(function(){return n}),n};Object.defineProperty(b,"bindTo",{configurable:!1,enumerable:!1,writable:!1,value:d});Object.defineProperty(b,BindChain,{configurable:!1,enumerable:!1,writable:!1,value:function value(a,e){var f=a.split("."),g=f.shift(),h=f.slice(0),i=[];return i.push(b.bindTo(g,function(a,b,f,g){var d=h.join(".");return 0===h.length?void e(a,b,f,g):void(void 0===a&&(a=f[b]=c.make({})),i=i.concat(a[BindChain](d,e)))})),function(){return i.forEach(function(a){return a()})}}}),Object.defineProperty(b,"___before",{configurable:!1,enumerable:!1,writable:!1,value:function ___before(a){var c=b[Before].length;b[Before].push(a);var d=!1;return function(){d||(d=!0,delete b[Before][c])}}}),Object.defineProperty(b,"___after",{configurable:!1,enumerable:!1,writable:!1,value:function ___after(a){var c=b[After].length;b[After].push(a);var d=!1;return function(){d||(d=!0,delete b[After][c])}}});Object.defineProperty(b,"isBound",{configurable:!1,enumerable:!1,writable:!1,value:function isBound(){for(var a in b[BindingAll])if(b[BindingAll][a])return!0;for(var c in b[Binding]){var d,e=_createForOfIteratorHelper(b[Binding][c]);try{for(e.s();!(d=e.n()).done;){var f=d.value;if(f)return!0}}catch(a){e.e(a)}finally{e.f()}}return!1}});var e=function _loop(c){b[c]&&b[c]instanceof Object&&!b[c]instanceof Promise&&!excludedClasses.filter(function(a){return b[c]instanceof a}).length&&Object.isExtensible(b[c])&&!Object.isSealed(b[c])&&(b[c]=a.make(b[c]))};for(var f in b)e(f);var g=function set(c,d,e){if(k.has(d)&&k["delete"](d),d===Original)return!0;var f=b[Deck];// if(onDeck[key] !== undefined && onDeck[key] === value)
if(d in f&&f[d]===e)return!0;if(d.slice&&"___"===d.slice(-3))return!0;if(c[d]===e||"number"==typeof e&&isNaN(f[d])&&isNaN(e))return!0;for(var g in e&&e instanceof Object&&Object.isExtensible(b)&&!Object.isSealed(b)&&!excludedClasses.filter(function(a){return b instanceof a}).length&&(e=a.make(e)),f[d]=e,b[BindingAll])b[BindingAll][g]&&b[BindingAll][g](e,d,c,!1);var h=!1;if(d in b[Binding]){var i,j=_createForOfIteratorHelper(b[Binding][d]);try{for(j.s();!(i=j.n()).done;){var l=i.value;!1===l(e,d,c,!1,c[d])&&(h=!0)}}catch(a){j.e(a)}finally{j.f()}}if(delete f[d],!h){var m=Object.getOwnPropertyDescriptor(c,d),n=c instanceof File&&"lastModifiedDate"==d;n||m&&!m.writable||c[d]!==e||(c[d]=e)}var o=Reflect.set(c,d,e);if(Array.isArray(c)&&b[Binding].length)for(var p in b[Binding].length){var q=b[Binding].length[p];q(c.length,"length",c,!1,c.length)}return o},h=function deleteProperty(a,c){var d=b[Deck];if(void 0!==d[c])return!0;if(!(c in a))return!0;if(j.has(c)){var e=j.get(c);if(e&&!e.configurable)return!1;j["delete"](c)}for(var f in d[c]=null,k.has(c)&&k["delete"](c),b[BindingAll])b[BindingAll][f](void 0,c,a,!0,a[c]);if(c in b[Binding]){var g,h=_createForOfIteratorHelper(b[Binding][c]);try{for(h.s();!(g=h.n()).done;){var i=g.value;i(void 0,c,a,!0,a[c])}}catch(a){h.e(a)}finally{h.f()}}return delete d[c],delete a[c],!0},j=b[Descriptors],k=b[Wrapped],l=b[Stack],m=function get(c,d){if(k.has(d))return k.get(d);if(d===Ref||d===Original||"apply"===d||"isBound"===d||"bindTo"===d||"__proto__"===d||"constructor"===d)return b[d];var e;if(j.has(d)?e=j.get(d):(e=Object.getOwnPropertyDescriptor(b,d),j.set(d,e)),e&&!e.configurable&&!e.writable)return b[d];if(OnAllGet in b)return b[OnAllGet](d);if(OnGet in b&&!(d in b))return b[OnGet](d);if(e&&!e.configurable&&!e.writable)return k.set(d,b[d]),b[d];if("function"==typeof b[d]){if(Names in b[d])return b[d];Object.defineProperty(b[Unwrapped],d,{configurable:!1,enumerable:!1,writable:!0,value:b[d]});var f=Object.getPrototypeOf(b),g=f[d]===b[d],h="function"==typeof Promise&&b instanceof Promise||"function"==typeof Map&&b instanceof Map||"function"==typeof Set&&b instanceof Set||"function"==typeof MapIterator&&b.prototype===MapIterator||"function"==typeof SetIterator&&b.prototype===SetIterator||"function"==typeof SetIterator&&b.prototype===SetIterator||"function"==typeof WeakMap&&b instanceof WeakMap||"function"==typeof WeakSet&&b instanceof WeakSet||"function"==typeof Date&&b instanceof Date||"function"==typeof TypedArray&&b instanceof TypedArray||"function"==typeof ArrayBuffer&&b instanceof ArrayBuffer||"function"==typeof EventTarget&&b instanceof EventTarget||"function"==typeof ResizeObserver&&b instanceof ResizeObserver||"function"==typeof MutationObserver&&b instanceof MutationObserver||"function"==typeof PerformanceObserver&&b instanceof PerformanceObserver||"function"==typeof IntersectionObserver&&b instanceof IntersectionObserver||"function"==typeof b[Symbol.iterator]&&"next"===d?b:b[Ref],i=function wrappedMethod(){b[Executing]=d,l.unshift(d);for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];var f,i=_createForOfIteratorHelper(b[Before]);try{for(i.s();!(f=i.n()).done;){var j=f.value;j(b,d,l,b,c)}}catch(a){i.e(a)}finally{i.f()}var k;if(new.target)k=_construct(b[Unwrapped][d],c);else{var m=b[Unwrapped][d];k=g?m.apply(h||b,c):m.apply(void 0,c)}var n,o=_createForOfIteratorHelper(b[After]);try{for(o.s();!(n=o.n()).done;){var p=n.value;p(b,d,l,b,c)}}catch(a){o.e(a)}finally{o.f()}return b[Executing]=null,l.shift(),k};i[Names]=i[Names]||new WeakMap,i[Names].set(b,d),i[OnAllGet]=function(a){var c=i[Names].get(b);return b[c][a]};var m=a.make(i);return k.set(d,m),m}return b[d]},n=function getPrototypeOf(a){return GetProto in b?b[GetProto]:Reflect.getPrototypeOf(a)},o={get:m,set:g,construct:function construct(c,d){var e="constructor";for(var f in c[Before])c[Before][f](c,"constructor",b[Stack],void 0,d);var g=a.make(_construct(c[Original],_toConsumableArray(d)));for(var h in c[After])c[After][h](c,"constructor",b[Stack],g,d);return g},getPrototypeOf:n,deleteProperty:h};return b[NoGetters]&&delete o.get,Object.defineProperty(b,Ref,{configurable:!1,enumerable:!1,writable:!1,value:new Proxy(b,o)}),b[Ref]}},{key:"clearBindings",value:function clearBindings(a){var b=function clearObj(a){return Object.keys(a).map(function(b){return delete a[b]})},c=function maps(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.map(a)}},d=c(b);d(a[Wrapped],a[Binding],a[BindingAll],a[After],a[Before])}},{key:"resolve",value:function resolve(a,b){for(var c,d=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],e=b.split("."),f=e[0];e.length;){if(d&&1===e.length){var g=this.make(a);return[g,e.shift(),f]}c=e.shift(),!(!c in a)&&a[c]&&a[c]instanceof Object||(a[c]={}),a=this.make(a[c])}return[this.make(a),c,f]}},{key:"wrapDelayCallback",value:function wrapDelayCallback(a,b){return function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return setTimeout(function(){return a.apply(void 0,d)},b)}}},{key:"wrapThrottleCallback",value:function wrapThrottleCallback(a,b){var c=this;return this.throttles.set(a,!1),function(){c.throttles.get(a,!0)||(a.apply(void 0,arguments),c.throttles.set(a,!0),setTimeout(function(){c.throttles.set(a,!1)},b))}}},{key:"wrapWaitCallback",value:function wrapWaitCallback(a,b){var c=this;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var g;(g=c.waiters.get(a))&&(c.waiters["delete"](a),clearTimeout(g)),g=setTimeout(function(){return a.apply(void 0,e)},b),c.waiters.set(a,g)}}},{key:"wrapFrameCallback",value:function wrapFrameCallback(a,b){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];requestAnimationFrame(function(){return a.apply(void 0,c)})}}},{key:"wrapIdleCallback",value:function wrapIdleCallback(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];// Compatibility for Safari 08/2020
var e=window.requestIdleCallback||requestAnimationFrame;e(function(){return a.apply(void 0,c)})}}}]),a}();exports.Bindable=Bindable,_defineProperty(Bindable,"waiters",new WeakMap),_defineProperty(Bindable,"throttles",new WeakMap),Object.defineProperty(Bindable,"OnGet",{configurable:!1,enumerable:!1,writable:!1,value:OnGet}),Object.defineProperty(Bindable,"NoGetters",{configurable:!1,enumerable:!1,writable:!1,value:NoGetters}),Object.defineProperty(Bindable,"GetProto",{configurable:!1,enumerable:!1,writable:!1,value:GetProto}),Object.defineProperty(Bindable,"OnAllGet",{configurable:!1,enumerable:!1,writable:!1,value:OnAllGet});
});

require.register("curvature/base/Cache.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cache=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Cache=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"store",value:function store(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"standard",e=0;c&&(e=1e3*c+new Date().getTime()),this.buckets||(this.buckets=new Map),this.buckets.has(d)||this.buckets.set(d,new Map);var f=new CustomEvent("cvCacheStore",{cancelable:!0,detail:{key:a,value:b,expiry:c,bucket:d}});document.dispatchEvent(f)&&this.buckets.get(d).set(a,{value:b,expiration:e})}},{key:"load",value:function load(a){var b=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"standard",d=new CustomEvent("cvCacheLoad",{cancelable:!0,detail:{key:a,defaultvalue:b,bucket:c}});if(!document.dispatchEvent(d))return b;if(this.buckets&&this.buckets.has(c)&&this.buckets.get(c).has(a)){var e=this.buckets.get(c).get(a);// console.log(this.bucket[bucket][key].expiration, (new Date).getTime());
if(0===e.expiration||e.expiration>new Date().getTime())return this.buckets.get(c).get(a).value}return b}}]),a}();exports.Cache=Cache;
});

;require.register("curvature/base/Config.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Config=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var AppConfig={},_require=require;try{AppConfig=_require("/Config").Config||{}}catch(a){!0===globalThis.devMode&&console.error(a)}var Config=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"get",value:function get(a){return this.configs[a]}},{key:"set",value:function set(a,b){return this.configs[a]=b,this}},{key:"dump",value:function dump(){return this.configs}},{key:"init",value:function init(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d in b){var e=b[d];for(var f in"string"==typeof e&&(e=JSON.parse(e)),e){var g=e[f];return this.configs[f]=g}}return this}}]),a}();exports.Config=Config,Object.defineProperty(Config,"configs",{configurable:!1,enumerable:!1,writable:!1,value:AppConfig});
});

require.register("curvature/base/Cookie.js", function(exports, require, module) {
"use strict";var _Bindable=require("./Bindable");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cookie=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c["return"]&&(g=c["return"](),Object(g)!==g))return}finally{if(j)throw e}}return h}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Cookie=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"set",value:function set(a,b){this.jar[a]=b}},{key:"get",value:function get(a){return this.jar[a]}},{key:"delete",value:function _delete(a){delete this.jar[a]}}]),a}();exports.Cookie=Cookie,_defineProperty(Cookie,"jar",_Bindable.Bindable.make({})),"string"==typeof document.cookie&&"data"!==window.location.href.substr(0,4)&&(document.cookie.split(";").map(function(a){var b=a.split("="),c=_slicedToArray(b,2),d=c[0],e=c[1];try{e=JSON.parse(e)}catch(a){e=e}d=d.trim(),Cookie.jar[decodeURIComponent(d)]=e}),Cookie.jar.bindTo(function(a,b,c,e){document.cookie=e?"".concat(encodeURIComponent(b),"=;expires=").concat(new Date(0)):"".concat(encodeURIComponent(b),"=").concat(a)}));
});

;require.register("curvature/base/Dom.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dom=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var traversals=0,Dom=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"mapTags",value:function mapTags(a,b,c,d,e){var f=[],g=!0;d&&(g=!1);for(var h=!1,i=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function acceptNode(a){if(!g)if(a===d)g=!0;else return NodeFilter.FILTER_SKIP;return e&&a===e&&(h=!0),h?NodeFilter.FILTER_SKIP:b?a instanceof Element&&a.matches(b)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}},!1),j=traversals++;i.nextNode();)f.push(c(i.currentNode,i));return f}},{key:"dispatchEvent",value:function dispatchEvent(b,c){b.dispatchEvent(c),a.mapTags(b,!1,function(a){a.dispatchEvent(c)})}}]),a}();exports.Dom=Dom;
});

;require.register("curvature/base/Import.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Import=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Import=/*#__PURE__*/function(){function a(b){if(_classCallCheck(this,a),console.log(this.__proto__.constructor),this.__proto__.constructor.instances[b])return this.__proto__.constructor.instances[b];this.uri=b;var c=document.createElement("script");c.setAttribute("src",this.uri),this.ready=new Promise(function(a,b){c.addEventListener("load",function(){return a(c)}),c.addEventListener("error",function(a){console.error(a),b(a)})}),this.tag=c,this.attached=!1,this.__proto__.constructor.instances[b]=this}return _createClass(a,[{key:"attach",value:function attach(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.attached||(a=a||document.head,a.append(this.tag),this.attached=!0)}}]),a}();exports.Import=Import,Import.instances={};
});

require.register("curvature/base/Mixin.js", function(exports, require, module) {
"use strict";var _Bindable=require("./Bindable");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mixin=void 0;function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Constructor=Symbol("constructor"),MixinList=Symbol("mixinList"),Mixin=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"from",value:function from(b){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=/*#__PURE__*/function(c){function e(){var c;_classCallCheck(this,e);for(var g=arguments.length,h=Array(g),i=0;i<g;i++)h[i]=arguments[i];var j,k=b.constructor?c=f.call.apply(f,[this].concat(h)):null,l=_createForOfIteratorHelper(d);try{for(l.s();!(j=l.n()).done;){var m=j.value;switch(m[a.Constructor]&&m[a.Constructor].apply(_assertThisInitialized(c)),_typeof(m)){case"function":a.mixClass(m,e);break;case"object":a.mixObject(m,_assertThisInitialized(c));}}}catch(a){l.e(a)}finally{l.f()}return _possibleConstructorReturn(c,k)}_inherits(e,c);var f=_createSuper(e);return _createClass(e)}(b);return f}},{key:"make",value:function make(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=c.pop();return a.to.apply(a,[e].concat(c))}},{key:"to",value:function to(a){for(var b={},c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];d.map(function(c){switch(_typeof(c)){case"object":Object.assign(b,Object.getOwnPropertyDescriptors(c));break;case"function":Object.assign(b,Object.getOwnPropertyDescriptors(c.prototype));}delete b.constructor,Object.defineProperties(a.prototype,b)})}},{key:"with",value:function _with(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.from.apply(this,[/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a)}()].concat(b))}},{key:"mixObject",value:function mixObject(a,b){var c,d=_createForOfIteratorHelper(Object.getOwnPropertyNames(a));try{for(d.s();!(c=d.n()).done;){var e=c.value;if("function"==typeof a[e]){b[e]=a[e].bind(b);continue}b[e]=a[e]}}catch(a){d.e(a)}finally{d.f()}var f,g=_createForOfIteratorHelper(Object.getOwnPropertySymbols(a));try{for(g.s();!(f=g.n()).done;){var h=f.value;if("function"==typeof a[h]){b[h]=a[h].bind(b);continue}b[h]=a[h]}}catch(a){g.e(a)}finally{g.f()}}},{key:"mixClass",value:function mixClass(a,b){var c,d=_createForOfIteratorHelper(Object.getOwnPropertyNames(a.prototype));try{for(d.s();!(c=d.n()).done;){var e=c.value;if(!["name","prototype","length"].includes(e)){var f=Object.getOwnPropertyDescriptor(b,e);if(!f||f.writable){if("function"!=typeof a[e]){b.prototype[e]=a.prototype[e];continue}b.prototype[e]=a.prototype[e].bind(b.prototype)}}}}catch(a){d.e(a)}finally{d.f()}var g,h=_createForOfIteratorHelper(Object.getOwnPropertySymbols(a.prototype));try{for(h.s();!(g=h.n()).done;){var i=g.value;if("function"!=typeof a[i]){b.prototype[i]=a.prototype[i];continue}b.prototype[i]=a.prototype[i].bind(b.prototype)}}catch(a){h.e(a)}finally{h.f()}var j,k=_createForOfIteratorHelper(Object.getOwnPropertyNames(a));try{var l=function _loop(){var c=j.value;if(["name","prototype","length"].includes(c))return"continue";var d=Object.getOwnPropertyDescriptor(b,c);if(d&&!d.writable)return"continue";if("function"!=typeof a[c])return b[c]=a[c],"continue";var e=b[c]||!1,f=a[c].bind(b);b[c]=function(){return e&&e.apply(void 0,arguments),f.apply(void 0,arguments)}};for(k.s();!(j=k.n()).done;){var m=l();"continue"===m}}catch(a){k.e(a)}finally{k.f()}var n,o=_createForOfIteratorHelper(Object.getOwnPropertySymbols(a));try{var p=function _loop2(){var c=n.value;if("function"!=typeof a[c])return b.prototype[c]=a[c],"continue";var d=b[c]||!1,e=a[c].bind(b);b[c]=function(){return d&&d.apply(void 0,arguments),e.apply(void 0,arguments)}};for(o.s();!(n=o.n()).done;){var q=p();"continue"===q}}catch(a){o.e(a)}finally{o.f()}}},{key:"mix",value:function mix(a){for(var b=[],c={},d={},e=_Bindable.Bindable.makeBindable(a),f=function _loop3(b){var f,g=Object.getOwnPropertyNames(b.prototype),h=Object.getOwnPropertyNames(b),i=/^(before|after)__(.+)/,j=_createForOfIteratorHelper(h);try{var k=function _loop5(){var d=f.value,g=d.match(i);if(g){switch(g[1]){case"before":e.___before(function(c,f,e,h,i){if(f===g[2]){var a=b[d].bind(h);return a.apply(void 0,_toConsumableArray(i))}});break;case"after":e.___after(function(c,f,e,h,i){if(f===g[2]){var a=b[d].bind(h);return a.apply(void 0,_toConsumableArray(i))}});}return"continue"}return c[d]?"continue":"function"==typeof b[d]?void(c[d]=b[d]):"continue"};for(j.s();!(f=j.n()).done;){var l=k();"continue"===l}}catch(a){j.e(a)}finally{j.f()}var m,n=_createForOfIteratorHelper(g);try{var o=function _loop6(){var c=m.value,f=c.match(i);if(f){switch(f[1]){case"before":e.___before(function(d,g,e,h,i){if(g===f[2]){var a=b.prototype[c].bind(h);return a.apply(void 0,_toConsumableArray(i))}});break;case"after":e.___after(function(d,g,e,h,i){if(g===f[2]){var a=b.prototype[c].bind(h);return a.apply(void 0,_toConsumableArray(i))}});}return"continue"}return d[c]?"continue":"function"==typeof b.prototype[c]?void(d[c]=b.prototype[c]):"continue"};for(n.s();!(m=n.n()).done;){var p=o();"continue"===p}}catch(a){n.e(a)}finally{n.f()}},g=this;g&&g.prototype;g=Object.getPrototypeOf(g))f(g);for(var h in c)a[h]=c[h].bind(a);var i=function _loop4(b){a.prototype[b]=function(){for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];return d[b].apply(this,c)}};for(var j in d)i(j);return e}}]),a}();exports.Mixin=Mixin,Mixin.Constructor=Constructor;
});

require.register("curvature/base/Model.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Model=void 0;var _Cache=require("./Cache"),_Bindable=require("./Bindable"),_Repository=require("./Repository");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Model=/*#__PURE__*/function(){function a(b){_classCallCheck(this,a),this.repository=b}return _createClass(a,[{key:"consume",value:function consume(b){for(var c in b){var d=b[c];if(b[c]instanceof Object&&b[c]["class"]&&b[c].publicId){var e="".concat(b[c]["class"],"::").concat(b[c].publidId),f=_Cache.Cache.load(e,!1,"model-type-repo");d=_Bindable.Bindable.makeBindable(new a(this.repository)),f&&(d=f),d.consume(b[c]),_Cache.Cache.store(e,d,0,"model-type-repo")}this[c]=d}}}]),a}();exports.Model=Model;
});

;require.register("curvature/base/Repository.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Repository=void 0;var _Bindable=require("./Bindable"),_Router=require("./Router"),_Cache=require("./Cache"),_Model=require("./Model"),_Bag=require("./Bag"),_Form=require("../form/Form"),_FormWrapper=require("../form/multiField/FormWrapper");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var objects={},Repository=/*#__PURE__*/function(){function a(b){_classCallCheck(this,a),this.uri=b}return _createClass(a,[{key:"get",value:function get(b){var c=this,d=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},f=this.uri+"/"+b,g=_Cache.Cache.load(f+_Router.Router.queryToString(_Router.Router.queryOver(e),!0),!1,"model-uri-repo");return!d&&g?Promise.resolve(g):a.request(f,e).then(function(a){return c.extractModel(a.body)})}},{key:"page",value:function page(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length?arguments[1]:void 0;return a.request(this.uri,d).then(function(a){var c=[];for(var d in a.body){var e=a.body[d];c.push(b.extractModel(e))}return a.body=c,a})}},{key:"edit",value:function edit(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=this.uri+"/create";// console.log(resourceUri);
return b&&(e=this.uri+"/"+b+"/edit"),c?a.request(e,{api:"json"},c).then(function(a){return a.body}):a.request(e).then(function(a){var b=new _Form.Form(a.meta.form,d);// let model = this.extractModel(response.body);
return new _FormWrapper.FormWrapper(b,e,"POST",d)})}},{key:"extractModel",value:function extractModel(a){var b=_Bindable.Bindable.makeBindable(new _Model.Model(this));b.consume(a);this.uri+"/"+b.publicId;// Cache.store(
// 	resourceUri
// 	, model
// 	, 10
// 	, 'model-uri-repo'
// );
if(b["class"])var c="".concat(b["class"],"::").concat(b.publidId),d=_Cache.Cache.load(c,!1,"model-type-repo");// if(cached)
// {
// 	cached.consume(rawData);
// 	return cached;
// }
// Cache.store(
// 	cacheKey
// 	, model
// 	, 10
// 	, 'model-type-repo'
// );
return b}// static get xhrs(){
// 	return this.xhrs = this.xhrs || [];
// }
}],[{key:"loadPage",value:function loadPage(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return this.request(this.uri,a).then(function(a){return a;// return response.map((skeleton) => new Model(skeleton));
})}},{key:"domCache",value:function domCache(){// console.log(uri, content);
}},{key:"load",value:function load(a){!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return this.objects=this.objects||{},this.objects[this.uri]=this.objects[this.uri]||{},this.objects[this.uri][a]?Promise.resolve(this.objects[this.uri][a]):this.request(this.uri+"/"+a).then(function(){// let model = new Model(response);
// return this.objects[this.uri][id] = model;
})}},{key:"form",value:function form(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,b=this.uri+"/create";return a&&(b=this.uri+"/"+a+"/edit"),this.request(b).then(function(a){return a})}},{key:"clearCache",value:function clearCache(){this.objects&&this.objects[this.uri]&&(this.objects[this.uri]={})}},{key:"encode",value:function encode(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;for(var d in c||(c=new FormData),a){var e=d;b&&(e="".concat(b,"[").concat(e,"]")),a[d]&&"object"!==_typeof(a[d])?c.append(e,a[d]):this.encode(a[d],e,c)}return c}},{key:"onResponse",value:function onResponse(a){return this._onResponse||(this._onResponse=new _Bag.Bag),this._onResponse.add(a)}},{key:"request",value:function request(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,e=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},g="GET",h="",i=null,j={};c&&(j=c),this._onResponse||(this._onResponse=new _Bag.Bag),this.runningRequests||(this.runningRequests={}),j.api=j.api||"json",h=Object.keys(j).map(function(a){return encodeURIComponent(a)+"="+encodeURIComponent(j[a])}).join("&");var k=a;// let postString = '';
if(k=a+"?"+h,!d&&this.runningRequests[k])return this.runningRequests[k];d&&(e=!1,g="POST",i=d instanceof FormData?d:this.encode(d));var l=new XMLHttpRequest;if("responseType"in f&&(l.responseType=f.responseType),!d&&e&&this.cache&&this.cache[k])return Promise.resolve(this.cache[k]);var m="script[data-uri=\""+k+"\"]",n=document.querySelector(m);if(!d&&e&&n){var o=JSON.parse(n.innerText);return Promise.resolve(o)}l.withCredentials=!("withCredentials"in f)||f.withCredentials;var p=document.createElement("a");p.href=k,d||(l.timeout=f.timeout||15e3,this.xhrs[k]=l);var q=new Promise(function(a,c){if(d&&"progressUp"in f&&(l.upload.onprogress=f.progressUp),"progressDown"in f&&(l.onprogress=f.progressDown),l.onreadystatechange=function(){var d,e=200;if(4===l.readyState)if(delete b.xhrs[k],delete b.runningRequests[k],b.cache||(b.cache={}),"application/json"!=l.getResponseHeader("Content-Type")&&"application/json; charset=utf-8"!=l.getResponseHeader("Content-Type")&&"text/json"!=l.getResponseHeader("Content-Type")&&"text/json; charset=utf-8"!=l.getResponseHeader("Content-Type")){var f=b._onResponse.items();for(var g in f)f[g](l,!0);l.status===e?a(l):c(l)}else if(d=JSON.parse(l.responseText),d&&0==d.code){var h=document.querySelector("script[data-uri=\""+k+"\"]"),j=window.prerenderer||navigator.userAgent.match(/prerender/i);j&&(window.prerenderer=window.prerenderer||!0,!h&&(h=document.createElement("script"),h.type="text/json",h.setAttribute("data-hack","application/ld+json-NOT!"),h.setAttribute("data-uri",k),document.head.appendChild(h)),h.innerText=JSON.stringify(d));var m=b._onResponse.items();for(var n in m)m[n](d,!0);d._http=l.status,l.status===e?a(d):c(d)}else{var o=b._onResponse.items();for(var p in o)o[p](d,!0);c(d)}},l.open(g,k,!0),f.headers)for(var e in f.headers)l.setRequestHeader(e,f.headers[e]);l.send(i)});return d||(this.runningRequests[k]=q),q}},{key:"cancel",value:function cancel(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:/^.$/;for(var b in this.xhrs)this.xhrs[b]&&b.match(a)&&(this.xhrs[b].abort(),delete this.xhrs[b]);// this.xhrs = [];
}}]),a}();exports.Repository=Repository,Repository.xhrs=[];
});

require.register("curvature/base/Router.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Router=void 0;var _globalThis$CustomEve,_View=require("./View"),_Cache=require("./Cache"),_Config=require("./Config"),_Routes=require("./Routes");function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c["return"]&&(g=c["return"](),Object(g)!==g))return}finally{if(j)throw e}}return h}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var NotFoundError=Symbol("NotFound"),InternalError=Symbol("Internal");globalThis.CustomEvent=null!==(_globalThis$CustomEve=globalThis.CustomEvent)&&void 0!==_globalThis$CustomEve?_globalThis$CustomEve:globalThis.Event;var Router=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"wait",value:function wait(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"DOMContentLoaded",d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;d.addEventListener(c,function(){b.listen(a)})}},{key:"listen",value:function(a){var b=this,c=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.listener=a||this.listener,this.routes=c||a.routes,Object.assign(this.query,this.queryOver({}));var d=function(c){c.preventDefault(),c.state&&"routedId"in c.state?(c.state.routedId<=b.routeCount?(b.history.splice(c.state.routedId),b.routeCount=c.state.routedId):c.state.routedId>b.routeCount&&(b.history.push(c.state.prev),b.routeCount=c.state.routedId),b.state=c.state):null!==b.prevPath&&b.prevPath!==location.pathname&&b.history.push(b.prevPath),"null"===location.origin?b.match(b.nextPath,a):b.match(location.pathname,a)};window.addEventListener("cvUrlChanged",d),window.addEventListener("popstate",d);var e="null"!==location.origin&&location.pathname+location.search;location.origin&&location.hash&&(e+=location.hash);var f={routedId:this.routeCount,url:location.pathname,prev:this.prevPath};"null"!==location.origin&&history.replaceState(f,null,location.pathname),this.go(!1===e?"/":e)}},{key:"go",value:function go(a){var b=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],c=_Config.Config.get("title");c&&(document.title=c);var d={routedId:this.routeCount,prev:this.prevPath,url:location.pathname};-1===b?this.match(a,this.listener,!0):"null"===location.origin?this.nextPath=a:2===b&&location.pathname!==a?history.replaceState(d,null,a):location.pathname!==a&&history.pushState(d,null,a),(!b||0>b)&&(!1===b&&(this.path=null),!b&&("#"===a.substring(0,1)?window.dispatchEvent(new HashChangeEvent("hashchange")):window.dispatchEvent(new CustomEvent("cvUrlChanged")))),this.prevPath=a}},{key:"processRoute",value:function processRoute(a,b,c){var d=!1;return d="function"==typeof a[b]?a[b].prototype instanceof _View.View?new a[b](c):a[b](c):a[b],d}},{key:"handleError",value:function handleError(a,b,c,d,e,f,g,h){console.error(a),"undefined"!=typeof document&&document.dispatchEvent(new CustomEvent("cvRouteError",{detail:{error:a,path:f,prev:g,view:e,routes:b,selected:c}}));var i=globalThis.devMode?"Unexpected error: "+(a+""):"Unexpected error.";b[InternalError]&&(d[InternalError]=a,i=this.processRoute(b,InternalError,d)),this.update(e,f,i,b,c,d,h)}},{key:"match",value:function match(a,b){var c=this,d=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],e=null,f=!1;if(!0===d&&(f=d),d&&"object"===_typeof(d)&&(f=d.forceRefresh,e=d.event),"undefined"==typeof document||this.path!==a||f){var g="http://example.com";"undefined"!=typeof document&&(g="null"===location.origin?g:location.origin,this.queryString=location.search);var h=new URL(a,g);a=this.path=h.pathname,"undefined"==typeof document&&(this.queryString=h.search);var k=this.prevPath,l=b&&b.args?b.args.content:null,m=this.routes||b&&b.routes||_Routes.Routes.dump(),n=new URLSearchParams(this.queryString);for(var o in e&&e.request&&(this.request=e.request),Object.keys(this.query))delete this.query[o];var p,q=_createForOfIteratorHelper(n);try{for(q.s();!(p=q.n()).done;){var r=_slicedToArray(p.value,2),s=r[0],t=r[1];this.query[s]=t}}catch(a){q.e(a)}finally{q.f()}var u={},v=!1,w="";for(var x in"/"===a.substring(0,1)&&(a=a.substring(1)),a=a.split("/"),this.query)u[x]=this.query[x];L1:for(var y in m){var z=y.split("/");if(!(z.length<a.length&&"*"!==z[z.length-1])){L2:for(var A in z)if("%"==z[A].substr(0,1)){var B=null,C=/^%(\w+)\??/.exec(z[A]);if(C&&C[1]&&(B=C[1]),!B)throw new Error("".concat(z[A]," is not a valid argument segment in route \"").concat(y,"\""));if(!!a[A])u[B]=a[A];else if("?"==z[A].substr(z[A].length-1,1))u[B]="";else continue L1}else if("*"!==z[A]&&a[A]!==z[A])continue L1;v=y,w=m[y],"*"===z[z.length-1]&&(u.pathparts=a.slice(z.length-1));break}}var D=new CustomEvent("cvRouteStart",{cancelable:!0,detail:{path:a,prev:k,root:b,selected:v,routes:m}});if("undefined"==typeof document||document.dispatchEvent(D)){if(!f&&b&&l&&w instanceof Object&&l instanceof w&&!(w instanceof Promise)&&l.update(u))return b.args.content=l,!0;v in m||(m[v]=m[NotFoundError]);try{return w=this.processRoute(m,v,u),!1===w&&(w=this.processRoute(m,NotFoundError,u)),w instanceof Promise||(w=Promise.resolve(w)),"undefined"==typeof document?w:w.then(function(d){c.update(b,a,d,m,v,u,f)})["catch"](function(d){c.handleError(d,m,v,u,b,a,k,f)})}catch(c){this.handleError(c,m,v,u,b,a,k,f)}}}}},{key:"update",value:function update(a,b,c,d,e,f,g){if(a){var h=this.prevPath,i=new CustomEvent("cvRoute",{cancelable:!0,detail:{result:c,path:b,prev:h,view:a,routes:d,selected:e}});!1!==c&&(a.args.content instanceof _View.View&&(a.args.content.pause(!0),a.args.content.remove()),document.dispatchEvent(i)&&(a.args.content=c),c instanceof _View.View&&(c.pause(!1),c.update(f,g)));var j=new CustomEvent("cvRouteEnd",{cancelable:!0,detail:{result:c,path:b,prev:h,view:a,routes:d,selected:e}});document.dispatchEvent(j)}}},{key:"queryOver",value:function queryOver(){var a,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=new URLSearchParams(location.search),d={},e={},f=_createForOfIteratorHelper(c);try{for(f.s();!(a=f.n()).done;){var g=a.value;e[g[0]]=g[1]}}catch(a){f.e(a)}finally{f.f()}return d=Object.assign(d,e,b),delete d.api,d;// for(let i in query)
// {
// 	finalArgs[i] = query[i];
// }
// for(let i in args)
// {
// 	finalArgs[i] = args[i];
// }
}},{key:"queryToString",value:function queryToString(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],c=[],d=a;for(var e in b||(d=this.queryOver(a)),d)""!==d[e]&&c.push(e+"="+encodeURIComponent(d[e]));return c.join("&")}},{key:"setQuery",value:function setQuery(a,b,c){var d=this.queryOver();d[a]=b,void 0===b&&delete d[a];var e=this.queryToString(d,!0);this.go(location.pathname+(e?"?"+e:"?"),c)}}]),a}();exports.Router=Router,Object.defineProperty(Router,"query",{configurable:!1,enumerable:!1,writable:!1,value:{}}),Object.defineProperty(Router,"history",{configurable:!1,enumerable:!1,writable:!1,value:[]}),Object.defineProperty(Router,"routeCount",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(Router,"prevPath",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(Router,"queryString",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(Router,"InternalError",{configurable:!1,enumerable:!1,writable:!1,value:InternalError}),Object.defineProperty(Router,"NotFoundError",{configurable:!1,enumerable:!1,writable:!1,value:NotFoundError});
});

require.register("curvature/base/Routes.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Routes=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var AppRoutes={},_require=require,imported=!1,runImport=function(){if(!imported){try{Object.assign(AppRoutes,_require("Routes").Routes||{})}catch(a){!0===globalThis.devMode&&console.warn(a)}imported=!0}},Routes=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"get",value:function get(a){return runImport(),this.routes[a]}},{key:"dump",value:function dump(){return runImport(),this.routes}}]),a}();exports.Routes=Routes,Object.defineProperty(Routes,"routes",{configurable:!1,enumerable:!1,writable:!1,value:AppRoutes});
});

require.register("curvature/base/RuleSet.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuleSet=void 0;var _Dom=require("./Dom"),_Tag=require("./Tag"),_View=require("./View");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c["return"]&&(g=c["return"](),Object(g)!==g))return}finally{if(j)throw e}}return h}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var RuleSet=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"add",value:function add(a,b){return this.rules=this.rules||{},this.rules[a]=this.rules[a]||[],this.rules[a].push(b),this}},{key:"apply",value:function apply(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;for(var d in a.apply(b,c),this.rules)for(var e in this.rules[d]){var f,g=this.rules[d][e],h=a.wrap(b,g,c),j=b.querySelectorAll(d),k=_createForOfIteratorHelper(j);try{for(k.s();!(f=k.n()).done;){var l=f.value;h(l)}}catch(a){k.e(a)}finally{k.f()}}}},{key:"purge",value:function purge(){if(this.rules)for(var a=0,b=Object.entries(this.rules);a<b.length;a++){var c=_slicedToArray(b[a],2),d=c[0],e=c[1];if(this.rules[d])for(var f in this.rules[d])delete this.rules[d][f]}}}],[{key:"add",value:function add(a,b){return this.globalRules=this.globalRules||{},this.globalRules[a]=this.globalRules[a]||[],this.globalRules[a].push(b),this}},{key:"apply",value:function apply(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;for(var c in this.globalRules)for(var d in this.globalRules[c]){var e,f=this.globalRules[c][d],g=this.wrap(a,f,b),h=a.querySelectorAll(c),j=_createForOfIteratorHelper(h);try{for(j.s();!(e=j.n()).done;){var k=e.value;g(k)}}catch(a){j.e(a)}finally{j.f()}}}},{key:"wait",value:function wait(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"DOMContentLoaded",c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,d=function(b,c){return function(){return c.removeEventListener(b,d),a.apply()}}(b,c);c.addEventListener(b,d)}},{key:"wrap",value:function wrap(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=b;return(b instanceof _View.View||b&&b.prototype&&b.prototype instanceof _View.View)&&(d=function(){return b}),function(a){if("undefined"==typeof a.___cvApplied___&&Object.defineProperty(a,"___cvApplied___",{enumerable:!1,writable:!1,value:new WeakSet}),!a.___cvApplied___.has(b)){var e,f;c&&(e=f=c,c.viewList&&(f=c.viewList.parent));var g=new _Tag.Tag(a,f,null,void 0,e),h=g.element.parentNode,i=g.element.nextSibling,j=d(g);if(!1!==j&&a.___cvApplied___.add(b),j instanceof HTMLElement&&(j=new _Tag.Tag(j)),j instanceof _Tag.Tag){if(!j.element.contains(g.element)){for(;g.element.firstChild;)j.element.appendChild(g.element.firstChild);g.remove()}i?h.insertBefore(j.element,i):h.appendChild(j.element)}j&&j.prototype&&j.prototype instanceof _View.View&&(j=new j({},c)),j instanceof _View.View&&(c&&(c.cleanup.push(function(a){return function(){a.remove()}}(j)),c.cleanup.push(c.args.bindTo(function(a,b,c){c[b]=a,j.args[b]=a})),c.cleanup.push(j.args.bindTo(function(a,b,d){d[b]=a,c.args[b]=a}))),g.clear(),j.render(g.element))}}}}]),a}();exports.RuleSet=RuleSet;
});

;require.register("curvature/base/SetMap.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SetMap=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _construct(){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&_setPrototypeOf(f,d.prototype),f},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var SetMap=/*#__PURE__*/function(){function a(){_classCallCheck(this,a),_defineProperty(this,"_map",new Map)}return _createClass(a,[{key:"has",value:function has(a){return this._map.has(a)}},{key:"get",value:function get(a){return this._map.get(a)}},{key:"getOne",value:function getOne(a){var b,c=this.get(a),d=_createForOfIteratorHelper(c);try{for(d.s();!(b=d.n()).done;){var e=b.value;return e}}catch(a){d.e(a)}finally{d.f()}}},{key:"add",value:function add(a,b){var c=this._map.get(a);return c||this._map.set(a,c=new Set),c.add(b)}},{key:"remove",value:function remove(a,b){var c=this._map.get(a);if(c){var d=c["delete"](b);return c.size||this._map["delete"](a),d}}},{key:"values",value:function values(){return _construct(Set,_toConsumableArray(_toConsumableArray(this._map.values()).map(function(a){return _toConsumableArray(a.values())})))}}]),a}();exports.SetMap=SetMap;
});

;require.register("curvature/base/Tag.js", function(exports, require, module) {
"use strict";var _Bindable=require("./Bindable");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tag=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var CurrentStyle=Symbol("CurrentStyle"),styler=function(a){if(this.node)for(var b in a){var c=a[b]+"";this[CurrentStyle].has(b)&&this[CurrentStyle].get(b)===a[b]||("-"===b[0]?this.node.style.setProperty(b,c):this.node.style[b]=c,void 0===a[b]?this[CurrentStyle]["delete"](b):this[CurrentStyle].set(b,a[b]))}},getter=function(a){var b=this;return"function"==typeof this[a]?this[a]:this.node&&"function"==typeof this.node[a]?function(){var c;return(c=b.node)[a].apply(c,arguments)}:"style"===a?this.proxy.style:this.node&&a in this.node?this.node[a]:this[a]},Tag=/*#__PURE__*/function(){function a(b,c,d,e,f){var g=this;if(_classCallCheck(this,a),"string"==typeof b){var h=document.createRange().createContextualFragment(b);b=h.firstChild}this.element=_Bindable.Bindable.makeBindable(b),this.node=this.element,this.parent=c,this.direct=f,this.ref=d,this.index=e,this.cleanup=[],this[_Bindable.Bindable.OnAllGet]=getter.bind(this),this[CurrentStyle]=new Map;var i=_Bindable.Bindable.make(styler.bind(this));return Object.defineProperty(this,"style",{value:i}),this.proxy=_Bindable.Bindable.make(this),this.proxy.style.bindTo(function(a,b,c,e){g[CurrentStyle].has(b)&&g[CurrentStyle].get(b)===a||(g.node.style[b]=a,e||void 0===a?g[CurrentStyle]["delete"](b):g[CurrentStyle].set(b,a))}),this.proxy.bindTo(function(a,c){if("index"!==c)return c in b&&b[c]!==a&&(b[c]=a),!1}),this.proxy}return _createClass(a,[{key:"attr",value:function attr(a){for(var b in a)void 0===a[b]?this.node.removeAttribute(b):null===a[b]?this.node.setAttribute(b,""):this.node.setAttribute(b,a[b]);return this}},{key:"remove",value:function remove(){this.node&&this.node.remove(),_Bindable.Bindable.clearBindings(this);for(var a;a=this.cleanup.shift();)a();if(this.clear(),!!this.node){var b=new Event("cvDomDetached");this.node.dispatchEvent(b),this.node=this.element=this.ref=this.parent=void 0}}},{key:"clear",value:function clear(){if(this.node)for(var a=new Event("cvDomDetached");this.node.firstChild;)this.node.firstChild.dispatchEvent(a),this.node.removeChild(this.node.firstChild)}},{key:"pause",value:function pause(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},{key:"listen",value:function listen(a,b,c){var d=this.node;d.addEventListener(a,b,c);var e=function(){d.removeEventListener(a,b,c)},f=function(){e(),e=function(){return console.warn("Already removed!")}};return this.parent.onRemove(function(){return f()}),f}}]),a}();exports.Tag=Tag;
});

;require.register("curvature/base/Theme.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Theme=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c["return"]&&(g=c["return"](),Object(g)!==g))return}finally{if(j)throw e}}return h}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var ThemeList=/*#__PURE__*/function(){function a(b){var c;_classCallCheck(this,a),_defineProperty(this,"themes",[]),(c=this.themes).push.apply(c,_toConsumableArray(b))}return _createClass(a,[{key:"getTemplate",value:function getTemplate(a){for(var b in this.themes){var c=this.themes[b].getTemplate(a);if(c)return c}}},{key:"getView",value:function getView(a){for(var b in this.themes){var c=this.themes[b].getView(a);if(c)return c}}}]),a}(),Theme=/*#__PURE__*/function(){function a(b){_classCallCheck(this,a),this.key=b,this.viewMap=new Map,this.templateMap=new Map,this.fallbacks=[]}return _createClass(a,[{key:"setFallback",value:function setFallback(){var a;return(a=this.fallbacks).push.apply(a,arguments),this}},{key:"setView",value:function setView(a,b){return this.viewMap.set(a,b),this}},{key:"getView",value:function getView(a){var b=this.resolve(a,"viewMap");if(!b)return null;var c=new b(a);return c}},{key:"setTemplate",value:function setTemplate(a,b){return this.templateMap.set(a,b),this}},{key:"getTemplate",value:function getTemplate(a){return this.resolve(a,"templateMap")}},{key:"resolve",value:function resolve(a,b){a.___object___&&a.isBound&&(a=a.___object___);var c=a.__proto__.constructor,d=this[b];if(d.has(c,a))return d.get(c);var e,f=null,g=_createForOfIteratorHelper(d);try{for(g.s();!(e=g.n()).done;){var h=_slicedToArray(e.value,2),i=h[0],j=h[1];a instanceof i&&(f=j)}}catch(a){g.e(a)}finally{g.f()}if(!f){var k,l=_createForOfIteratorHelper(this.fallbacks);try{for(l.s();!(k=l.n()).done;){var m=k.value;if(f=m.resolve(a,b))return f}}catch(a){l.e(a)}finally{l.f()}}return f&&d.set(c,f),f}}],[{key:"get",value:function get(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(1>=b.length){var d=(b[0]||"")+"";return this.instances[d]||(this.instances[d]=new this(d)),this.instances[d]}var e=[];for(var f in b)e.push(this.get(b[f]));return new ThemeList(e)}}]),a}();exports.Theme=Theme,_defineProperty(Theme,"instances",{});
});

;require.register("curvature/base/Uuid.js", function(exports, require, module) {
"use strict";var _Symbol$toPrimitive;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Uuid=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}_Symbol$toPrimitive=Symbol.toPrimitive;var Uuid=/*#__PURE__*/function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4;if(_classCallCheck(this,a),_defineProperty(this,"uuid",null),_defineProperty(this,"version",4),b){if(!b||"string"!=typeof b&&!(b instanceof a)||!b.match(/[0-9A-Fa-f]{8}(-[0-9A-Fa-f]{4}){3}-[0-9A-Fa-f]{12}/))throw new Error("Invalid input for Uuid: \"".concat(b,"\""));this.version=c,this.uuid=b}else this.uuid="function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)});Object.freeze(this)}return _createClass(a,[{key:_Symbol$toPrimitive,value:function value(){return this.toString()}},{key:"toString",value:function toString(){return this.uuid}},{key:"toJson",value:function toJson(){return{version:this.version,uuid:this.uuid}}}]),a}();exports.Uuid=Uuid;
});

;require.register("curvature/base/View.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.View=void 0;var _Bindable=require("./Bindable"),_ViewList=require("./ViewList"),_Router=require("./Router"),_Uuid=require("./Uuid"),_Dom=require("./Dom"),_Tag=require("./Tag"),_Bag=require("./Bag"),_RuleSet=require("./RuleSet"),_Mixin=require("./Mixin"),_PromiseMixin=require("../mixin/PromiseMixin"),_EventTargetMixin=require("../mixin/EventTargetMixin");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c["return"]&&(g=c["return"](),Object(g)!==g))return}finally{if(j)throw e}}return h}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var dontParse=Symbol("dontParse"),expandBind=Symbol("expandBind"),uuid=Symbol("uuid"),moveIndex=0,View=/*#__PURE__*/function(a){function b(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,b),a=c.call(this,d,e),a[_EventTargetMixin.EventTargetMixin.EventTargetParent]=e,Object.defineProperty(_assertThisInitialized(a),"args",{value:_Bindable.Bindable.make(d)}),Object.defineProperty(_assertThisInitialized(a),uuid,{value:a.constructor.uuid()}),Object.defineProperty(_assertThisInitialized(a),"nodesAttached",{value:new _Bag.Bag(function(){})}),Object.defineProperty(_assertThisInitialized(a),"nodesDetached",{value:new _Bag.Bag(function(){})}),Object.defineProperty(_assertThisInitialized(a),"_onRemove",{value:new _Bag.Bag(function(){})}),Object.defineProperty(_assertThisInitialized(a),"cleanup",{value:[]}),Object.defineProperty(_assertThisInitialized(a),"parent",{value:e}),Object.defineProperty(_assertThisInitialized(a),"views",{value:new Map}),Object.defineProperty(_assertThisInitialized(a),"viewLists",{value:new Map}),Object.defineProperty(_assertThisInitialized(a),"withViews",{value:new Map}),Object.defineProperty(_assertThisInitialized(a),"tags",{value:_Bindable.Bindable.make({})}),Object.defineProperty(_assertThisInitialized(a),"nodes",{value:_Bindable.Bindable.make([])}),Object.defineProperty(_assertThisInitialized(a),"timeouts",{value:new Map}),Object.defineProperty(_assertThisInitialized(a),"intervals",{value:[]}),Object.defineProperty(_assertThisInitialized(a),"frames",{value:[]}),Object.defineProperty(_assertThisInitialized(a),"ruleSet",{value:new _RuleSet.RuleSet}),Object.defineProperty(_assertThisInitialized(a),"preRuleSet",{value:new _RuleSet.RuleSet}),Object.defineProperty(_assertThisInitialized(a),"subBindings",{value:{}}),Object.defineProperty(_assertThisInitialized(a),"templates",{value:{}}),Object.defineProperty(_assertThisInitialized(a),"eventCleanup",{value:[]}),Object.defineProperty(_assertThisInitialized(a),"unpauseCallbacks",{value:new Map}),Object.defineProperty(_assertThisInitialized(a),"interpolateRegex",{value:/(\[\[((?:\$+)?[\w\.\|-]+)\]\])/g}),Object.defineProperty(_assertThisInitialized(a),"rendered",{value:new Promise(function(b){return Object.defineProperty(_assertThisInitialized(a),"renderComplete",{value:b})})}),a.onRemove(function(){a[_EventTargetMixin.EventTargetMixin.Parent]&&(a[_EventTargetMixin.EventTargetMixin.Parent]=null)}),a.controller=_assertThisInitialized(a),a.template="",a.firstNode=null,a.lastNode=null,a.viewList=null,a.mainView=null,a.preserve=!1,a.removed=!1,a.loaded=Promise.resolve(_assertThisInitialized(a)),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"_id",get:function get(){return this[uuid]}},{key:"onFrame",value:function onFrame(a){var b=this,d=!1,e=function(){d=!0},f=function(){b.removed||d||(!b.paused&&a(Date.now()),requestAnimationFrame(f))};return requestAnimationFrame(function(){return f(Date.now())}),this.frames.push(e),e}},{key:"onNextFrame",value:function onNextFrame(a){return requestAnimationFrame(function(){return a(Date.now())})}},{key:"onIdle",value:function onIdle(a){return requestIdleCallback(function(){return a(Date.now())})}},{key:"onTimeout",value:function onTimeout(a,b){var c=this,d={timeout:null,callback:null,time:a,fired:!1,created:new Date().getTime(),paused:!1},e=function(){b(),d.fired=!0,c.timeouts["delete"](d.timeout)},f=setTimeout(e,a);return d.callback=e,d.timeout=f,this.timeouts.set(d.timeout,d),f}},{key:"clearTimeout",value:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(){var a,b=_createForOfIteratorHelper(this.timeouts);try{for(b.s();!(a=b.n()).done;){var c=_slicedToArray(a.value,2),d=c[0],e=c[1];clearTimeout(e.timeout),this.timeouts["delete"](e.timeout)}}catch(a){b.e(a)}finally{b.f()}})},{key:"onInterval",value:function onInterval(a,b){var c=setInterval(b,a);return this.intervals.push({timeout:c,callback:b,time:a,paused:!1}),c}},{key:"clearInterval",value:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){for(var b in this.intervals)a===this.intervals[b].timeout&&(clearInterval(this.intervals[b].timeout),delete this.intervals[b])})},{key:"pause",value:function pause(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===a&&(this.paused=!this.paused),this.paused=a,this.paused){var b,c=_createForOfIteratorHelper(this.timeouts);try{for(c.s();!(b=c.n()).done;){var d=_slicedToArray(b.value,2),e=d[0],f=d[1];if(f.fired){this.timeouts["delete"](f.timeout);continue}clearTimeout(f.timeout),f.paused=!0,f.time=Math.max(0,f.time-(Date.now()-f.created))}}catch(a){c.e(a)}finally{c.f()}for(var g in this.intervals)clearInterval(this.intervals[g].timeout)}else{var h,k=_createForOfIteratorHelper(this.timeouts);try{for(k.s();!(h=k.n()).done;){var l=_slicedToArray(h.value,2),m=l[0],n=l[1];if(n.paused){if(n.fired){this.timeouts["delete"](n.timeout);continue}n.timeout=setTimeout(n.callback,n.time),n.paused=!1}}}catch(a){k.e(a)}finally{k.f()}for(var o in this.intervals)this.intervals[o].timeout.paused&&(this.intervals[o].timeout.paused=!1,this.intervals[o].timeout=setInterval(this.intervals[o].callback,this.intervals[o].time));var p,q=_createForOfIteratorHelper(this.unpauseCallbacks);try{for(q.s();!(p=q.n()).done;){var r=_slicedToArray(p.value,2),s=r[1];s()}}catch(a){q.e(a)}finally{q.f()}this.unpauseCallbacks.clear()}var t,u=_createForOfIteratorHelper(this.viewLists);try{for(u.s();!(t=u.n()).done;){var v=_slicedToArray(t.value,2),w=v[0],x=v[1];x.pause(!!a)}}catch(a){u.e(a)}finally{u.f()}for(var y in this.tags){if(Array.isArray(this.tags[y])){for(var z in this.tags[y])this.tags[y][z].pause(!!a);continue}this.tags[y].pause(!!a)}}},{key:"render",value:function render(){var a,c=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(d instanceof b&&(d=d.firstNode.parentNode),e instanceof b&&(e=e.firstNode),this.firstNode)return this.reRender(d,e);this.dispatchEvent(new CustomEvent("render"));var f=this.template instanceof DocumentFragment?this.template.cloneNode(!0):b.templates.has(this.template),g=f?this.template instanceof DocumentFragment?f:b.templates.get(this.template).cloneNode(!0):document.createRange().createContextualFragment(this.template);if(f||this.template instanceof DocumentFragment||b.templates.set(this.template,g.cloneNode(!0)),this.mainView||this.preRuleSet.apply(g,this),this.mapTags(g),this.mainView||this.ruleSet.apply(g,this),!0===window.devMode?(this.firstNode=document.createComment("Template ".concat(this._id," Start")),this.lastNode=document.createComment("Template ".concat(this._id," End"))):(this.firstNode=document.createTextNode(""),this.lastNode=document.createTextNode("")),(a=this.nodes).push.apply(a,[this.firstNode].concat(_toConsumableArray(Array.from(g.childNodes)),[this.lastNode])),this.postRender(d),this.dispatchEvent(new CustomEvent("rendered")),!!this.dispatchAttach()){if(d){var h=d.getRootNode();if(e?(d.insertBefore(this.firstNode,e),d.insertBefore(this.lastNode,e)):(d.appendChild(this.firstNode),d.appendChild(this.lastNode)),d.insertBefore(g,this.lastNode),moveIndex++,h.isConnected)this.attached(h,d),this.dispatchAttached(h,d);else{var i=function(a){a.target.isConnected&&(c.attached(h,d),c.dispatchAttached(h,d),d.removeEventListener("cvDomAttached",i))};d.addEventListener("cvDomAttached",i)}}return this.renderComplete(this.nodes),this.nodes}}},{key:"dispatchAttach",value:function dispatchAttach(){return this.dispatchEvent(new CustomEvent("attach",{cancelable:!0,target:this}))}},{key:"dispatchAttached",value:function dispatchAttached(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;this.dispatchEvent(new CustomEvent("attached",{detail:{view:c||this,node:b,root:a,mainView:this}})),this.dispatchDomAttached(c);var d,e=_createForOfIteratorHelper(this.nodesAttached.items());try{for(e.s();!(d=e.n()).done;){var f=d.value;f(a,b)}}catch(a){e.e(a)}finally{e.f()}}},{key:"dispatchDomAttached",value:function dispatchDomAttached(a){var b=this;this.nodes.filter(function(a){return a.nodeType!==Node.COMMENT_NODE}).forEach(function(c){c.matches&&(_Dom.Dom.mapTags(c,!1,function(c){c.matches&&c.dispatchEvent(new CustomEvent("cvDomAttached",{target:c,detail:{view:a||b,mainView:b}}))}),c.dispatchEvent(new CustomEvent("cvDomAttached",{target:c,detail:{view:a||b,mainView:b}})))})}},{key:"reRender",value:function reRender(a,b){var c=this.dispatchEvent(new CustomEvent("reRender"),{cancelable:!0,target:this});if(c){var d=new DocumentFragment;if(this.firstNode.isConnected){var e=this.nodesDetached.items();for(var f in e)e[f]()}if(d.append.apply(d,_toConsumableArray(this.nodes)),a){b?(a.insertBefore(this.firstNode,b),a.insertBefore(this.lastNode,b)):(a.appendChild(this.firstNode),a.appendChild(this.lastNode)),a.insertBefore(d,this.lastNode),this.dispatchEvent(new CustomEvent("reRendered"),{cancelable:!0,target:this});var g=a.getRootNode();g.isConnected&&(this.attached(g,a),this.dispatchAttached(g,a))}return this.nodes}}},{key:"mapTags",value:function mapTags(a){var b=this;_Dom.Dom.mapTags(a,!1,function(a,c){a[dontParse]||(a.matches?(a=b.mapInterpolatableTag(a),a=a.matches("[cv-template]")&&b.mapTemplateTag(a)||a,a=a.matches("[cv-slot]")&&b.mapSlotTag(a)||a,a=a.matches("[cv-prerender]")&&b.mapPrendererTag(a)||a,a=a.matches("[cv-link]")&&b.mapLinkTag(a)||a,a=a.matches("[cv-attr]")&&b.mapAttrTag(a)||a,a=a.matches("[cv-expand]")&&b.mapExpandableTag(a)||a,a=a.matches("[cv-ref]")&&b.mapRefTag(a)||a,a=a.matches("[cv-on]")&&b.mapOnTag(a)||a,a=a.matches("[cv-each]")&&b.mapEachTag(a)||a,a=a.matches("[cv-bind]")&&b.mapBindTag(a)||a,a=a.matches("[cv-with]")&&b.mapWithTag(a)||a,a=a.matches("[cv-if]")&&b.mapIfTag(a)||a,a=a.matches("[cv-view]")&&b.mapViewTag(a)||a):a=b.mapInterpolatableTag(a),a!==c.currentNode&&(c.currentNode=a))})}},{key:"mapExpandableTag",value:function mapExpandableTag(a){/*/
		const tagCompiler = this.compileExpandableTag(tag);

		const newTag = tagCompiler(this);

		tag.replaceWith(newTag);

		return newTag;
		/*/var b=a[expandBind];b&&(b(),a[expandBind]=!1);var c=_Bindable.Bindable.resolve(this.args,a.getAttribute("cv-expand"),!0),d=_slicedToArray(c,2),e=d[0],f=d[1];// let expandProperty = tag.getAttribute('cv-expand');
// let expandArg = Bindable.makeBindable(
// 	this.args[expandProperty] || {}
// );
// tag.removeAttribute('cv-expand');
// for(let i in expandArg)
// {
// 	if(i === 'name' || i === 'type')
// 	{
// 		continue;
// 	}
// 	let debind = expandArg.bindTo(i, ((tag,i)=>(v)=>{
// 		tag.setAttribute(i, v);
// 	})(tag,i));
// 	this.onRemove(()=>{
// 		debind();
// 		if(expandArg.isBound())
// 		{
// 			Bindable.clearBindings(expandArg);
// 		}
// 	});
// }
return a.removeAttribute("cv-expand"),e[f]||(e[f]={}),e[f]=_Bindable.Bindable.make(e[f]),this.onRemove(a[expandBind]=e[f].bindTo(function(b,c,e,f){return f||void 0===b?void a.removeAttribute(c,b):null===b?void a.setAttribute(c,""):void a.setAttribute(c,b)})),a;//*/
}},{key:"compileExpandableTag",value:function compileExpandableTag(a){return function(b){var c=a.cloneNode(!0),d=c.getAttribute("cv-expand"),e=_Bindable.Bindable.make(b.args[d]||{});c.removeAttribute("cv-expand");var f=function _loop(){if("name"===g||"type"===g)return"continue";var a=e.bindTo(g,function(a,b){return function(c){a.setAttribute(b,c)}}(c,g));b.onRemove(function(){a(),e.isBound()&&_Bindable.Bindable.clearBindings(e)})};for(var g in e){var h=f();"continue"===h}return c}}},{key:"mapAttrTag",value:function mapAttrTag(a){//*/
var b=this.compileAttrTag(a),c=b(this);return a.replaceWith(c),c;/*/

		let attrProperty = tag.getAttribute('cv-attr');

		tag.removeAttribute('cv-attr');

		let pairs = attrProperty.split(',');
		let attrs = pairs.map((p) => p.split(':'));

		for (let i in attrs)
		{
			let proxy        = this.args;
			let bindProperty = attrs[i][1];
			let property     = bindProperty;

			if(bindProperty.match(/\./))
			{
				[proxy, property] = Bindable.resolve(
					this.args
					, bindProperty
					, true
				);
			}

			let attrib = attrs[i][0];

			this.onRemove(proxy.bindTo(
				property
				, (v)=>{
					if(v == null)
					{
						tag.setAttribute(attrib, '');
						return;
					}
					tag.setAttribute(attrib, v);
				}
			));
		}

		return tag;

		//*/}},{key:"compileAttrTag",value:function compileAttrTag(a){var b=a.getAttribute("cv-attr"),c=b.split(/[,;]/),d=c.map(function(a){return a.split(":")});return a.removeAttribute("cv-attr"),function(b){var c=a.cloneNode(!0),e=function _loop2(){var a=d[f][1]||d[f][0],e=_Bindable.Bindable.resolve(b.args,a,!0),g=_slicedToArray(e,2),h=g[0],i=g[1],j=d[f][0];b.onRemove(h.bindTo(i,function(a,b,e,f){return f||void 0===a?void c.removeAttribute(j,a):null===a?void c.setAttribute(j,""):void c.setAttribute(j,a)}))};for(var f in d)e();return c}}},{key:"mapInterpolatableTag",value:function mapInterpolatableTag(a){var c=this,d=this.interpolateRegex;if(a.nodeType===Node.TEXT_NODE){var e=a.nodeValue;if(!this.interpolatable(e))return a;for(var f,g,h=0,j=function _loop3(){var d=f[2],g=!1,i=!1,j=d.split("|"),l=!1;if(1<j.length&&(l=c.stringTransformer(j.slice(1)),d=j[0]),"$$"===d.substr(0,2)&&(g=!0,i=!0,d=d.substr(2)),"$"===d.substr(0,1)&&(g=!0,d=d.substr(1)),"000"===d.substr(0,3))return expand=!0,d=d.substr(3),"continue";var m=e.substring(h,f.index);h=f.index+f[1].length;var n=document.createTextNode(m);n[dontParse]=!0,a.parentNode.insertBefore(n,a);var o;o=g?document.createElement("div"):document.createTextNode(""),o[dontParse]=!0;var p=c.args,q=d;if(d.match(/\./)){var r=_Bindable.Bindable.resolve(c.args,d,!0),s=_slicedToArray(r,2);p=s[0],q=s[1]}if(a.parentNode.insertBefore(o,a),"object"!==_typeof(p))return"break";p=_Bindable.Bindable.make(p);var t=p.bindTo(q,function(d,e,f){if(f[e]!==d&&(f[e]instanceof b||f[e]instanceof Node||f[e]instanceof _Tag.Tag)&&!f[e].preserve&&f[e].remove(),o.nodeValue="",i&&!(d instanceof b)){var h,j=null!==(h=d)&&void 0!==h?h:"";d=new b(c.args,c),d.template=j}if(l&&(d=l(d)),d instanceof b){d[_EventTargetMixin.EventTargetMixin.EventTargetParent]=c;var k=function onAttach(a,b){d.dispatchAttached(a,b,c)};c.nodesAttached.add(k),d.render(a.parentNode,o);var m=function cleanup(){d.preserve||d.remove()};c.onRemove(m),d.onRemove(function(){c.nodesAttached.remove(k),c._onRemove.remove(m)})}else d instanceof Node?(a.parentNode.insertBefore(d,o),c.onRemove(function(){return d.remove()})):d instanceof _Tag.Tag?d.node?(a.parentNode.insertBefore(d.node,o),c.onRemove(function(){return d.remove()})):d.remove():(d instanceof Object&&d.__toString instanceof Function&&(d=d.__toString()),g?o.innerHTML=d:o.nodeValue=d);o[dontParse]=!0});c.onRemove(t)};(f=d.exec(e))&&(g=j(),"continue"===g||"break"!==g););var k=e.substring(h),l=document.createTextNode(k);l[dontParse]=!0,a.parentNode.insertBefore(l,a),a.nodeValue=""}else if(a.nodeType===Node.ELEMENT_NODE)for(var m,n=function _loop4(){if(!c.interpolatable(a.attributes[o].value))return"continue";for(var b,e=0,f=a.attributes[o].value,g=a.attributes[o],h={},i=[];b=d.exec(f);)i.push(f.substring(e,b.index)),h[b[2]]||(h[b[2]]=[]),h[b[2]].push(i.length),i.push(b[1]),e=b.index+b[1].length;i.push(f.substring(e));var k=function _loop5(){var b=c.args,d=l,e=l.split("|"),f=!1,j=l;if(1<e.length&&(f=c.stringTransformer(e.slice(1)),d=e[0]),d.match(/\./)){var k=_Bindable.Bindable.resolve(c.args,d,!0),m=_slicedToArray(k,2);b=m[0],d=m[1]}var n=[],o=l,p=h[j];c.onRemove(b.bindTo(d,function(b,e,k,l){for(var m in f&&(b=f(b)),h)for(var n in h[j])i[h[j][n]]=k[m],e===d&&(i[h[j][n]]=b);c.paused?c.unpauseCallbacks.set(g,function(){return a.setAttribute(g.name,i.join(""))}):a.setAttribute(g.name,i.join(""))})),c.onRemove(function(){b.isBound()||_Bindable.Bindable.clearBindings(b)})};for(var l in h)k()},o=0;o<a.attributes.length;o++)m=n(),"continue"===m;return a}},{key:"mapRefTag",value:function mapRefTag(a){var b=a.getAttribute("cv-ref"),c=b.split(":"),d=_slicedToArray(c,3),e=d[0],f=d[1],g=void 0===f?null:f,h=d[2],i=void 0===h?null:h,j=_Tag.Tag;g&&(j=this.stringToClass(g)),a.removeAttribute("cv-ref"),Object.defineProperty(a,"___tag___",{enumerable:!1,writable:!0}),this.onRemove(function(){a.___tag___=null,a.remove()});var k=this,l=this;this.viewList&&(k=this.viewList.parent);var m=new j(a,this,e,void 0,l);for(a.___tag___=m,this.tags[e]=m;k;){var n=this.args[i];if(void 0===n?k.tags[e]=m:(!k.tags[e]&&(k.tags[e]=[]),k.tags[e][n]=m),!k.parent)break;k=k.parent}return a}},{key:"mapBindTag",value:function mapBindTag(a){var c=this,d=a.getAttribute("cv-bind"),e=this.args,f=d,g=null;if(d.match(/\./)){var h=_Bindable.Bindable.resolve(this.args,d,!0),i=_slicedToArray(h,3);e=i[0],f=i[1],g=i[2]}e!==this.args&&(this.subBindings[d]=this.subBindings[d]||[],this.onRemove(this.args.bindTo(g,function(){for(;c.subBindings.length;)c.subBindings.shift()()})));var j=!1;"$"===f.substr(0,1)&&(f=f.substr(1),j=!0);var k=e.bindTo(f,function(e,f,g,h,d){(d instanceof b||d instanceof Node||d instanceof _Tag.Tag)&&d!==e&&d.remove();var i=new CustomEvent("cvAutoChanged",{bubbles:!0});if(["INPUT","SELECT","TEXTAREA"].includes(a.tagName)){var k=a.getAttribute("type");if(k&&"checkbox"===k.toLowerCase())a.checked=!!e,a.dispatchEvent(i);else if(k&&"radio"===k.toLowerCase())a.checked=e==a.value,a.dispatchEvent(i);else if("file"!==k){if("SELECT"===a.tagName){var l=function selectOption(){for(var b,c=0;c<a.options.length;c++)b=a.options[c],b.value==e&&(a.selectedIndex=c)};l(),c.nodesAttached.add(l)}else a.value=null==e?"":e;a.dispatchEvent(i)}}else if(e instanceof b){var m,n=_createForOfIteratorHelper(a.childNodes);try{for(n.s();!(m=n.n()).done;){var o=m.value;o.remove()}}catch(a){n.e(a)}finally{n.f()}var p=function onAttach(a){e.dispatchDomAttached(c)};c.nodesAttached.add(p),e[_EventTargetMixin.EventTargetMixin.EventTargetParent]=c,e.render(a),e.onRemove(function(){return c.nodesAttached.remove(p)})}else if(e instanceof Node)a.insert(e);else if(e instanceof _Tag.Tag)a.append(e.node);else if(j){if(a.innerHTML!==e){if(e+="",a.innerHTML===e.substring(0,a.innerHTML.length))a.innerHTML+=e.substring(a.innerHTML.length);else{var q,r=_createForOfIteratorHelper(a.childNodes);try{for(r.s();!(q=r.n()).done;){var s=q.value;s.remove()}}catch(a){r.e(a)}finally{r.f()}a.innerHTML=e}_Dom.Dom.mapTags(a,!1,function(a){return a[dontParse]=!0})}}else if(a.textContent!==e){var t,u=_createForOfIteratorHelper(a.childNodes);try{for(u.s();!(t=u.n()).done;){var w=t.value;w.remove()}}catch(a){u.e(a)}finally{u.f()}a.textContent=e}});e!==this.args&&this.subBindings[d].push(k),this.onRemove(k);var l=a.getAttribute("type"),m=a.getAttribute("multiple"),n=function inputListener(b){if(b.target===a)if(l&&"checkbox"===l.toLowerCase())e[f]=!!a.checked&&b.target.getAttribute("value");else if(b.target.matches("[contenteditable=true]"))e[f]=b.target.innerHTML;else if("file"===l&&m){var c=Array.from(b.target.files),d=e[f]||_Bindable.Bindable.onDeck(e,f);if(!d||!c.length)e[f]=c;else{var g=function _loop6(a){if(c[a]!==d[a])return c[a].toJSON=function(){return{name:file[a].name,size:file[a].size,type:file[a].type,date:file[a].lastModified}},d[a]=c[a],"break"};for(var h in c){var j=g(h);if("break"===j)break}}}else if("file"===l&&!m&&b.target.files.length){var k=b.target.files.item(0);k.toJSON=function(){return{name:k.name,size:k.size,type:k.type,date:k.lastModified}},e[f]=k}else e[f]=b.target.value};return"file"===l||"radio"===l?a.addEventListener("change",n):(a.addEventListener("input",n),a.addEventListener("change",n),a.addEventListener("value-changed",n)),this.onRemove(function(){"file"===l||"radio"===l?a.removeEventListener("change",n):(a.removeEventListener("input",n),a.removeEventListener("change",n),a.removeEventListener("value-changed",n))}),a.removeAttribute("cv-bind"),a}},{key:"mapOnTag",value:function mapOnTag(a){var b=this,c=a.getAttribute("cv-on")+"";return c.split(";").map(function(b){return b.split(":")}).forEach(function(c){c=c.map(function(b){return b.trim()});var d=c.length,e=(c.shift()+"").trim(),f=((c.shift()||e)+"").trim(),g=((c.shift()||"")+"").trim(),h=[],i=/(\w+)(?:\(([$\w\s-'",]+)\))?/.exec(f);i&&(f=i[1].replace(/(^[\s\n]+|[\s\n]+$)/,""),i[2]&&(h=i[2].split(",").map(function(a){return a.trim()}))),h.length||h.push("$event"),e&&1!==d||(e=f);for(var j,k,l=b,m=function _loop7(){var a=l.controller;return"function"==typeof a[f]?(j=function eventMethod(){a[f].apply(a,arguments)},"break"):"function"==typeof l[f]?(j=function eventMethod(){var a;(a=l)[f].apply(a,arguments)},"break"):l.parent?void(l=l.parent):"break"};l&&(k=m(),"break"!==k););var n=function eventListener(c){var d=h.map(function(d){var e;return+d==d?d:"event"===d||"$event"===d?c:"$view"===d?l:"$controller"===d?controller:"$tag"===d?a:"$parent"===d?b.parent:"$subview"===d?b:d in b.args?b.args[d]:(e=/^['"]([\w-]+?)["']$/.exec(d))?e[1]:void 0});if("function"!=typeof j)throw new Error("".concat(f," is not defined on View object.")+"\nTag:\n"+"".concat(a.outerHTML));j.apply(void 0,_toConsumableArray(d))},o={};switch(g.includes("p")?o.passive=!0:g.includes("P")&&(o.passive=!1),g.includes("c")?o.capture=!0:g.includes("C")&&(o.capture=!1),g.includes("o")?o.once=!0:g.includes("O")&&(o.once=!1),e){case"_init":n();break;case"_attach":b.nodesAttached.add(n);break;case"_detach":b.nodesDetached.add(n);break;default:a.addEventListener(e,n,o),b.onRemove(function(){a.removeEventListener(e,n,o)});}return[e,f,h]}),a.removeAttribute("cv-on"),a}},{key:"mapLinkTag",value:function mapLinkTag(a){/*/
		const tagCompiler = this.compileLinkTag(tag);

		const newTag = tagCompiler(this);

		tag.replaceWith(newTag);

		return newTag;
		/*/var b=a.getAttribute("cv-link");a.setAttribute("href",b);var c=function linkClick(c){return c.preventDefault(),"http"===b.substring(0,4)||"//"===b.substring(0,2)?void window.open(a.getAttribute("href",b)):void _Router.Router.go(a.getAttribute("href"))};return a.addEventListener("click",c),this.onRemove(function(a,b){return function(){a.removeEventListener("click",b),a=void 0,b=void 0}}(a,c)),a.removeAttribute("cv-link"),a;//*/
}},{key:"compileLinkTag",value:function compileLinkTag(a){var b=a.getAttribute("cv-link");return a.removeAttribute("cv-link"),function(c){var d=a.cloneNode(!0);return d.setAttribute("href",b),d}}},{key:"mapPrendererTag",value:function mapPrendererTag(a){var b=a.getAttribute("cv-prerender"),c=window.prerenderer||navigator.userAgent.match(/prerender/i);return c&&(window.prerenderer=window.prerenderer||!0),("never"===b&&c||"only"===b&&!c)&&a.parentNode.removeChild(a),a}},{key:"mapWithTag",value:function mapWithTag(a){var c=this,d=a.getAttribute("cv-with"),e=a.getAttribute("cv-carry"),f=a.getAttribute("cv-view");a.removeAttribute("cv-with"),a.removeAttribute("cv-carry"),a.removeAttribute("cv-view");var g=f?this.stringToClass(f):b,h=new DocumentFragment;_toConsumableArray(a.childNodes).forEach(function(a){return h.appendChild(a)});var j=[];e&&(j=e.split(",").map(function(a){return a.trim()}));var k=this.args.bindTo(d,function(b,e,f,k){for(c.withViews.has(a)&&c.withViews["delete"](a);a.firstChild;)a.removeChild(a.firstChild);var d=new g({},c);c.onRemove(function(a){return function(){a.remove()}}(d)),d.template=h;var l=function _loop8(){var a=c.args.bindTo(j[m],function(a,b){d.args[b]=a});d.onRemove(a),c.onRemove(function(){a(),d.remove()})};for(var m in j)l();var n=function _loop9(){if("object"!==_typeof(b))return"continue";b=_Bindable.Bindable.make(b);var a=b.bindTo(o,function(a,b,c,e){e?b in d.args&&delete d.args[b]:d.args[b]=a}),e=d.args.bindTo(o,function(a,c,d,e){e?c in b&&delete b[c]:b[c]=a});c.onRemove(function(){a(),b.isBound()||_Bindable.Bindable.clearBindings(b),d.remove()}),d.onRemove(function(){a(),b.isBound()||_Bindable.Bindable.clearBindings(b)})};for(var o in b){var p=n();"continue"===p}d.render(a),c.withViews.set(a,d)});return this.onRemove(function(){c.withViews["delete"](a),k()}),a}},{key:"mapViewTag",value:function mapViewTag(a){var c=this,d=a.getAttribute("cv-view");a.removeAttribute("cv-view");var e=new DocumentFragment;_toConsumableArray(a.childNodes).forEach(function(a){return e.appendChild(a)});var f=d.split(":"),g=f.pop()?this.stringToClass(d):b,h=f.shift(),i=new g(this.args,this);return this.views.set(a,i),h&&this.views.set(h,i),this.onRemove(function(b){return function(){b.remove(),c.views["delete"](a),c.views["delete"](h)}}(i)),i.template=e,i.render(a),a}},{key:"mapEachTag",value:function mapEachTag(a){var c=this,d=a.getAttribute("cv-each"),e=a.getAttribute("cv-view");a.removeAttribute("cv-each"),a.removeAttribute("cv-view");var f=e?this.stringToClass(e):b,g=new DocumentFragment;_toConsumableArray(a.childNodes).forEach(function(a){return g.appendChild(a)});var h=d.split(":"),i=_slicedToArray(h,3),j=i[0],l=i[1],m=i[2],n=this.args,o=j;if(j.match(/\./)){var p=_Bindable.Bindable.resolve(this.args,j,!0),q=_slicedToArray(p,2);n=q[0],o=q[1]}var r=n.bindTo(o,function(b,e,h,i,d){b instanceof _Bag.Bag&&(b=b.list),c.viewLists.has(a)&&c.viewLists.get(a).remove();var j=new _ViewList.ViewList(g,l,b,c,m,f),k=function viewListRemover(){return j.remove()};c.onRemove(k),j.onRemove(function(){return c._onRemove.remove(k)});var n=c.args.bindTo(function(a,b,c,e){"_id"===b||(e?b in j.subArgs&&delete j.subArgs[b]:j.subArgs[b]=a)}),o=j.args.bindTo(function(a,b,e,f,d){"_id"===b||"value"===b||"___"===(b+"").substring(0,3)||(f?delete c.args[b]:b in c.args&&(c.args[b]=a))});for(j.onRemove(n),j.onRemove(o),c.onRemove(n),c.onRemove(o);a.firstChild;)a.removeChild(a.firstChild);c.viewLists.set(a,j),j.render(a)});return this.onRemove(r),a}},{key:"mapIfTag",value:function mapIfTag(a){var c=this,d=a,e=d.getAttribute("cv-view"),f=d.getAttribute("cv-if"),g=d.getAttribute("cv-is"),h=!1,i=!1;d.removeAttribute("cv-view"),d.removeAttribute("cv-if"),d.removeAttribute("cv-is");var j=e?this.stringToClass(e):b;"!"===f.substr(0,1)&&(f=f.substr(1),h=!0),"?"===f.substr(0,1)&&(f=f.substr(1),i=!0);var k=new DocumentFragment;_toConsumableArray(d.childNodes).forEach(function(a){return k.appendChild(a)});var l=this,m=new DocumentFragment,n=new j(Object.assign({},this.args),l);n.tags.bindTo(function(a,b){return c.tags[b]=a},{removeWith:this}),n.template=k;var o=l.args,p=f;if(f.match(/\./)){var q=_Bindable.Bindable.resolve(l.args,f,!0),r=_slicedToArray(q,2);o=r[0],p=r[1]}n.render(m);var s=o.bindTo(p,function(b,d){var e=b;i&&(b=null!==b&&void 0!==b),b instanceof _Bag.Bag&&(b=b.list),Array.isArray(b)&&(b=!!b.length),null!==g&&(b=e==g),h&&(b=!b),b?(a.appendChild(m),_toConsumableArray(m.childNodes).forEach(function(a){return _Dom.Dom.mapTags(a,!1,function(a,b){a.matches&&a.dispatchEvent(new CustomEvent("cvDomAttached",{target:a,detail:{view:n||c,mainView:c}}))})})):(n.nodes.forEach(function(a){return m.appendChild(a)}),_Dom.Dom.mapTags(m,!1,function(a,b){a.matches&&new CustomEvent("cvDomDetached",{target:a,detail:{view:n||c,mainView:c}})}))},{children:Array.isArray(o[p])});// const propertyDebind = this.args.bindChain(property, onUpdate);
l.onRemove(s);var t=this.args.bindTo(function(a,b,c,e){"_id"===b||(e?b in n.args&&delete n.args[b]:n.args[b]=a)}),u=n.args.bindTo(function(a,b,e,f,d){"_id"===b||"___"===(b+"").substring(0,3)||b in c.args&&(f?delete c.args[b]:c.args[b]=a)}),v=function viewDebind(){s(),t(),u(),l._onRemove.remove(s)};return l.onRemove(v),this.onRemove(function(){t(),u(),n.remove(),l!==c&&l.remove()}),a}},{key:"compileIfTag",value:function compileIfTag(a){var c=a.getAttribute("cv-if"),d=!1;a.removeAttribute("cv-if"),"!"===c.substr(0,1)&&(c=c.substr(1),d=!0);var e=new DocumentFragment;return _toConsumableArray(a.childNodes).forEach(function(a){return e.appendChild(a.cloneNode(!0))}),function(f){var g=a.cloneNode(),h=new DocumentFragment,i=new b({},f);i.template=e,f.syncBind(i);var j=f.args,k=c;if(c.match(/\./)){var l=_Bindable.Bindable.resolve(f.args,c,!0),m=_slicedToArray(l,2);j=m[0],k=m[1]}var n=!1,o=j.bindTo(k,function(a,b){if(!n){var c=f.args[k]||d?g:h;return i.render(c),void(n=!0)}Array.isArray(a)&&(a=!!a.length),d&&(a=!a),a?g.appendChild(h):i.nodes.forEach(function(a){return h.appendChild(a)})});f.onRemove(o);var p=function bindableDebind(){j.isBound()||_Bindable.Bindable.clearBindings(j)},q=function viewDebind(){o(),p(),f._onRemove.remove(o),f._onRemove.remove(p)};return i.onRemove(q),g}}},{key:"mapTemplateTag",value:function mapTemplateTag(a){var b=a.getAttribute("cv-template");return a.removeAttribute("cv-template"),this.templates[b]=function(){return"TEMPLATE"===a.tagName?a.content.cloneNode(!0):new DocumentFragment(a.innerHTML)},this.rendered.then(function(){return a.remove()}),a}},{key:"mapSlotTag",value:function mapSlotTag(a){var b=a.getAttribute("cv-slot"),c=this.templates[b];if(!c){for(var d=this;d&&(c=d.templates[b],!c);)d=this.parent;if(!c)return void console.error("Template ".concat(b," not found."))}var e=c();for(a.removeAttribute("cv-slot");a.firstChild;)a.firstChild.remove();return a.appendChild(e),a}},{key:"syncBind",value:function syncBind(a){var c=this,d=this.args.bindTo(function(b,c,e,f){"_id"===c||a.args[c]!==b&&(a.args[c]=b)}),e=a.args.bindTo(function(a,e,f,g,d){if("_id"!==e){var h=a,i=d;h instanceof b&&(h=h.___ref___),i instanceof b&&(i=i.___ref___),h!==i&&i instanceof b&&d.remove(),e in c.args&&(c.args[e]=a)}});this.onRemove(d),this.onRemove(e),a.onRemove(function(){c._onRemove.remove(d),c._onRemove.remove(e)})}},{key:"postRender",value:function postRender(a){}},{key:"attached",value:function attached(a){}},{key:"interpolatable",value:function interpolatable(a){return!!(a+"").match(this.interpolateRegex)}},{key:"remove",value:function remove(){var a=this,b=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(this.dispatchEvent(new CustomEvent("remove",{detail:{view:this},cancelable:!0}))){var c=function remover(){for(var b in a.tags)Array.isArray(a.tags[b])?(a.tags[b]&&a.tags[b].forEach(function(a){return a.remove()}),a.tags[b].splice(0)):(a.tags[b]&&a.tags[b].remove(),a.tags[b]=void 0);for(var c in a.nodes)a.nodes[c]&&a.nodes[c].dispatchEvent(new Event("cvDomDetached")),a.nodes[c]&&a.nodes[c].remove(),a.nodes[c]=void 0;a.nodes.splice(0),a.firstNode=a.lastNode=void 0};b?c():requestAnimationFrame(c);var d,e=this._onRemove.items(),f=_createForOfIteratorHelper(e);try{for(f.s();!(d=f.n()).done;){var g=d.value;g(),this._onRemove.remove(g)}}catch(a){f.e(a)}finally{f.f()}var h,i=_createForOfIteratorHelper(this.cleanup);try{for(i.s();!(h=i.n()).done;){var j=h.value;j&&j()}}catch(a){i.e(a)}finally{i.f()}this.cleanup.length=0;var k,l=_createForOfIteratorHelper(this.viewLists);try{for(l.s();!(k=l.n()).done;){var m=_slicedToArray(k.value,2),n=m[0],o=m[1];o.remove()}}catch(a){l.e(a)}finally{l.f()}this.viewLists.clear();var p,q=_createForOfIteratorHelper(this.timeouts);try{for(q.s();!(p=q.n()).done;){var r=_slicedToArray(p.value,2),s=r[0],t=r[1];clearTimeout(t.timeout),this.timeouts["delete"](t.timeout)}}catch(a){q.e(a)}finally{q.f()}var u,v=_createForOfIteratorHelper(this.intervals);try{for(v.s();!(u=v.n()).done;){var w=u.value;clearInterval(w)}}catch(a){v.e(a)}finally{v.f()}this.intervals.length=0;var x,y=_createForOfIteratorHelper(this.frames);try{for(y.s();!(x=y.n()).done;){var z=x.value;z()}}catch(a){y.e(a)}finally{y.f()}this.frames.length=0,this.preRuleSet.purge(),this.ruleSet.purge(),this.removed=!0,this.dispatchEvent(new CustomEvent("removed",{detail:{view:this},cancelable:!0}))}}},{key:"findTag",value:function findTag(a){for(var b in this.nodes){var c=void 0;if(this.nodes[b].querySelector){if(this.nodes[b].matches(a))return new _Tag.Tag(this.nodes[b],this,void 0,void 0,this);if(c=this.nodes[b].querySelector(a))return new _Tag.Tag(c,this,void 0,void 0,this)}}}},{key:"findTags",value:function findTags(a){var b=this;return this.nodes.filter(function(a){return a.querySelectorAll}).map(function(b){return _toConsumableArray(b.querySelectorAll(a))}).flat().map(function(a){return new _Tag.Tag(a,b,void 0,void 0,b)})||[]}},{key:"onRemove",value:function onRemove(a){a instanceof Event||this._onRemove.add(a)}},{key:"update",value:function update(){}},{key:"beforeUpdate",value:function beforeUpdate(a){}},{key:"afterUpdate",value:function afterUpdate(a){}},{key:"stringTransformer",value:function stringTransformer(a){var b=this;return function(c){for(var d in a){for(var e=b,f=a[d];e&&!e[f];)e=e.parent;if(!e)return;c=e[a[d]](c)}return c}}},{key:"stringToClass",value:function stringToClass(a){if(b.refClasses.has(a))return b.refClasses.get(a);var c=a.split("/"),d=c[c.length-1],e=require(a);return b.refClasses.set(a,e[d]),e[d]}},{key:"preventParsing",value:function preventParsing(a){a[dontParse]=!0}},{key:"toString",value:function toString(){return this.nodes.map(function(a){return a.outerHTML}).join(" ")}},{key:"listen",value:function listen(a,c,d,e){var f=this;if("string"==typeof a&&(e=d,d=c,c=a,a=this),a instanceof b)return this.listen(a.nodes,c,d,e);if(Array.isArray(a))return a.map(function(a){return f.listen(a,c,d,e)}).forEach(function(a){return a()});if(a instanceof _Tag.Tag)return this.listen(a.element,c,d,e);a.addEventListener(c,d,e);var g=function remove(){return a.removeEventListener(c,d,e)},h=function remover(){g(),g=function remove(){}};return this.onRemove(function(){return h()}),h}},{key:"detach",value:function detach(){for(var a in this.nodes)this.nodes[a].remove();return this.nodes}}],[{key:"from",value:function from(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=new this(b,c);return d.template=a,d}},{key:"isView",value:function isView(){return b}},{key:"uuid",value:function uuid(){return new _Uuid.Uuid}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin));exports.View=View,Object.defineProperty(View,"templates",{value:new Map}),Object.defineProperty(View,"refClasses",{value:new Map});
});

require.register("curvature/base/ViewList.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewList=void 0;var _Bindable=require("./Bindable"),_SetMap=require("./SetMap"),_Bag=require("./Bag");function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var ViewList=/*#__PURE__*/function(){function a(b,c,d,e){var f=this,g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,h=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null;_classCallCheck(this,a),this.removed=!1,this.args=_Bindable.Bindable.makeBindable({}),this.args.value=_Bindable.Bindable.makeBindable(d||{}),this.subArgs=_Bindable.Bindable.makeBindable({}),this.views=[],this.cleanup=[],this.viewClass=h,this._onRemove=new _Bag.Bag,this.template=b,this.subProperty=c,this.keyProperty=g,this.tag=null,this.downDebind=[],this.upDebind=[],this.paused=!1,this.parent=e,this.rendered=new Promise(function(a){Object.defineProperty(f,"renderComplete",{configurable:!1,writable:!0,value:a})}),this.willReRender=!1,this.args.___before(function(a,b){"bindTo"==b||(f.paused=!0)}),this.args.___after(function(a,b,c){"bindTo"==b||(f.paused=1<c.length,f.reRender())});var i=this.args.value.bindTo(function(a,b,c,e){if(!f.paused){var d=b;if("symbol"!==_typeof(b))if(isNaN(b)&&(d="_"+b),e)for(var g in f.views[d]&&f.views[d].remove(),delete f.views[d],f.views){if(isNaN(g)){f.views[g].args[f.keyProperty]=g.substr(1);continue}f.views[g].args[f.keyProperty]=g}else f.views[d]?f.views[d]&&f.views[d].args&&(f.views[d].args[f.keyProperty]=b,f.views[d].args[f.subProperty]=a):(cancelAnimationFrame(f.willReRender),f.willReRender=requestAnimationFrame(function(){f.reRender()}))}});this._onRemove.add(i),Object.preventExtensions(this)}return _createClass(a,[{key:"render",value:function render(a){var b,c=this,d=[],e=_createForOfIteratorHelper(this.views);try{var f=function _loop(){var c=b.value;c.render(a),d.push(c.rendered.then(function(){return c}))};for(e.s();!(b=e.n()).done;)f()}catch(a){e.e(a)}finally{e.f()}this.tag=a,Promise.all(d).then(function(a){return c.renderComplete(a)}),this.parent.dispatchEvent(new CustomEvent("listRendered",{detail:{detail:{key:this.subProperty,value:this.args.value}}}))}},{key:"reRender",value:function reRender(){var a=this;if(!this.paused&&this.tag){var b=[],c=new _SetMap.SetMap;for(var d in this.views){var e=this.views[d],f=e.args[this.subProperty];c.add(f,e),b[d]=e}var g=[],h=new Set;this.downDebind.length&&this.downDebind.forEach(function(a){return a&&a()}),this.upDebind.length&&this.upDebind.forEach(function(a){return a&&a()}),this.upDebind.length=0,this.downDebind.length=0;var j=1/0,l=1/0,m=function _loop2(){var b=!1,d=n;if(isNaN(d)?d="_"+n:(d+"").length&&(d=+d),void 0!==a.args.value[n]&&c.has(a.args.value[n])){var e=c.getOne(a.args.value[n]);e&&(e.args[a.keyProperty]=n,g[d]=e,h.add(e),b=!0,!isNaN(d)&&(j=Math.min(j,d),0<d&&(l=Math.min(l,d))),c.remove(a.args.value[n],e))}if(!b){var f={},i=g[d]=new a.viewClass(f,a.parent);isNaN(d)||(j=Math.min(j,d),0<d&&(l=Math.min(l,d))),g[d].template=a.template,g[d].viewList=a,g[d].args[a.keyProperty]=n,g[d].args[a.subProperty]=a.args.value[n],a.upDebind[d]=f.bindTo(a.subProperty,function(b,c,e,g){var d=f[a.keyProperty];return g?void delete a.args.value[d]:void(a.args.value[d]=b)}),a.downDebind[d]=a.subArgs.bindTo(function(a,b,c,e){return e?void delete f[b]:void(f[b]=a)});var m=function upDebind(){a.upDebind.filter(function(a){return a}).forEach(function(a){return a()}),a.upDebind.length=0},o=function downDebind(){a.downDebind.filter(function(a){return a}).forEach(function(a){return a()}),a.downDebind.length=0};i.onRemove(function(){a._onRemove.remove(m),a._onRemove.remove(o),a.upDebind[d]&&a.upDebind[d](),a.downDebind[d]&&a.downDebind[d](),delete a.upDebind[d],delete a.downDebind[d]}),a._onRemove.add(m),a._onRemove.add(o),f[a.subProperty]=a.args.value[n]}};for(var n in this.args.value)m();for(var k in b)h.has(b[k])||b[k].remove();if(Array.isArray(this.args.value)){var o=0===j&&void 0!==g[1]&&1<g.length||l===1/0?j:l,p=function renderRecurse(){for(var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=g.length-b-1;c>o&&void 0===g[c];)c--;if(c<o)return Promise.resolve();if(g[c]===a.views[c]){if(g[c]&&!g[c].firstNode)return g[c].render(a.tag,g[c+1]),g[c].rendered.then(function(){return p(+b+1)});var d=500;return 0===b||b%500?p(+b+1):new Promise(function(a){return requestAnimationFrame(function(){return a(p(+b+1))})})}return g[c].render(a.tag,g[c+1]),a.views.splice(c,0,g[c]),g[c].rendered.then(function(){return p(b+1)})};this.rendered=p()}else{var q,r=[],s=Object.assign({},g),t=function isInt(a){return parseInt(a)===a-0},u=Object.keys(g).sort(function(c,a){return t(c)&&t(a)?Math.sign(c-a):t(c)||t(a)?!t(c)&&t(a)?-1:t(c)&&!t(a)?1:void 0:0}),v=_createForOfIteratorHelper(u);try{var w=function _loop3(){var b=q.value;return delete s[b],g[b].firstNode&&g[b]===a.views[b]?"continue":void(g[b].render(a.tag),r.push(g[b].rendered.then(function(){return g[b]})))};for(v.s();!(q=v.n()).done;){var x=w();"continue"===x}}catch(a){v.e(a)}finally{v.f()}for(var y in s)delete this.args.views[y],s.remove();this.rendered=Promise.all(r)}for(var z in g){if(isNaN(z)){g[z].args[this.keyProperty]=z.substr(1);continue}g[z].args[this.keyProperty]=z}this.views=Array.isArray(this.args.value)?[].concat(g):g,h.clear(),this.willReRender=!1,this.rendered.then(function(){a.parent.dispatchEvent(new CustomEvent("listRendered",{detail:{detail:{key:a.subProperty,value:a.args.value,tag:a.tag}}})),a.tag.dispatchEvent(new CustomEvent("listRendered",{detail:{detail:{key:a.subProperty,value:a.args.value,tag:a.tag}}}))})}}},{key:"pause",value:function pause(){var a=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];for(var b in this.views)this.views[b].pause(a)}},{key:"onRemove",value:function onRemove(a){this._onRemove.add(a)}},{key:"remove",value:function remove(){for(var a in this.views)this.views[a].remove();var b=this._onRemove.items();for(var c in b)this._onRemove.remove(b[c]),b[c]();for(var d;this.cleanup.length;)d=this.cleanup.pop(),d();for(this.views=[];this.tag&&this.tag.firstChild;)this.tag.removeChild(this.tag.firstChild);this.subArgs&&_Bindable.Bindable.clearBindings(this.subArgs),_Bindable.Bindable.clearBindings(this.args),this.args.value&&!this.args.value.isBound()&&_Bindable.Bindable.clearBindings(this.args.value),this.removed=!0}}]),a}();exports.ViewList=ViewList;
});

;require.register("curvature/form/ButtonField.js", function(exports, require, module) {
"use strict";var _Field2=require("./Field");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ButtonField=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var ButtonField=/*#__PURE__*/function(a){function b(a,d,e,f){var g;_classCallCheck(this,b),g=c.call(this,a,d,e,f),g.args.title=g.args.title||g.args.value,g._onClick=[];var h=g.args.attrs||{};return h.type=h.type||g.args.type,g.args.name=h.name=g.args.name||f,g.template="\n\t\t\t<label\n\t\t\t\tfor       = \"".concat(g.getName(),"\"\n\t\t\t\tdata-type = \"").concat(h.type,"\"\n\t\t\t\tcv-ref    = \"label:curvature/base/Tag\">\n\t\t\t\t<input\n\t\t\t\t\tname      = \"").concat(g.getName(),"\"\n\t\t\t\t\ttype      = \"").concat(h.type,"\"\n\t\t\t\t\tvalue     = \"[[value]]\"\n\t\t\t\t\tcv-on     = \"click:clicked(event)\"\n\t\t\t\t\tcv-ref    = \"input:curvature/base/Tag\"\n\t\t\t\t\tcv-expand = \"attrs\"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"clicked",value:function clicked(a){var b=this._onClick.map(function(b){return!1===b(a)}).filter(function(a){return a});return b.length?void("submit"==this.args.attrs.type&&(a.preventDefault(),a.stopPropagation())):void("submit"==this.args.attrs.type&&(a.preventDefault(),a.stopPropagation(),this.form.tags.formTag.element.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))))}},{key:"onClick",value:function onClick(a){this._onClick.push(a)}}]),b}(_Field2.Field);exports.ButtonField=ButtonField;
});

;require.register("curvature/form/Field.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Field=void 0;var _View2=require("../base/View"),_Bindable=require("../base/Bindable");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var Field=/*#__PURE__*/function(a){function b(a,d,e,f){var g,h,i,j;_classCallCheck(this,b);var k=Object.assign({},a);j=c.call(this,k,e),j.args.title=null!==(g=j.args.title)&&void 0!==g?g:f,j.args.value=null!==(h=j.args.value)&&void 0!==h?h:"",j.value=null!==(i=j.args.value)&&void 0!==i?i:"",j.skeleton=k,j.disabled=null,j.args.valueString="",j.form=d,j.key=f,j.ignore=!!j.args.attrs&&(j.args.attrs["data-cv-ignore"]||!1);var l="",m=j.args.attrs||{};m.type=m.type||k.type||null,j.args.name=m.name=m.name||j.args.name||f,"checkbox"==m.type&&(l="value = \"1\""),j.template="\n\t\t\t<label\n\t\t\t\tfor           = \"".concat(j.getName(),"\"\n\t\t\t\tdata-type     = \"").concat(m.type||"text","\"\n\t\t\t\tcv-ref        = \"label:curvature/base/Tag\"\n\t\t\t>\n\t\t\t\t<span cv-if = \"title\">\n\t\t\t\t\t<span cv-ref = \"title:curvature/base/Tag\">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<input\n\t\t\t\t\tname      = \"").concat(j.getName(),"\"\n\t\t\t\t\ttype      = \"").concat(m.type||"text","\"\n\t\t\t\t\tcv-bind   = \"value\"\n\t\t\t\t\tcv-ref    = \"input:curvature/base/Tag\"\n\t\t\t\t\tcv-expand = \"attrs\"\n\t\t\t\t\t").concat(l,"\n\t\t\t\t/>\n\t\t\t\t<span cv-each = \"errors:error:e\">\n\t\t\t\t\t<p class = \"cv-error\">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t");//type    = "${this.args.attrs.type||'text'}"
// let key     = this.key;
var n=null;return j.args.bindTo("value",function(a,b){if(!isNaN(a)&&null!==a&&a.length&&a==+a&&a.length===(+a+"").length&&(a=+a),j.value=a,n!=b){if(n=f,j.args.valueString=JSON.stringify(a||"",null,4),j.valueString=j.args.valueString,!("file"==m.type&&j.tags.input&&j.tags.input.element.files&&j.tags.input.element.length))"file"==m.type&&j.tags.input?!a&&j.tags.input?(j.tags.input.node.value=null,m.placeholder?j.tags.input.node.setAttribute("title",m.placeholder):j.tags.input.node.removeAttribute("title")):a instanceof File&&j.tags.input.node.setAttribute("title",a.name):(j.parent.args.value||(j.parent.args.value={}),j.parent.args.value[f]=a);else if(j.tags.input.node.removeAttribute("title"),!m.multiple)j.parent.args.value[f]=j.tags.input.element.files[0];else{var c=Array.from(j.tags.input.element.files);if(!j.parent.args.value[b]||!c.length)j.parent.args.value[f]=c;else{for(var d in c)c[d]!==j.parent.args.value[f][d]&&(j.parent.args.value[f]=c);j.parent.args.value.splice(c.length)}}j.args.errors=[],n=null}}),j.parent.args.value[j.key]=j.args.value,j.parent.args.value.bindTo(f,function(a,b){if(n!=b){if(n=b,"file"!=m.type)j.args.value=a;else if(!(j.tags.input&&j.tags.input.element.files&&j.tags.input.element.files.length))j.args.value=a;else if(!m.multiple)j.parent.args.value[f]=j.tags.input.element.files[0];else{var c=Array.from(j.tags.input.element.files);if(!j.parent.args.value[f]||!c.length)j.parent.args.value[f]=c;else{for(var d in c)c[d]!==j.parent.args.value[f][d]&&(j.parent.args.value[f]=c);j.parent.args.value[f].splice(c.length)}}n=null}}),j}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"disable",value:function disable(){this.hasChildren(),this.disabled="disabled"}},{key:"enable",value:function enable(){this.hasChildren(),this.disabled=!1}},{key:"hasChildren",value:function hasChildren(){return!1}},{key:"getName",value:function getName(){var a=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.tags.input)return this.tags.input.element.getAttribute("name");var b=this.key;if(a){for(var c=this.parent,d=[b];c&&c.array&&"undefined"!=typeof c.key;)d.unshift(c.key),c=c.parent;b=d.shift(),d.length&&(b+="[".concat(d.join("]["),"]"))}return b}}]),b}(_View2.View);exports.Field=Field;
});

;require.register("curvature/form/FieldSet.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldSet=void 0;var _Field2=require("./Field"),_Form=require("./Form");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var FieldSet=/*#__PURE__*/function(a){function b(a,d,e,f){var g;_classCallCheck(this,b),g=c.call(this,a,d,e,f);var h=g.args.attrs||{};return h.type=h.type||"fieldset",g.array=!1,(a.array||h["data-array"]||h["data-multi"])&&(g.array=h["data-array"]=!0),g.args.value={},g.args.fields=_Form.Form.renderFields(a.children,_assertThisInitialized(g)),g.fields=g.args.fields,g.template="\n\t\t\t<label\n\t\t\t\tfor        = \"".concat(g.getName(),"\"\n\t\t\t\tdata-type  = \"").concat(h.type,"\"\n\t\t\t\tdata-multi = \"").concat(h["data-multi"]?"true":"false","\"\n\t\t\t\tcv-ref     = \"label:curvature/base/Tag\"\n\t\t\t>\n\t\t\t\t<span cv-if = \"title\">\n\t\t\t\t\t<span cv-ref = \"title:curvature/base/Tag\">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<fieldset\n\t\t\t\t\tname   = \"").concat(g.getName(),"\"\n\t\t\t\t\tcv-ref = \"input:curvature/base/Tag\"\n\t\t\t\t\tcv-expand=\"attrs\"\n\t\t\t\t\tcv-each = \"fields:field\"\n\t\t\t\t>\n\t\t\t\t\t[[field]]\n\t\t\t\t</fieldset>\n\t\t\t\t<span cv-each = \"errors:error:e\">\n\t\t\t\t\t<p class = \"cv-error\">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"hasChildren",value:function hasChildren(){return!!Object.keys(this.args.fields).length}},{key:"wrapSubfield",value:function wrapSubfield(a){return a}}]),b}(_Field2.Field);exports.FieldSet=FieldSet;
});

;require.register("curvature/form/FileField.js", function(exports, require, module) {
"use strict";var _Field2=require("./Field");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileField=void 0;function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var FileField=/*#__PURE__*/function(a){function b(a,d,e,f){var g;_classCallCheck(this,b),g=c.call(this,a,d,e,f);var h=g.args.attrs||{};return h.type=h.type||g.args.type||"file",g.template="\n\t\t\t<label\n\t\t\t\tfor       = \"".concat(g.getName(),"\"\n\t\t\t\tdata-type = \"").concat(h.type,"\"\n\t\t\t\tcv-ref    = \"label:curvature/base/Tag\">\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tname    = \"").concat(g.getName(),"\"\n\t\t\t\t\ttype    = \"").concat(h.type,"\"\n\t\t\t\t\tcv-bind = \"value\"\n\t\t\t\t\tcv-ref  = \"input:curvature/base/Tag\"\n\t\t\t\t\tcv-expand = \"attrs\"\n\t\t\t\t/>\n\t\t\t\t<span style = \"display:none\" cv-if = \"value\">[[[value]]]</span>\n\t\t\t\t<span cv-each = \"errors:error:e\">\n\t\t\t\t\t<p class = \"cv-error\">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Field2.Field);exports.FileField=FileField;
});

;require.register("curvature/form/Form.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Form=void 0;var _View2=require("../base/View"),_Field=require("./Field"),_FieldSet=require("./FieldSet"),_SelectField=require("./SelectField"),_RadioField=require("./RadioField"),_HtmlField=require("./HtmlField"),_HiddenField=require("./HiddenField"),_ButtonField=require("./ButtonField"),_TextareaField=require("./TextareaField"),_View3=require("./multiField/View"),_Bindable=require("../base/Bindable");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}// import { Router           } from 'Router';
// import { Repository       } from '../Repository';
// import { FieldSet         } from './FieldSet';
// import { ToastView        } from '../ToastView';
// import { ToastAlertView   } from '../ToastAlertView';
var Form=/*#__PURE__*/function(a){function b(a){var d,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,b),d=c.call(this,{}),d.args.flatValue=d.args.flatValue||{},d.args.value=d.args.value||{},d.args.method=a._method||"GET",d.args.classes=d.args.classes||[],d.skeleton=a,d.args.bindTo("classes",function(a){d.args._classes=a.join(" ")}),d.action="",d.template="\n\t\t\t<form\n\t\t\t\tclass     = \"[[_classes]]\"\n\t\t\t\tmethod    = \"[[method]]\"\n\t\t\t\tenctype   = \"multipart/form-data\"\n\t\t\t\tcv-on     = \"submit:submit(event)\"\n\t\t\t\tcv-ref    = \"formTag:curvature/base/Tag\"\n\t\t\t\tcv-each   = \"fields:field\"\n\t\t\t\tcv-expand = \"attrs\"\n\t\t\t>\n\t\t\t\t[[field]]\n\t\t\t</form>\n\t\t",d.args.fields=b.renderFields(a,_assertThisInitialized(d),e),d.fields=d.args.fields;var f=_Bindable.Bindable.makeBindable(_assertThisInitialized(d));return d.args.bindTo("value",function(a){f.value=a}),d.args.bindTo("valueString",function(a){f.json=a}),_possibleConstructorReturn(d,f)}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"submit",value:function submit(a){this.args.valueString=JSON.stringify(this.args.value,null,4),this.dispatchEvent(new CustomEvent("submit",{details:{view:this}}))||(a.preventDefault(),a.stopPropagation())}},{key:"buttonClick",value:function buttonClick(){// console.log(event);
}},{key:"formData",value:function formData(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];a||(a=new FormData),b||(b=this);for(var d in b.args.fields)if(!(b.args.fields[d]&&b.args.fields[d].disabled)){var e=c.slice(0);if(e.push(d),b.args.fields[d]&&b.args.fields[d].hasChildren())this.formData(a,b.args.fields[d],e);else if(b.args.fields[d]){// let fieldName = field.args.fields[i].args.name;
var f=b.args.fields[d].getName();if(!("file"==b.args.fields[d].args.type&&b.args.fields[d].tags.input.element.files&&b.args.fields[d].tags.input.element.files.length))("file"!==b.args.fields[d].args.type||b.args.fields[d].args.value)&&a.append(f,void 0===b.args.fields[d].args.value?"":b.args.fields[d].args.value);else if(b.args.fields[d].args.attrs.multiple)for(var g=b.args.fields[d].tags.input.element.files,h=0;h<g.length;h++)g[h]&&a.append(f+"[]",g[h]);else b.args.fields[d].tags.input.element.files[0]&&a.append(f,b.args.fields[d].tags.input.element.files[0])}}return a}},{key:"queryString",value:function queryString(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=[];for(var c in this.args.flatValue)a[c]=a[c]||this.args.flatValue[c];for(var d in a)b.push(d+"="+encodeURIComponent(a[d]));return b.join("&")}},{key:"populate",value:function populate(a){// console.log(values);
for(var b in a)this.args.value[b]=a[b]}},{key:"hasChildren",value:function hasChildren(){return!!Object.keys(this.args.fields).length}}],[{key:"renderFields",value:function renderFields(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e={},f=function _loop(){if(e[g])return"continue";if("_"==g.substr(0,1))return"continue";var f=null,h=null;if(c&&(c instanceof b?h=c:h=c.form),d&&a[g].name in d)f=new d[a[g].name](a[g],h,c,g);else switch(a[g].type){case"fieldset":f=a[g].attrs&&a[g].attrs["data-multi"]?new _View3.View(a[g],h,c,g):new _FieldSet.FieldSet(a[g],h,c,g);break;case"select":f=new _SelectField.SelectField(a[g],h,c,g);break;case"radios":f=new _RadioField.RadioField(a[g],h,c,g);break;case"html":f=new _HtmlField.HtmlField(a[g],h,c,g);break;case"submit":case"button":f=new _ButtonField.ButtonField(a[g],h,c,g);break;case"hidden":f=new _HiddenField.HiddenField(a[g],h,c,g);break;case"textarea":f=new _TextareaField.TextareaField(a[g],h,c,g);break;default:f=new _Field.Field(a[g],h,c,g);}e[g]=_Bindable.Bindable.make(f);var i=f.key;//field.getName();
f.args.bindTo("value",function(a,b,e,f){if(!isNaN(a)&&null!==a&&a.length&&a==+a&&a.length===(+a+"").length&&(a=+a),("html"!=e.type||e.contentEditable)&&"fieldset"!=e.type){if(e.disabled)return void delete h.args.flatValue[i];e.attrs=e.attrs||{};var d=e.attrs.multiple,g=Array.isArray(a),j=c.args.value[i],k=e.attrs.multiple&&g&&Array.isArray(j);if(k)for(var l in a)a[l]!==c.args.value[i][l]&&(c.args.value[i][l]=a[l]),c.args.value[i].splice(a.length);else c.args.value[i]=a;h.args.flatValue[i]=a,h.args.valueString=JSON.stringify(h.args.value,null,4)}}),f.render()};for(var g in a){var h=f();"continue"===h}return e}},{key:"_updateFields",value:function _updateFields(a,b){for(var c in a.args.fields){var d=a.args.fields[c];b[c]&&(b[c].value&&(d.args.value=b[c].value),b[c].errors&&(d.args.errors=b[c].errors),b[c].title&&(d.args.title=b[c].title),b[c].options&&(d.args.options=b[c].options),b[c].attrs&&(d.args.attrs=b[c].attrs),d.children&&b[c].children&&this._updateFields(d,b[c].children))}}}]),b}(_View2.View);exports.Form=Form;
});

;require.register("curvature/form/HiddenField.js", function(exports, require, module) {
"use strict";var _Field2=require("./Field");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HiddenField=void 0;function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var HiddenField=/*#__PURE__*/function(a){function b(a,d,e,f){var g;_classCallCheck(this,b),a.type="hidden",g=c.call(this,a,d,e,f);var h=g.args.attrs||{};return g.args.type=h.type="hidden",g.args.name=h.name=h.name||g.args.name||f,g.template="\n\t\t\t<label\n\t\t\t\tfor       = \"".concat(g.getName(),"\"\n\t\t\t\tdata-type = \"").concat(h.type,"\"\n\t\t\t\tstyle     = \"display:none\"\n\t\t\t\tcv-ref    = \"label:curvature/base/Tag\">\n\t\t\t\t<input\n\t\t\t\t\t\tname      = \"").concat(g.getName(),"\"\n\t\t\t\t\t\ttype      = \"hidden\"\n\t\t\t\t\t\tcv-bind   = \"value\"\n\t\t\t\t\t\tcv-ref    = \"input:curvature/base/Tag\"\n\t\t\t\t\t\tcv-expand = \"attrs\"\n\t\t\t\t/>\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Field2.Field);exports.HiddenField=HiddenField;
});

;require.register("curvature/form/HtmlField.js", function(exports, require, module) {
"use strict";var _Field2=require("./Field");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HtmlField=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var HtmlField=/*#__PURE__*/function(a){function b(a,d,e,f){var g;return _classCallCheck(this,b),g=c.call(this,a,d,e,f),g.key=f,g.args.tagName=g.args.tagName||"div",g.args.displayValue=g.args.value,g.args.attrs=g.args.attrs||{},g.ignore=g.args.attrs["data-cv-ignore"]||!1,g.args.contentEditable=g.args.attrs.contenteditable||!1,g.args.bindTo("value",function(a){g.tags.input&&g.tags.input.element!==document.activeElement&&(g.args.displayValue=a)}),g.template="<".concat(g.args.tagName,"\n\t\t\tname            = \"").concat(g.getName(),"\"\n\t\t\tcv-ref          = \"input:curvature/base/Tag\"\n\t\t\tcontenteditable = \"[[contentEditable]]\"\n\t\t\tcv-expand       = \"attrs\"\n\t\t\tcv-bind         = \"$displayValue\"\n\t\t\tcv-on           = \"input:inputProvided(event);\"\n\t\t></").concat(g.args.tagName,">"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"inputProvided",value:function inputProvided(a){this.args.value=a.target.innerHTML}},{key:"hasChildren",value:function hasChildren(){return!1}},{key:"getName",value:function getName(){return this.key}}]),b}(_Field2.Field);exports.HtmlField=HtmlField;
});

;require.register("curvature/form/RadioField.js", function(exports, require, module) {
"use strict";var _Field2=require("./Field");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RadioField=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var RadioField=/*#__PURE__*/function(a){function b(a,d,e,f){var g;_classCallCheck(this,b),g=c.call(this,a,d,e,f);var h=g.args.attrs||{};return g.args.name=h.name=h.name||g.args.name||f,g.args.value=g.args.value||"",g.template="\n\t\t\t<label\n\t\t\t\tfor       = \"".concat(g.getName(),"\"\n\t\t\t\tdata-type = \"").concat(h.type,"\"\n\t\t\t\tcv-ref    = \"label:curvature/base/Tag\">\n\t\t\t\t<span cv-if = \"title\">\n\t\t\t\t\t<span cv-ref = \"title:curvature/base/Tag\">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<span cv-each  = \"options:option:optionText\"/>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tname      = \"").concat(g.args.name,"\"\n\t\t\t\t\t\t\ttype      = \"radio\"\n\t\t\t\t\t\t\tvalue     = \"[[option]]\"\n\t\t\t\t\t\t\tcv-bind   = \"value\"\n\t\t\t\t\t\t\tcv-expand = \"attrs\"\n\t\t\t\t\t\t\tcv-on     = \"change:changed(event)\"\n\t\t\t\t\t/>\n\t\t\t\t\t\t[[optionText]]\n\t\t\t\t\t</label>\n\t\t\t\t</span>\n\t\t\t\t<span cv-each = \"errors:error:e\">\n\t\t\t\t\t<p class = \"cv-error\">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"getLabel",value:function getLabel(){for(var a in this.args.options)if(this.args.options[a]==this.args.value)return a}},{key:"changed",value:function changed(a){this.args.value=a.target.value}},{key:"postRender",value:function postRender(){var a=this;this.args.bindTo("value",function(b){return a.selectOptionByValue(b)}),this.args.options.bindTo(function(){return a.selectOptionByValue(a.args.value)},{frame:1})}},{key:"selectOptionByValue",value:function selectOptionByValue(a){this.findTags("input").forEach(function(b){b.value==a&&(b.checked=!0)})}}]),b}(_Field2.Field);exports.RadioField=RadioField;
});

;require.register("curvature/form/SelectField.js", function(exports, require, module) {
"use strict";var _Field2=require("./Field");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectField=void 0;function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var SelectField=/*#__PURE__*/function(a){function b(a,d,e,f){var g;_classCallCheck(this,b),g=c.call(this,a,d,e,f);var h=g.args.attrs||{};return g.template="\n\t\t\t<label\n\t\t\t\tfor       = \"".concat(g.getName(),"\"\n\t\t\t\tdata-type = \"").concat(h.type||"select","\"\n\t\t\t\tcv-ref    = \"label:curvature/base/Tag\">\n\t\t\t\t<span cv-if = \"title\">\n\t\t\t\t\t<span cv-ref = \"title:curvature/base/Tag\">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<select\n\t\t\t\t\tname      = \"").concat(g.getName(),"\"\n\t\t\t\t\tcv-bind   = \"value\"\n\t\t\t\t\tcv-each   = \"options:option:optionText\"\n\t\t\t\t\tcv-ref    = \"input:curvature/base/Tag\"\n\t\t\t\t\tcv-expand = \"attrs\"\n\t\t\t\t/>\n\t\t\t\t\t<option value = \"[[option]]\">[[optionText]]</option>\n\t\t\t\t</select>\n\t\t\t\t<span cv-each = \"errors:error:e\">\n\t\t\t\t\t<p class = \"cv-error\">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"postRender",value:function postRender(){var a=this;this.args.bindTo("value",function(b){return a.selectOptionByValue(b)}),this.args.options.bindTo(function(){return a.selectOptionByValue(a.args.value)},{frame:1})}},{key:"selectOptionByValue",value:function selectOptionByValue(a){var b,c=this.tags.input.element,d=_createForOfIteratorHelper(c.options);try{for(d.s();!(b=d.n()).done;){var e=b.value;e.value==a&&(c.selectedIndex=e.index)}}catch(a){d.e(a)}finally{d.f()}}},{key:"getLabel",value:function getLabel(){for(var a in this.args.options)if(this.args.options[a]==this.args.value)return a}}]),b}(_Field2.Field);exports.SelectField=SelectField;
});

;require.register("curvature/form/TextareaField.js", function(exports, require, module) {
"use strict";var _Field2=require("./Field");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextareaField=void 0;function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var TextareaField=/*#__PURE__*/function(a){function b(a,d,e,f){var g;_classCallCheck(this,b),g=c.call(this,a,d,e,f);var h=g.args.attrs||{};return h.type=h.type||"textarea",g.template="\n\t\t\t<label\n\t\t\t\tfor       = \"".concat(g.getName(),"\"\n\t\t\t\tdata-type = \"").concat(h.type,"\"\n\t\t\t\tcv-ref    = \"label:curvature/base/Tag\">\n\t\t\t\t<span cv-if = \"title\">\n\t\t\t\t\t<span cv-ref = \"title:curvature/base/Tag\">[[title]]</span>\n\t\t\t\t</span>\n\t\t\t\t<textarea\n\t\t\t\t\t\tname      = \"").concat(g.getName(),"\"\n\t\t\t\t\t\tcv-bind   = \"value\"\n\t\t\t\t\t\tcv-ref    = \"input:curvature/base/Tag\"\n\t\t\t\t\t\tcv-expand = \"attrs\"\n\t\t\t\t></textarea>\n\t\t\t\t<cv-template cv-if = \"attrs.data-caption\">\n\t\t\t\t\t<p>[[attrs.data-caption]]</p>\n\t\t\t\t</cv-template>\n\t\t\t\t<span cv-each = \"errors:error:e\">\n\t\t\t\t\t<p class = \"cv-error\">[[error]]</p>\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_Field2.Field);exports.TextareaField=TextareaField;
});

;require.register("curvature/form/multiField/CreateForm.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateForm=void 0;var _FormWrapper2=require("./FormWrapper"),_HiddenField=require("../../form/HiddenField");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(a,b,c){var d=_superPropBase(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(3>arguments.length?a:c):e.value}},_get.apply(this,arguments)}function _superPropBase(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=_getPrototypeOf(a),null!==a););return a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var CreateForm=/*#__PURE__*/function(a){function b(a,d){var e,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"GET",g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,b),e=c.call(this,a,d,"POST",g||{// title: HiddenField
}),e.creating=!!a.publicId,e}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"onLoad",value:function onLoad(a){for(var c in a.args.fields)if(a.args.fields[c].tags.input&&"hidden"!=a.args.fields[c].args.attrs.type){var d=a.args.fields[c].tags.input.element;d.focus();break}_get(_getPrototypeOf(b.prototype),"onLoad",this).call(this,a)}},{key:"onRequest",value:function onRequest(){return this.args.view.args.loading=!0,this.args.view.args.classes+=" loading",_get(_getPrototypeOf(b.prototype),"onRequest",this).call(this)}},{key:"onResponse",value:function onResponse(a){return this.args.view.args.loading=!1,this.args.view.args.classes="",a.body?void(this.args.wrapper?this.args.wrapper.refresh(a.body):this.args.view.addRecord(a.body),this.args.view.args.creating="",_get(_getPrototypeOf(b.prototype),"onResponse",this).call(this,a)):void _get(_getPrototypeOf(b.prototype),"onResponse",this).call(this,a)}}]),b}(_FormWrapper2.FormWrapper);exports.CreateForm=CreateForm;
});

;require.register("curvature/form/multiField/Form.js", function(exports, require, module) {
// import { BaseForm } from '../Ui/BaseForm';
// import { HiddenField } from 'curvature/form/HiddenField';
// export class Form extends BaseForm
// {
// 	constructor(args, path, method = 'GET', customFields = {})
// 	{
// 		super(args, path, 'POST', customFields);
// 		this.creating = !!args.publicId;
// 	}
// 	onLoad(form)
// 	{
// 		for(let i in form.args.fields)
// 		{
// 			if(!form.args.fields[i].tags.input)
// 			{
// 				continue;
// 			}
// 			if(form.args.fields[i].args.attrs.type == 'hidden')
// 			{
// 				continue;
// 			}
// 			let element = form.args.fields[i].tags.input.element;
// 			element.focus();
// 			break;
// 		}
// 		super.onLoad(form);
// 	}
// 	onRequest()
// 	{
// 		this.args.view.args.loading = true;
// 		this.args.view.args.classes += ' loading';
// 		return super.onRequest();
// 	}
// 	onResponse(response)
// 	{
// 		this.args.view.args.loading = false;
// 		this.args.view.args.classes = '';
// 		if(!this.args.wrapper)
// 		{
// 			this.args.view.addRecord(response.body);
// 		}
// 		else
// 		{
// 			this.args.wrapper.refresh(response.body);
// 		}
// 		this.args.view.addButtonClicked();
// 		super.onResponse(response);
// 	}
// }
"use strict";
});

;require.register("curvature/form/multiField/FormWrapper.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormWrapper=void 0;var _Repository=require("../../base/Repository"),_Form=require("../../form/Form"),_Toast=require("../../toast/Toast"),_ToastAlert=require("../../toast/ToastAlert"),_View2=require("../../base/View"),_Router=require("../../base/Router");function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var FormWrapper=/*#__PURE__*/function(a){function b(a,d){var e,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"GET",g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,b),e=c.call(this,a),e.path=d,e.args.method=f,e.args.action=e.args.action||null,e.args.form=null,e.args.title=null,e.args["class"]="",e.template="\n\t\t\t<div class = \"form constrict [[class]]\">\n\t\t\t\t<div cv-if = \"title\"><label>[[title]]</label></div>\n\t\t\t\t[[form]]\n\t\t\t</div>\n\t\t",e._onLoad=[],e._onSubmit=[],e._onRender=[],e._onRequest=[],e._onError=[],e._onResponse=[],d instanceof _Form.Form?e.loadForm(form,g):_Repository.Repository.request(d).then(function(a){return a&&a.meta&&a.meta.form&&a.meta.form instanceof Object?void(e.loadForm(new _Form.Form(a.meta.form,g)),e.onLoad(e.args.form,a.body)):void console.warn("Cannot render form with ",a)}),e}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"loadForm",value:function loadForm(a){var b=this;this.args.form=a,this.args.form.addEventListener("submit",function(c){c&&(c.preventDefault(),c.stopPropagation());var d=a.tags.formTag.element,e=d.getAttribute("action")||b.args.action||b.path,f=d.getAttribute("method")||b.args.method,g=a.args.flatValue;// console.log(method, uri);
if(f=f.toUpperCase(),"GET"==f){var h={};for(var j in b.args.content&&b.args.content.args&&(b.args.content.args.page=0),h.page=0,g)"api"!=j&&(h[j]=g[j]);var k=b.onRequest(h);k.then(function(){b.onResponse({}),_Router.Router.go(e+"?"+_Router.Router.queryToString(h)),b.update(h)})["catch"](function(a){b.onRequestError(a)})}else if("POST"==f){var l,m=a.formData(),n=_createForOfIteratorHelper(m.entries());try{for(n.s();!(l=n.n()).done;)l.value;// console.log(pair[0]+ ', ' + pair[1]);
}catch(a){n.e(a)}finally{n.f()}var o=b.onRequest(m);o&&o.then(function(){_Repository.Repository.request(e,{api:"json"},m,!1,{progressDown:function progressDown(a){b.progressDown(a)},progressUp:function progressUp(a){b.progressUp(a)}}).then(function(a){b.onResponse(a)})["catch"](function(a){b.onRequestError(a)})})}})}},{key:"onRequest",value:function onRequest(a){var b=[];for(var c in this._onRequest){var d=this._onRequest[c](a,this);d&&b.push(d)}return 0==b.length?Promise.resolve():Promise.all(b)}},{key:"onRequestError",value:function onRequestError(a){for(var b in this._onError)this._onError[b](a,this);if(a.messages)for(var c in a.messages)_Toast.Toast.instance().alert(a.body&&a.body.id?"Success!":"Error!",a.messages[c],3500)}},{key:"onResponse",value:function onResponse(a){for(var b in this._onResponse)this._onResponse[b](a,this);if(a.messages)for(var c in a.messages)_Toast.Toast.instance().alert(a.body&&a.body.id?"Success!":"Error!",a.messages[c],3500)}},{key:"onLoad",value:function onLoad(a,b){for(var c in this._onLoad)this._onLoad[c](this,a,b)}// onSubmit(form, event)
// {
// 	for(let i in this._onSubmit)
// 	{
// 		this._onSubmit[i](this, event);
// 	}
// }
// postRender()
// {
// 	for(let i in this._onRender)
// 	{
// 		this._onRender[i](this.args.form);
// 	}
// }
},{key:"customFields",value:function customFields(){return{}}},{key:"submit",value:function submit(){// console.log(this);
}},{key:"progressUp",value:function progressUp(a){console.log(a.loaded,a.total,a.loaded/a.total)}},{key:"progressDown",value:function progressDown(a){console.log(a.loaded,a.total,a.loaded/a.total)}}]),b}(_View2.View);exports.FormWrapper=FormWrapper;
});

;require.register("curvature/form/multiField/SearchForm.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SearchForm=void 0;var _Config=require("../../base/Config"),_FormWrapper2=require("./FormWrapper"),_HiddenField=require("../../form/HiddenField"),_Repository=require("../../base/Repository");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(a,b,c){var d=_superPropBase(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(3>arguments.length?a:c):e.value}},_get.apply(this,arguments)}function _superPropBase(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=_getPrototypeOf(a),null!==a););return a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var backend=_Config.Config.get("backend")||"//",SearchForm=/*#__PURE__*/function(a){function b(a,d){var e,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"GET",g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,b),e=c.call(this,a,d,"POST",{search:_HiddenField.HiddenField}),e.superTemplate=e.template,e.args.records=[],e.selected=null,e.template="\n\t\t\t".concat(e.superTemplate,"\n\t\t\t<div cv-each = \"records:record:r\" class = \"dropdown-results\">\n\t\t\t\t<div\n\t\t\t\t\tcv-on         = \"click:select(event)\"\n\t\t\t\t\tdata-index    = \"[[r]]\"\n\t\t\t\t\tdata-publicId = \"[[record.publicId]]\"\n\t\t\t\t\tclass         = \"[[record.classes]]\"\n\t\t\t\t>\n\t\t\t\t\t[[record.title]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),e}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"onLoad",value:function onLoad(a){var c=this;for(var d in a.args.fields)if(a.args.fields[d].tags.input&&"hidden"!=a.args.fields[d].args.attrs.type){var e=a.args.fields[d].tags.input.element;e.focus();break}a.args.flatValue.bindTo("keyword",function(a){c.args.records=[],c.selected=null,a&&(console.log(c.path,a),_Repository.Repository.request(backend+c.path,{keyword:a}).then(function(b){console.log(b.body),b.body&&(c.args.records=b.body.map(function(b){return b.classes="",b.title==a&&(b.classes="selected",c.selected=b),b}))}))}),_get(_getPrototypeOf(b.prototype),"onLoad",this).call(this,a)}},{key:"onRequest",value:function onRequest(){// this.args.view.args.loading = true;
// this.args.view.args.classes += ' loading';
return _get(_getPrototypeOf(b.prototype),"onRequest",this).call(this)}},{key:"onResponse",value:function onResponse(a){_get(_getPrototypeOf(b.prototype),"onResponse",this).call(this,a)}},{key:"select",value:function select(a){var b=this,c=a.target.getAttribute("data-index"),d=a.target.getAttribute("data-publicId"),e=this.args.records[c];return console.log(e),this.args.view.addRecord(e),void this.args.view.addButtonClicked()}},{key:"onSubmit",value:function onSubmit(a,b){return b.preventDefault(),b.stopPropagation(),this.selected&&(this.args.view.addRecord(this.selected),this.args.view.addButtonClicked()),!1}}]),b}(_FormWrapper2.FormWrapper);exports.SearchForm=SearchForm;
});

;require.register("curvature/form/multiField/View.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.View=void 0;var _Config=require("../../base/Config"),_Form=require("../../form/Form"),_FieldSet2=require("../../form/FieldSet"),_CreateForm=require("./CreateForm"),_SearchForm=require("./SearchForm"),_FormWrapper=require("./FormWrapper"),_Wrapper=require("./Wrapper");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}// import { Loader     } from '../Ui/ZZ';
var View=/*#__PURE__*/function(a){function b(a,d,e,f){var g;for(var h in _classCallCheck(this,b),g=c.call(this,a,d,e,f),g.args._fields=[],g.dragging=!1,g.dropping=!1,g.args.fields)g.args._fields[+h+1]=g.wrapSubfield(g.args.fields[h]);return g.args.fields[-1].disable(),g.args._fields[0].addEventListener("attach",function(a){return a.preventDefault()}),g.args.creating="",g.args.fieldType="",g.args.createForm=g.args.createForm||"",g.args.searchForm=g.args.searchForm||"",g.args.createFormReady=!1,g.setCreateForm({view:_assertThisInitialized(g)}),g.args.loader="...",g.args.addIcon="&#215;",g.args.addIcon="a",g.args.addIcon="+",g.args.draggable="true",g.template="\n\t\t\t<label\n\t\t\t\tfor        = \"".concat(g.args.name,"\"\n\t\t\t\tdata-type  = \"").concat(g.args.attrs.type,"\"\n\t\t\t\tdata-multi = \"").concat(g.args.attrs["data-multi"]?"true":"false","\"\n\t\t\t>\n\t\t\t\t<span cv-if = \"title\">\n\t\t\t\t\t<span cv-ref = \"title:curvature/base/Tag\">[[title]]</span>\n\t\t\t\t</span>\n\n\t\t\t\t<fieldset\n\t\t\t\t\tname  = \"").concat(g.args.name,"\"\n\t\t\t\t\tclass = \"multi-field [[creating]] [[fieldType]]\"\n\t\t\t\t>\n\n\t\t\t\t\t<div class = \"record-list\" cv-each = \"_fields:field:f\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass     = \"single-record\"\n\t\t\t\t\t\t\tdata-for  = \"[[f]]\"\n\t\t\t\t\t\t>[[field]]</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class = \"overlay create\">\n\t\t\t\t\t\t<div class = \"form constrict\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tcv-on = \"click:addButtonClicked(event)\"\n\t\t\t\t\t\t\t\tclass = \"bubble bottom left-margin close\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t&#215;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t[[createForm]]\n\t\t\t\t\t\t[[searchForm]]\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class = \"overlay loading\">\n\t\t\t\t\t\t[[loader]]\n\t\t\t\t\t</div>\n\t\t\t\t\t<div cv-if = \"createFormReady\" class=\"add-button-holder\">\n\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcv-on = \"click:addButtonClicked(event)\"\n\t\t\t\t\t\t\tclass = \"bubble bottom left-margin add\"\n\t\t\t\t\t\t\ttab-index = \"0\"\n\t\t\t\t\t\t>[[addIcon]]</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</fieldset>\n\n\t\t\t\t<span cv-each = \"errors:error:e\">\n\t\t\t\t\t<p class = \"cv-error\">[[error]]</p>\n\t\t\t\t</span>\n\n\t\t\t</label>\n\t\t"),g}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"setCreateForm",value:function setCreateForm(a){var b=this,c="";_Config.Config.get("backend")&&(c=_Config.Config.get("backend")),!1!==this.args.attrs["data-create-endpoint"]&&void 0!==this.args.attrs["data-create-endpoint"]?(this.args.createForm=new _CreateForm.CreateForm(Object.assign({},a),this.args.attrs["data-create-endpoint"]?c+this.args.attrs["data-create-endpoint"]:a.publicId?c+"".concat(this.args.attrs["data-endpoint"],"/").concat(a.publicId,"/edit"):c+"".concat(this.args.attrs["data-endpoint"],"/create")),this.args.createForm._onLoad.push(function(){b.args.createFormReady=!0})):this.args.createFormReady=!0,this.args.attrs["data-endpoint"]&&(this.args.searchForm=new _SearchForm.SearchForm(Object.assign({},a),c+this.args.attrs["data-endpoint"]))}},{key:"wrapSubfield",value:function wrapSubfield(a){return new _Wrapper.Wrapper({field:a,parent:this})}},{key:"addButtonClicked",value:function addButtonClicked(){this.args.creating||(this.args.creating="creating")}},{key:"addRecord",value:function addRecord(a){for(var b in this.args.creating="",Array.isArray(a)||(a=[a]),a){var c,d=this.args.fields[-1].constructor,e=Object.assign({},this.args.fields[-1].skeleton),f=Object.values(this.args.fields).length-1;e=this.cloneSkeleton(e),e=this.correctNames(e,f),e.attrs=null!==(c=e.attrs)&&void 0!==c?c:{},e.attrs["data-array"]=!0;var g={};g[f]=e;var h=_Form.Form.renderFields(g,this)[f];this.args.fields[f]=h;var j=this.wrapSubfield(h);h.args.value.id=a[b].id||"",h.args.value["class"]=a[b]["class"]||"",h.args.value.title=a[b].title||"",h.args.value.key=this.args._fields.length,console.log(this.args._fields),this.args._fields.push(j),j.refresh(a[b])}}},{key:"editRecord",value:function editRecord(a,b){this.setCreateForm({view:this,publicId:a.publicId,wrapper:b}),this.args.creating=this.args.creating?"":"creating"}},{key:"deleteImage",value:function deleteImage(a){console.log(a,this.args.fields),this.args.fields[a].disable(),this.args._fields[a].args.classes="deleted"}},{key:"undeleteImage",value:function undeleteImage(a){this.args.fields[a].enable(),this.args._fields[a].args.classes=""}},{key:"cloneSkeleton",value:function cloneSkeleton(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c={};for(var d in Array.isArray(a)&&(c=[]),a)if("fields"!=d){if(!a[d]||"object"!==_typeof(a[d])){c[d]=a[d];continue}c[d]=Object.assign({},this.cloneSkeleton(a[d],b+1))}return c}},{key:"correctNames",value:function correctNames(a,b){if(a.name=a.name.replace(/\[-1\]/,"[".concat(b,"]")),a.attrs.name=a.name,"children"in a)for(var c in a.children)a.children[c]=this.correctNames(a.children[c],b);return a}},{key:"drag",value:function drag(a){this.dragging=a.target}},{key:"dragOver",value:function dragOver(a){if(!this.dragging)return!1;for(var b=a.target;b&&!b.matches("[draggable=\"true\"]");)b=b.parentNode;b&&(this.dropping=b,a.preventDefault())}},{key:"drop",value:function drop(a){a.stopPropagation();var b=this.dragging.querySelector("label"),c=this.dropping.querySelector("label"),d=b.getAttribute("for"),e=c.getAttribute("for"),f=this.extractIndex(d),g=this.extractIndex(e);if(f==g||f==g-1)return this.dragging=!1,void(this.dropping=!1);var h,j,k=b.querySelectorAll("[name^=\""+d+"\"]"),l=b.querySelectorAll("[for^=\""+d+"\"]"),m=c.querySelectorAll("[name^=\""+e+"\"]"),n=c.querySelectorAll("[for^=\""+e+"\"]"),o=this.dropping,p=0;for(var q in this.args.fields){var r=this.args.fields[q].tags.input.element,s=this.args.fields[q].tags.label.element,t=r.getAttribute("name");b==s&&(h=this.args.fields[q]),c==s&&(j=this.args.fields[q]);var u=this.extractIndex(t),v=!1;if(!(0>u)&&(f>g&&u>=g&&u<=f?(v=this.changeIndex(t,u+1),p=-1):f<g&&u<=g&&u>=f&&(v=this.changeIndex(t,u-1),p=0),!1!==v)){this.changeAttributePrefix(s,"for",t,v),this.args.fields[q].args.fieldName=v,this.changeAttributePrefix(r,"name",t,v);for(var w=r.parentNode.querySelectorAll("[name^=\""+t+"\"]"),x=0;x<w.length;x++)this.changeAttributePrefix(w[x],"name",t,v);for(var y=r.parentNode.querySelectorAll("[for^=\""+t+"\"]"),z=0;z<y.length;z++)this.changeAttributePrefix(y[z],"for",t,v)}}d=b.getAttribute("for"),e=c.getAttribute("for"),f=this.extractIndex(d),g=this.extractIndex(e),this.changeAttributePrefix(b,"for",d,this.changeIndex(d,g+p));for(var A=0;A<k.length;A++)this.changeAttributePrefix(k[A],"name",d,this.changeIndex(d,g+p));for(var B=0;B<l.length;B++)this.changeAttributePrefix(l[B],"for",d,this.changeIndex(d,g+p));h.args.fieldName=b.getAttribute("for"),this.changeAttributePrefix(c,"for",e,this.changeIndex(e,g+p+1));for(var C=0;C<m.length;C++)this.changeAttributePrefix(m[C],"name",e,this.changeIndex(e,g+p+1));for(var D=0;D<n.length;D++)this.changeAttributePrefix(n[D],"for",e,this.changeIndex(e,g+p+1));j.args.fieldName=c.getAttribute("for"),this.dragging.parentNode.insertBefore(this.dragging,o),this.dragging=!1,this.dropping=!1}},{key:"dragStop",value:function dragStop(){this.dragging=!1,this.dropping=!1}},{key:"changeAttributePrefix",value:function changeAttributePrefix(a,b,c,d){var e=a.getAttribute(b),f=d+a.getAttribute(b).substring(c.length);a.setAttribute(b,f)}},{key:"extractIndex",value:function extractIndex(a){var b;return!!(b=/\[(-?\d+)\]$/.exec(a))&&parseInt(b[1])}},{key:"changeIndex",value:function changeIndex(a,b){var c=a.replace(/\[(-?\d+)\]$/,"["+b+"]");return c}},{key:"cancel",value:function cancel(a){a.stopPropagation()}}]),b}(_FieldSet2.FieldSet);exports.View=View;
});

;require.register("curvature/form/multiField/Wrapper.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Wrapper=void 0;var _Config=require("../../base/Config"),_View2=require("../../base/View"),_Repository=require("../../base/Repository");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var Wrapper=/*#__PURE__*/function(a){function b(a){var d;return _classCallCheck(this,b),d=c.call(this,a),d.template="\n\t\t\t<div\n\t\t\t\tclass = \"wrapped-field [[classes]]\"\n\t\t\t\tcv-on = \"click:editRecord(event, key)\"\n\t\t\t\ttitle = \"[[fieldName]]: [[id]]\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tcv-on = \"click:deleteImage(event, key)\"\n\t\t\t\t\tstyle = \"display: inline; cursor:pointer;\"\n\t\t\t\t>\n\t\t\t\t\t[[icon]]\n\t\t\t\t</div>\n\t\t\t\t<div class = \"field-content\">\n\t\t\t\t\t[[title]]\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div style = \"display:none\">[[field]]</div>\n\t\t",d.args.field=d.args.field||"!",d.args.keyword="",d.args.title="",d.args.record={},d.args.key=d.args.field.key,d.args.classes="",d.args.icon="\xD7",d.deleted=!1,d.args.field.args.bindTo("fieldName",function(a){d.args.fieldName=a}),d.args.fieldName=d.args.field.args.name,d.args.id=d.args.field.args.value.id,d.args.bindTo("id",function(a){d.args.field.args.value.id=a}),d.args.field.args.value.bindTo("id",function(a){a&&_Repository.Repository.request(d.backendPath(),{id:a}).then(function(b){d.args.id=a;var c=b.body[0];return c?void d.refresh(c):(d.args.publicId=null,void(d.args.title=null))})},{wait:0}),d.args.field.args.value.bindTo("keyword",function(a){d.args.keyword=a}),d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"editRecord",value:function editRecord(){this.args.parent.editRecord(this.args.record,this)}},{key:"deleteImage",value:function deleteImage(a,b){a.stopPropagation(),this.deleted?(this.args.icon="\xD7",this.args.parent.undeleteImage(b),this.deleted=!1):(this.args.icon="\u21BA",this.args.parent.deleteImage(b),this.deleted=!0)}},{key:"backendPath",value:function backendPath(){var a=_Config.Config.get("backend")||"//";return a+this.args.parent.args.attrs["data-endpoint"]}},{key:"getRecordTitle",value:function getRecordTitle(a){return a._titleField?a[a._titleField]:a.title||a.publicId||a.id}},{key:"refresh",value:function refresh(a){for(var b in a)this.args[b]=a[b];this.args.record=a,this.args.title=this.getRecordTitle(a)}}]),b}(_View2.View);exports.Wrapper=Wrapper;
});

;require.register("curvature/input/Axis.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Axis=void 0;var _Bindable$NoGetters,_Bindable=require("../base/Bindable");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}_Bindable$NoGetters=_Bindable.Bindable.NoGetters;var Axis=/*#__PURE__*/function(){function a(b){var c=b.deadZone,d=void 0===c?0:c,e=b.proportional;_classCallCheck(this,a),_defineProperty(this,_Bindable$NoGetters,!0),_defineProperty(this,"magnitude",0),_defineProperty(this,"delta",0),this.proportional=void 0===e||e,this.deadZone=d}return _createClass(a,[{key:"tilt",value:function tilt(a){this.deadZone&&Math.abs(a)>=this.deadZone?a=(Math.abs(a)-this.deadZone)/(1-this.deadZone)*Math.sign(a):this.deadZone&&Math.abs(a)<this.deadZone&&(a=0),this.delta=(+(a-this.magnitude)).toFixed(3)-0,this.magnitude=(+a).toFixed(3)-0}},{key:"zero",value:function zero(){this.magnitude=this.delta=0}}]),a}();exports.Axis=Axis;
});

;require.register("curvature/input/Button.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Button=void 0;var _Bindable$NoGetters,_Bindable=require("../base/Bindable");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}_Bindable$NoGetters=_Bindable.Bindable.NoGetters;var Button=/*#__PURE__*/function(){function a(){_classCallCheck(this,a),_defineProperty(this,_Bindable$NoGetters,!0),_defineProperty(this,"active",!1),_defineProperty(this,"pressure",0),_defineProperty(this,"delta",0),_defineProperty(this,"time",0)}return _createClass(a,[{key:"update",value:function update(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.pressure?this.time++:!this.pressure&&0<this.time?this.time=-1:!this.pressure&&0>this.time&&this.time--,-1>this.time&&-1===this.delta&&(this.delta=0)}},{key:"press",value:function press(a){this.delta=(+(a-this.pressure)).toFixed(3)-0,this.pressure=(+a).toFixed(3)-0,this.active=!0,this.time=0<this.time?this.time:0}},{key:"release",value:function release(){this.active&&(this.delta=(+-this.pressure).toFixed(3)-0,this.pressure=0,this.active=!1)}},{key:"zero",value:function zero(){this.pressure=this.delta=0,this.active=!1}}]),a}();exports.Button=Button;
});

;require.register("curvature/input/Gamepad.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Gamepad=void 0;var _Bindable$NoGetters,_Bindable=require("../base/Bindable"),_Mixin=require("../base/Mixin"),_EventTargetMixin=require("../mixin/EventTargetMixin"),_Axis=require("./Axis"),_Button=require("./Button");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var keys={Space:0,Enter:0,NumpadEnter:0,ControlLeft:1,ControlRight:1,ShiftLeft:2,ShiftRight:2,KeyZ:3,KeyQ:4,KeyE:5,Digit1:6,Digit3:7,KeyW:12,KeyA:14,KeyS:13,KeyD:15,KeyH:112,KeyJ:113,KeyK:114,KeyL:115,KeyP:9,Pause:9,Tab:11,ArrowUp:12,ArrowDown:13,ArrowLeft:14,ArrowRight:15,Numpad4:112,Numpad2:113,Numpad8:114,Numpad6:115,Backquote:1010,NumpadAdd:1011,NumpadSubtract:1012,NumpadMultiply:1013,NumpadDivide:1014,Escape:1020};_toConsumableArray(Array(12)).map(function(a,b){return keys["F".concat(b)]=2e3+b}),_Bindable$NoGetters=_Bindable.Bindable.NoGetters;var Gamepad=/*#__PURE__*/function(a){function b(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=d.keys,f=void 0===e?{}:e,g=d.deadZone,h=void 0===g?0:g,i=d.gamepad,j=void 0===i?null:i,k=d.keyboard,l=void 0===k?null:k,m=d.axisMap,n=void 0===m?null:m;return _classCallCheck(this,b),a=c.call(this),_defineProperty(_assertThisInitialized(a),_Bindable$NoGetters,!0),_defineProperty(_assertThisInitialized(a),"axisMap",{12:-1,13:1,14:-0,15:0,112:-2,113:3,114:-3,115:2}),a.deadZone=h,a.gamepad=j,a.index=j.index,a.id=j.id,a.axisMap=n||a.axisMap,Object.defineProperties(_assertThisInitialized(a),{buttons:{value:{}},pressure:{value:{}},axes:{value:{}},keys:{value:{}}}),a}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"update",value:function update(){for(var a in this.buttons){var b=this.buttons[a];b.update()}}},{key:"rumbleEffect",value:function rumbleEffect(a){return this.gamepad.vibrationActuator.playEffect("dual-rumble",a)}},{key:"rumble",value:function rumble(){if(this.gamepad.vibrationActuator.pulse){var a;return(a=this.gamepad.vibrationActuator).pulse.apply(a,arguments)}this.rumbleEffect({duration:1e3,strongMagnitude:1,weakMagnitude:1})}},{key:"readInput",value:function readInput(){if(this.gamepad){var a=this.gamepad.index+"",b=this.constructor;b.padsRead.has(a)||(b.padsRead=new Map(Object.entries(navigator.getGamepads())));var c=this.gamepad=b.padsRead.get(a);b.padsRead["delete"](a);var d={},e={};if(c)for(var f in c.buttons){var g=c.buttons[f];g.pressed&&(this.press(f,g.value),d[f]=!0)}if(this.keyboard){for(var h in _toConsumableArray(Array(10)))d[h]||0<this.keyboard.getKeyCode(h)&&(this.press(h,1),d[h]=!0);for(var j in keys)if(!d[j]){var k=keys[j];0<this.keyboard.getKeyCode(j)&&(this.press(k,1),d[k]=!0)}}if(c)for(var l in c.buttons)if(!d[l]){var m=c.buttons[l];m.pressed||(this.release(l),e[l]=!0)}if(this.keyboard){for(var n in _toConsumableArray(Array(10)))e[n]||d[n]||0>this.keyboard.getKeyCode(n)&&(this.release(n),e[n]=!0);for(var o in keys){var p=keys[o];e[p]||d[p]||0>this.keyboard.getKeyCode(o)&&(this.release(p),e[o]=!0)}}var q={};if(c)for(var r in c.axes){var s=c.axes[r];q[r]=!0,this.tilt(r,s)}for(var t in this.axisMap){this.buttons[t]||(this.buttons[t]=new _Button.Button);var u=this.axisMap[t],v=Math.sign(1/u),w=Math.abs(u);this.buttons[t].active?(q[w]=!0,this.tilt(w,v)):!q[w]&&this.tilt(w,0)}}}},{key:"tilt",value:function tilt(a,b){this.axes[a]||(this.axes[a]=new _Axis.Axis({deadZone:this.deadZone})),this.axes[a].tilt(b)}},{key:"press",value:function press(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.buttons[a]||(this.buttons[a]=new _Button.Button),this.buttons[a].press(b)}},{key:"release",value:function release(a){this.buttons[a]||(this.buttons[a]=new _Button.Button),this.buttons[a].release()}},{key:"serialize",value:function serialize(){var a={};for(var b in this.buttons)a[b]=this.buttons[b].pressure;var c={};for(var d in this.axes)c[d]=this.axes[d].magnitude;return{axes:c,buttons:a}}},{key:"replay",value:function replay(a){if(a.buttons)for(var b in a.buttons)0<a.buttons[b]?this.press(b,a.buttons[b]):this.release(b);if(a.axes)for(var c in a.axes)a.axes[c].magnitude!==a.axes[c]&&this.tilt(c,a.axes[c])}},{key:"zero",value:function zero(){for(var a in this.axes)this.axes[a].zero();for(var b in this.buttons)this.buttons[b].zero()}}],[{key:"getPad",value:function getPad(a){var b=this,c=a.index,d=void 0===c?void 0:c,e=a.deadZone,f=void 0===e?0:e,g=a.keys,h=void 0===g?{}:g,i=a.keyboard,j=void 0===i?null:i,k=a.axisMap,l=void 0===k?null:k;if(this.padsConnected.has(d))return this.padsConnected.get(d);var m=new Promise(function(a){addEventListener("gamepadconnected",function registerPad(c){c.stopImmediatePropagation();var d=new b({gamepad:c.gamepad,deadZone:f,keys:h,keyboard:j,axisMap:l});b.padsConnected.set(c.gamepad.index,m),a(d)},{once:!0})});return m}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin));exports.Gamepad=Gamepad,_defineProperty(Gamepad,"padsConnected",new Map),_defineProperty(Gamepad,"padsRead",new Map);
});

;require.register("curvature/input/Keyboard.js", function(exports, require, module) {
"use strict";var _Bindable=require("../base/Bindable");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Keyboard=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Keyboard=/*#__PURE__*/function(){function a(){var b=this;_classCallCheck(this,a),this.maxDecay=120,this.comboTime=500,this.listening=!1,this.focusElement=document.body,this[_Bindable.Bindable.NoGetters]=!0,Object.defineProperty(this,"combo",{value:_Bindable.Bindable.make([])}),Object.defineProperty(this,"whichs",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"codes",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"keys",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"pressedWhich",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"pressedCode",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"pressedKey",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"releasedWhich",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"releasedCode",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"releasedKey",{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,"keyRefs",{value:_Bindable.Bindable.make({})}),document.addEventListener("keyup",function(a){b.listening&&(0<b.keys[a.key]||!b.focusElement||document.activeElement===b.focusElement||b.focusElement.contains(document.activeElement)&&!document.activeElement.matches("input,textarea"))&&(a.preventDefault(),b.releasedWhich[a.which]=Date.now(),b.releasedCode[a.code]=Date.now(),b.releasedKey[a.key]=Date.now(),b.whichs[a.which]=-1,b.codes[a.code]=-1,b.keys[a.key]=-1)}),document.addEventListener("keydown",function(a){b.listening&&(b.focusElement&&document.activeElement!==b.focusElement&&(!b.focusElement.contains(document.activeElement)||document.activeElement.matches("input,textarea"))||(a.preventDefault(),!a.repeat)&&(b.combo.push(a.code),clearTimeout(b.comboTimer),b.comboTimer=setTimeout(function(){return b.combo.splice(0)},b.comboTime),b.pressedWhich[a.which]=Date.now(),b.pressedCode[a.code]=Date.now(),b.pressedKey[a.key]=Date.now(),0<b.keys[a.key]||(b.whichs[a.which]=1,b.codes[a.code]=1,b.keys[a.key]=1)))});var c=function(){for(var a in b.keys)0>b.keys[a]||(b.releasedKey[a]=Date.now(),b.keys[a]=-1);for(var c in b.codes)0>b.codes[c]||(b.releasedCode[c]=Date.now(),b.codes[c]=-1);for(var d in b.whichs)0>b.whichs[d]||(b.releasedWhich[d]=Date.now(),b.whichs[d]=-1)};window.addEventListener("blur",c),window.addEventListener("visibilitychange",function(){"visible"===document.visibilityState||c()})}return _createClass(a,[{key:"getKeyRef",value:function getKeyRef(a){var b=this.keyRefs[a]=this.keyRefs[a]||_Bindable.Bindable.make({});return b}},{key:"getKeyTime",value:function getKeyTime(a){var b=this.releasedKey[a],c=this.pressedKey[a];return c?!b||b<c?Date.now()-c:-1*(Date.now()-b):0}},{key:"getCodeTime",value:function getCodeTime(a){var b=this.releasedCode[a],c=this.pressedCode[a];return c?!b||b<c?Date.now()-c:-1*(Date.now()-b):0}},{key:"getWhichTime",value:function getWhichTime(a){var b=this.releasedWhich[a],c=this.pressedWhich[a];return c?!b||b<c?Date.now()-c:-1*(Date.now()-b):0}},{key:"getKey",value:function getKey(a){return this.keys[a]?this.keys[a]:0}},{key:"getKeyCode",value:function getKeyCode(a){return this.codes[a]?this.codes[a]:0}},{key:"reset",value:function reset(){for(var a in this.keys)delete this.keys[a];for(var a in this.codes)delete this.codes[a];for(var a in this.whichs)delete this.whichs[a]}},{key:"update",value:function update(){for(var a in this.keys)0<this.keys[a]?this.keys[a]++:this.keys[a]>-this.maxDecay?this.keys[a]--:delete this.keys[a];for(var a in this.codes){var b=this.releasedCode[a],c=this.pressedCode[a],d=this.getKeyRef(a);if(0<this.codes[a])return d.frames=this.codes[a]++,d.time=c?Date.now()-c:0,d.down=!0,!b||b<c?void 0:-1*(Date.now()-b);this.codes[a]>-this.maxDecay?(d.frames=this.codes[a]--,d.time=b-Date.now(),d.down=!1):(d.frames=0,d.time=0,d.down=!1,delete this.codes[a])}for(var a in this.whichs)0<this.whichs[a]?this.whichs[a]++:this.whichs[a]>-this.maxDecay?this.whichs[a]--:delete this.whichs[a]}}],[{key:"get",value:function get(){return this.instance=this.instance||_Bindable.Bindable.make(new this)}}]),a}();exports.Keyboard=Keyboard;
});

;require.register("curvature/input/Mouse.js", function(exports, require, module) {
"use strict";
});

;require.register("curvature/input/Sequence.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sequence=void 0;var _Bindable$NoGetters,_Bindable=require("../base/Bindable"),_Mixin=require("../base/Mixin"),_EventTargetMixin=require("../mixin/EventTargetMixin");function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}_Bindable$NoGetters=_Bindable.Bindable.NoGetters;var Sequence=/*#__PURE__*/function(a){function b(a){var d,e=a.callback,f=a.keys,g=a.timing,h=a.gamepad;_classCallCheck(this,b),d=c.call(this),_defineProperty(_assertThisInitialized(d),_Bindable$NoGetters,!0),_defineProperty(_assertThisInitialized(d),"lastTap",!1),_defineProperty(_assertThisInitialized(d),"recent",[]),_defineProperty(_assertThisInitialized(d),"callback",function(){}),_defineProperty(_assertThisInitialized(d),"timing",500),_defineProperty(_assertThisInitialized(d),"keys","");var i=[e,g,f,h];return d.callback=i[0],d.timing=i[1],d.keys=i[2],d.gamepad=i[3],d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"check",value:function check(a){var b=this.recent,c=Date.now();c+-this.lastTap>this.timing&&b.splice(0),b.push({code:a,time:Date.now()});var d=b.map(function(a){return a.code}).join(","),e=this.keys.join(",");this.lastTap=c;var f=[];for(var g in b){var h=b[g],j=b.slice(g),k=j.map(function(a){return a.code}).join(",");if(k===e.substr(0,k.length)){f.push.apply(f,_toConsumableArray(j)),this.dispatchEvent(new CustomEvent("advance",{detail:{matched:f,recent:b,keys:this.keys,length:j.length}}));break}}return f.length?void(e===d.substr(-e.length)&&this.dispatchEvent(new CustomEvent("complete",{detail:{matched:f,recent:b,keys:this.keys,length:f.length}}))):void this.dispatchEvent(new CustomEvent("cancel",{detail:{matched:f,recent:b,keys:this.keys,length:f.length}}))}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin));exports.Sequence=Sequence;
});

;require.register("curvature/mixin/EventTargetMixin.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventTargetMixin=void 0;var _EventTargetMixin,_Mixin=require("../base/Mixin");function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c["return"]&&(g=c["return"](),Object(g)!==g))return}finally{if(j)throw e}}return h}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var EventTargetParent=Symbol("EventTargetParent"),CallHandler=Symbol("CallHandler"),Capture=Symbol("Capture"),Bubble=Symbol("Bubble"),Target=Symbol("Target"),HandlersBubble=Symbol("HandlersBubble"),HandlersCapture=Symbol("HandlersCapture"),EventTargetMixin=(_EventTargetMixin={},_defineProperty(_EventTargetMixin,_Mixin.Mixin.Constructor,function(){this[HandlersCapture]=new Map,this[HandlersBubble]=new Map}),_defineProperty(_EventTargetMixin,"dispatchEvent",function dispatchEvent(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=c[0];"string"==typeof e&&(e=new CustomEvent(e),c[0]=e),e.cvPath=e.cvPath||[],e.cvTarget=e.cvCurrentTarget=this;var f=this[Capture].apply(this,c);if(e.cancelable&&(!1===f||e.cancelBubble))return f;var g=[];if(this[HandlersCapture].has(e.type)){var i=this[HandlersCapture].get(e.type),j=_toConsumableArray(i);j.forEach(function(a){return a.push(i)}),g.push.apply(g,_toConsumableArray(j))}if(this[HandlersBubble].has(e.type)){var k=this[HandlersBubble].get(e.type),l=_toConsumableArray(k);l.forEach(function(a){return a.push(k)}),g.push.apply(g,_toConsumableArray(l))}g.push([function(){return a[CallHandler].apply(a,c)},{},null]);for(var m=0,h=g;m<h.length;m++){var n=_slicedToArray(h[m],3),o=n[0],p=n[1],q=n[2];if(p.once&&q["delete"](o),f=o(e),e.cancelable&&!1===f)break}return e.cancelable&&(e.cancelBubble||!1===f)||this[Bubble].apply(this,c),this[EventTargetParent]||Object.freeze(e.cvPath),e.returnValue}),_defineProperty(_EventTargetMixin,"addEventListener",function addEventListener(a,b){var c=this,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};!0===d&&(d={useCapture:!0});var e=HandlersBubble;d.useCapture&&(e=HandlersCapture),this[e].has(a)||this[e].set(a,new Map),this[e].get(a).set(b,d),d.signal&&d.signal.addEventListener("abort",function(){return c.removeEventListener(a,b,d)},{once:!0})}),_defineProperty(_EventTargetMixin,"removeEventListener",function removeEventListener(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};!0===c&&(c={useCapture:!0});var d=HandlersBubble;c.useCapture&&(d=HandlersCapture);this[d].has(a)&&this[d].get(a)["delete"](b)}),_defineProperty(_EventTargetMixin,Capture,function(){var a,b=0>=arguments.length?void 0:arguments[0];if(b.cvPath.push(this),!!this[EventTargetParent]){var c=(a=this[EventTargetParent])[Capture].apply(a,arguments);if(!(b.cancelable&&(!1===c||b.cancelBubble))&&this[EventTargetParent][HandlersCapture].has(b.type)){b.cvCurrentTarget=this[EventTargetParent];var d,e=b.type,f=this[EventTargetParent][HandlersCapture].get(e),g=_createForOfIteratorHelper(f);try{for(g.s();!(d=g.n()).done;){var h=_slicedToArray(d.value,2),i=h[0],j=h[1];if(j.once&&f["delete"](i),c=i(b),b.cancelable&&(!1===c||b.cancelBubble))break}}catch(a){g.e(a)}finally{g.f()}return c}}}),_defineProperty(_EventTargetMixin,Bubble,function(){var a,b,c=0>=arguments.length?void 0:arguments[0];if(c.bubbles&&this[EventTargetParent]&&!c.cancelBubble){if(!this[EventTargetParent][HandlersBubble].has(c.type)){var d;return(d=this[EventTargetParent])[Bubble].apply(d,arguments)}var e;c.cvCurrentTarget=this[EventTargetParent];var f,g=c.type,h=this[EventTargetParent][HandlersBubble].get(c.type),i=_createForOfIteratorHelper(h);try{for(i.s();!(f=i.n()).done;){var j=_slicedToArray(f.value,2),k=j[0],l=j[1];if(l.once&&h["delete"](k),e=k(c),c.cancelable&&!1===e)return e}}catch(a){i.e(a)}finally{i.f()}return e=(a=this[EventTargetParent])[CallHandler].apply(a,arguments),c.cancelable&&(!1===e||c.cancelBubble)?e:(b=this[EventTargetParent])[Bubble].apply(b,arguments)}}),_defineProperty(_EventTargetMixin,CallHandler,function(){var a=0>=arguments.length?void 0:arguments[0];if(!a.defaultPrevented){var b="on".concat(a.type[0].toUpperCase()+a.type.slice(1));if("function"==typeof this[b])return this[b](a)}}),_EventTargetMixin);exports.EventTargetMixin=EventTargetMixin,Object.defineProperty(EventTargetMixin,"Parent",{value:EventTargetParent});
});

require.register("curvature/mixin/PromiseMixin.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PromiseMixin=void 0;var _PromiseMixin,_Mixin=require("../base/Mixin");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var _Promise=Symbol("Promise"),Accept=Symbol("Accept"),Reject=Symbol("Reject"),PromiseMixin=(_PromiseMixin={},_defineProperty(_PromiseMixin,_Mixin.Mixin.Constructor,function(){var a=this;this[_Promise]=new Promise(function(b,c){a[Accept]=b,a[Reject]=c})}),_defineProperty(_PromiseMixin,"then",function then(){var a;return(a=this[_Promise]).then.apply(a,arguments)}),_defineProperty(_PromiseMixin,"catch",function _catch(){var a;return(a=this[_Promise])["catch"].apply(a,arguments)}),_defineProperty(_PromiseMixin,"finally",function _finally(){var a;return(a=this[_Promise])["finally"].apply(a,arguments)}),_PromiseMixin);exports.PromiseMixin=PromiseMixin,Object.defineProperty(PromiseMixin,"Reject",{value:Reject}),Object.defineProperty(PromiseMixin,"Accept",{value:Accept});
});

require.register("curvature/model/Database.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Database=void 0;var _Bindable=require("../base/Bindable"),_Mixin=require("../base/Mixin"),_EventTargetMixin=require("../mixin/EventTargetMixin");function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var BeforeWrite=Symbol("BeforeWrite"),AfterWrite=Symbol("AfterWrite"),BeforeDelete=Symbol("BeforeDelete"),AfterDelete=Symbol("AfterDelete"),BeforeInsert=Symbol("BeforeInsert"),AfterInsert=Symbol("AfterInsert"),BeforeUpdate=Symbol("BeforeUpdate"),AfterUpdate=Symbol("AfterUpdate"),BeforeRead=Symbol("BeforeRead"),AfterRead=Symbol("AfterRead"),PrimaryKey=Symbol("PrimaryKey"),Connection=Symbol("Connection"),Instances=Symbol("Instances"),HighWater=Symbol("HighWater"),Metadata=Symbol("Metadata"),Timers=Symbol("Timers"),Target=Symbol("Target"),Store=Symbol("Store"),Fetch=Symbol("Each"),Name=Symbol("Name"),Bank=Symbol("Bank"),Database=/*#__PURE__*/function(a){function b(a){var d;return _classCallCheck(this,b),d=c.call(this),Object.defineProperty(_assertThisInitialized(d),Connection,{value:a}),Object.defineProperty(_assertThisInitialized(d),Name,{value:a.name}),Object.defineProperty(_assertThisInitialized(d),Timers,{value:{}}),Object.defineProperty(_assertThisInitialized(d),Metadata,{value:{}}),Object.defineProperty(_assertThisInitialized(d),Bank,{value:{}}),d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"select",value:function select(a){var b=this,c=a.store,d=a.index,e=a.range,f=void 0===e?null:e,g=a.ranges,h=void 0===g?[]:g,j=a.direction,k=void 0===j?"next":j,l=a.limit,m=void 0===l?0:l,n=a.offset,o=void 0===n?0:n,p=a.type,q=void 0!==p&&p,r=a.origin,u=void 0===r?void 0:r,v=a.map,w=void 0===v?void 0:v,x=this[Connection].transaction(c,"readonly"),t=x.objectStore(c),s=d?t.index(d):t;return h&&h.length||(h=[f]),{each:this[Fetch](q,s,k,h,m,o,u,w),one:this[Fetch](q,s,k,h,1,o,u,w),then:function then(a){return b[Fetch](q,s,k,h,m,o,u,w)(function(a){return a}).then(a)}}}},{key:"insert",value:function insert(a,c){var d=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this[Bank][a]=this[Bank][a]||{};var f=this[Connection].transaction([a],"readwrite"),g=f.objectStore(a),h=this[Bank][a],i=!0;Array.isArray(c)||(c=[c],i=!1);var j,k=c.map(function(c){return new Promise(function(i,j){c=_Bindable.Bindable.make(c);var k={database:d[Name],record:c,store:a,type:"write",subType:"insert",origin:e},l=c[b.BeforeWrite]?c[b.BeforeWrite](k):null,m=c[b.BeforeInsert]?c[b.BeforeInsert](k):null,n=g.add(Object.assign({},_Bindable.Bindable.shuck(c)));!1===l||!1===m||(n.onerror=function(a){d.dispatchEvent(new CustomEvent("writeError",{detail:k})),j(a)},n.onsuccess=function(g){var j=g.target.result;h[j]=c;k.key=b.getPrimaryKey(c);var l=d.dispatchEvent(new CustomEvent("write",{cancelable:!0,detail:k}));if(l){if(c[PrimaryKey]=Symbol["for"](j),d[Metadata][a]||(d[Metadata][a]=d.getStoreMeta(a,"store",{})),d[Metadata][a]){var m=d.checkHighWaterMark(a,c),n=d.checkLowWaterMark(a,c),o=d[Metadata][a],p=c[o.highWater];e.setHighWater&&m<p&&d.setHighWaterMark(a,c,e,"insert"),e.setLowWater&&n>p&&d.setLowWaterMark(a,c,e,"insert")}c[b.AfterInsert]&&c[b.AfterInsert](k),c[b.AfterWrite]&&c[b.AfterWrite](k)}else f.abort();i(c)})})});return j=i?Promise.allSettled(k):k[0],Promise.all(k).then(function(){return f.commit&&f.commit()}),j}},{key:"update",value:function update(a,c){var d=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!c[PrimaryKey])throw Error("Value provided is not a DB record!");return new Promise(function(f,g){var h=d[Connection].transaction([a],"readwrite"),i=h.objectStore(a),j={database:d[Name],key:b.getPrimaryKey(c),record:c,store:a,type:"write",subType:"update",origin:e};c[b.AfterInsert]&&c[b.AfterInsert](j),c[b.AfterWrite]&&c[b.AfterWrite](j);var k=c[b.BeforeWrite]?c[b.BeforeWrite](j):null,l=c[b.BeforeUpdate]?c[b.BeforeUpdate](j):null;if(!1!==k&&!1!==l){var m=i.put(Object.assign({},_Bindable.Bindable.shuck(c)));m.onerror=function(a){d.dispatchEvent(new CustomEvent("writeError",{detail:j})),g(a)},m.onsuccess=function(b){var g=d.dispatchEvent(new CustomEvent("write",{cancelable:!0,detail:j}));if(g){if(d[Metadata][a]||(d[Metadata][a]=d.getStoreMeta(a,"store",{})),d[Metadata][a]){var i=d.checkHighWaterMark(a,c),k=d.checkLowWaterMark(a,c),l=d[Metadata][a],m=c[l.highWater];e.setHighWater&&i<m&&d.setHighWaterMark(a,c,e,"insert"),e.setLowWater&&k>m&&d.setLowWaterMark(a,c,e,"insert")}h.commit&&h.commit()}else h.abort();f(b)}}})}},{key:"delete",value:function _delete(a,c){var d=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;if(!c[PrimaryKey])throw Error("Value provided is not a DB record!");return new Promise(function(f,g){var h=d[Connection].transaction([a],"readwrite"),i=h.objectStore(a),j={database:d[Name],record:c,key:b.getPrimaryKey(c),store:a,type:"write",subType:"delete",origin:e},k=c[b.BeforeDelete]?c[b.BeforeDelete](j):null;if(!1!==k){var l=i["delete"](c.id);c[PrimaryKey]=void 0,c[b.AfterDelete]&&c[b.AfterDelete](j),l.onerror=function(a){j.original=a;var b=new CustomEvent("writeError",{detail:j});d.dispatchEvent(b),g(a)},l.onsuccess=function(a){j.original=a;var b=new CustomEvent("write",{detail:j});d.dispatchEvent(b),h.commit&&h.commit(),f(b)}}})}},{key:"clear",value:function clear(a){var b=this;return new Promise(function(c,d){var e=b[Connection].transaction([a],"readwrite"),f=e.objectStore(a),g=f.clear(),h={database:b[Name],store:a,type:"write",subType:"clear",origin:origin};g.onerror=function(a){h.original=a;var c=new CustomEvent("writeError",{detail:h});b.dispatchEvent(c),d(a)},g.onsuccess=function(a){h.original=a;var d=new CustomEvent("write",{detail:h});b.dispatchEvent(d),e.commit&&e.commit(),c(d)}})}},{key:"listStores",value:function listStores(){return _toConsumableArray(this[Connection].objectStoreNames)}},{key:"listIndexes",value:function listIndexes(a){var b=this[Connection].transaction([a]),c=b.objectStore(a);return _toConsumableArray(c.indexNames)}},{key:Fetch,value:function value(a,c,d,e,f,g,h,j){var k=this;return function(l){return Promise.all(e.map(function(e){return new Promise(function(m){var n=c.openCursor(e,d),o=0,p=function resultHandler(d){var e=d.target.result;if(!e)return m({record:null,result:null,index:o});k[Bank][void 0]=k[Bank][void 0]||{};var i=k[Bank][void 0],n=e.primaryKey,p=a?a.from(e.value):e.value,q=_Bindable.Bindable.makeBindable(p),r={database:k[Name],key:b.getPrimaryKey(q),record:p,store:c.name,type:"read",subType:"select",origin:h},s=p[b.BeforeRead]?p[b.BeforeRead](r):null;if(g>o++||!1===s)return e["continue"]();i[n]?Object.assign(i[n],p):(p[PrimaryKey]=Symbol["for"](n),i[n]=p);var t=e.source,u=t.objectStore?t.objectStore.name:c.name;r.record=p,i[n][b.AfterRead]&&i[n][b.AfterRead](r);var v=!0,w=k.dispatchEvent(new CustomEvent("read",{detail:r,cancelable:!0}));if(w){var x=a?a.from(i[n]):i[n];x[PrimaryKey]=Symbol["for"](n);var y=j?j(x):x,z=l?l(y,o):y;if(f&&o-g>=f)return g+=f,m({mapped:y,result:z,index:o})}e["continue"]()};n.addEventListener("success",p)})})).then(function(a){return 1===a.length?a[0]:a})}}},{key:"setStoreMeta",value:function setStoreMeta(a,b,c){localStorage.setItem("::::cvdb::".concat(a,"::").concat(b),JSON.stringify(c))}},{key:"getStoreMeta",value:function getStoreMeta(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=localStorage.getItem("::::cvdb::".concat(a,"::").concat(b)),e=null===d?c:JSON.parse(d);return null===e?c:e}},{key:"createObjectStore",value:function createObjectStore(a,b){var c=this[Connection].createObjectStore(a,b);return this.setStoreMeta(a,"store",b),c}},{key:"deleteObjectStore",value:function deleteObjectStore(a){return this[Connection].deleteObjectStore(a)}},{key:"checkHighWaterMark",value:function checkHighWaterMark(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,d=this.getStoreMeta(a,"highWater",0);return d}},{key:"setHighWaterMark",value:function setHighWaterMark(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,e=this[Metadata][a],f=b[e.highWater],g=this.getStoreMeta(a,"highWater",0);this.setStoreMeta(a,"highWater",f),this.dispatchEvent(new CustomEvent("highWaterMoved",{detail:{database:this[Name],record:b,store:a,type:"highWaterMoved",subType:d,origin:c,oldValue:g,value:f}}))}},{key:"checkLowWaterMark",value:function checkLowWaterMark(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,d=this.getStoreMeta(a,"lowWater",1/0);return d}},{key:"setLowWaterMark",value:function setLowWaterMark(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,e=this[Metadata][a],f=b[e.highWater],g=this.getStoreMeta(a,"lowWater",null);this.setStoreMeta(a,"lowWater",f),this.dispatchEvent(new CustomEvent("lowWaterMoved",{detail:{database:this[Name],record:b,store:a,type:"lowWaterMoved",subType:d,origin:c,oldValue:g,value:f}}))}}],[{key:"open",value:function open(a){var c=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this[Instances][a]?this[Instances][a]:this[Instances][a]=new Promise(function(e,f){var g=indexedDB.open(a,d);g.onerror=function(a){b.dispatchEvent(new CustomEvent("error",{detail:{database:c[Name],error:a,store:void 0,type:"read",subType:"select"}})),f(a)},g.onsuccess=function(a){var b=new c(a.target.result);e(b)},g.onupgradeneeded=function(a){var b=a.target.result;b.addEventListener("error",function(a){return console.error(a)});for(var e=new c(b),f=a.oldVersion+1;f<=d;f+=1)e["_version_"+f](b)}})}},{key:"getPrimaryKey",value:function getPrimaryKey(a){return a[PrimaryKey]?a[PrimaryKey]:null}},{key:"destroyDatabase",value:function destroyDatabase(){var a=this;return new Promise(function(c,d){var e=indexedDB["delete"](dbName);e.onerror=function(a){b.dispatchEvent(new CustomEvent("error",{detail:{database:dbName,error:a,type:"destroy"}})),d(a)},e.onsuccess=function(b){delete a[Instances][dbName],c(dbName)}})}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin));exports.Database=Database,Object.defineProperty(Database,Instances,{value:[]}),Object.defineProperty(Database,"BeforeDelete",{value:BeforeDelete}),Object.defineProperty(Database,"AfterDelete",{value:AfterDelete}),Object.defineProperty(Database,"BeforeWrite",{value:BeforeWrite}),Object.defineProperty(Database,"AfterWrite",{value:AfterWrite}),Object.defineProperty(Database,"BeforeInsert",{value:BeforeInsert}),Object.defineProperty(Database,"AfterInsert",{value:AfterInsert}),Object.defineProperty(Database,"BeforeUpdate",{value:BeforeUpdate}),Object.defineProperty(Database,"AfterUpdate",{value:AfterUpdate}),Object.defineProperty(Database,"BeforeRead",{value:BeforeRead}),Object.defineProperty(Database,"AfterRead",{value:AfterRead}),Object.defineProperty(Database,"PKSymbol",{value:PrimaryKey});try{Object.defineProperty(Database,Target,{value:new EventTarget})}catch(a){Object.defineProperty(Database,Target,{value:document.createDocumentFragment()})}for(var _loop=function _loop(){var a=_arr[_i];Object.defineProperty(Database,a,{value:function value(){var b;return(b=Database[Target])[a].apply(b,arguments)}})},_i=0,_arr=["addEventListener","removeEventListener","dispatchEvent"];_i<_arr.length;_i++)_loop();
});

;require.register("curvature/model/Model.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Model=void 0;var _Cache=require("../base/Cache"),_Bindable=require("../base/Bindable"),_Database=require("./Database");function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Changed=Symbol("Changed"),Deleted=Symbol("Deleted"),Saved=Symbol("Saved"),Keys=Symbol("Keys"),Model=/*#__PURE__*/function(){function a(){return _classCallCheck(this,a),_defineProperty(this,"id",void 0),_defineProperty(this,"class",void 0),Object.defineProperty(this,Changed,{value:_Bindable.Bindable.make({})}),Object.defineProperty(this,Deleted,{writable:!0,value:!1}),Object.defineProperty(this,Saved,{writable:!0,value:!1}),Object.defineProperty(this,Keys,{writable:!0,value:new Set}),_Bindable.Bindable.make(this)}return _createClass(a,[{key:"consume",value:function consume(b){var c=this,d=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],e=a.keyProps,f=function(a,b){if(b&&"object"===_typeof(b)&&b.constructor.keyProps){var e=b.constructor.keyProps,f=e.map(function(a){return b[a]}).join("::"),g=_Cache.Cache.load(f,!1,"models-by-type-and-publicId");g&&(g.consume(b),b=g)}!d&&c[Changed][a]||(c[a]=b)};_Database.Database.PKSymbol in b&&f(_Database.Database.PKSymbol,b[_Database.Database.PKSymbol]),this[Keys]=new Set([].concat(_toConsumableArray(this[Keys]),_toConsumableArray(Object.keys(this)),_toConsumableArray(Object.keys(b))));var g,h=_createForOfIteratorHelper(this[Keys]);try{for(h.s();!(g=h.n()).done;){var i=g.value;(d||!this[Changed][i])&&(e.includes(i)||i in b&&f(i,b[i]))}}catch(a){h.e(a)}finally{h.f()}}},{key:"changed",value:function changed(){this[Saved]=!1}},{key:"markDeleted",value:function markDeleted(){for(var a in this[Changed])this[Changed][a]=!1;this[Deleted]=!0,this[Saved]=!1}},{key:"markStored",value:function markStored(){for(var a in this)this[Changed][a]=!1;this[Deleted]=!1,this[Saved]=!0}},{key:"isSaved",value:function isSaved(){return this[Saved]}}],[{key:"keyProps",get:function get(){return["id","class"]}},{key:"from",value:function from(a){var b=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],c=this.keyProps,d=c.map(function(b){return a[b]});d.unshift(this.name);var e,f=d.join("::"),g="models-by-type-and-publicId",h=_Cache.Cache.load(f,!1,g),i=h?h:new this,j=_createForOfIteratorHelper(c);try{for(j.s();!(e=j.n()).done;){var k,l,m=e.value;i[m]=null!==(k=null!==(l=i[m])&&void 0!==l?l:a[m])&&void 0!==k?k:null}}catch(a){j.e(a)}finally{j.f()}if(i.consume(a),!h){_Cache.Cache.store(f,i,0,g);var n=!1;i.bindTo(function(a,b,c){"symbol"===_typeof(b)||a===c[b]||(i[Changed][b]=n,i[Saved]=!n&&i[Saved])}),0===Object.keys(i[Changed]).length&&(i[Saved]=b),n=!0}return i}}]),a}();exports.Model=Model,Object.defineProperty(Model,"Changed",{value:Changed}),Object.defineProperty(Model,"Deleted",{value:Deleted}),Object.defineProperty(Model,"Saved",{value:Saved});
});

require.register("curvature/model/SourceWorker.js", function(exports, require, module) {
// function Node(){};
// function IntersectionObserver(){};
// window = {};
// importScripts('/app.js');
// const Database = require('Database').Database;
// Database.addEventListener('write', event => postMessage(event.detail));
// Database.addEventListener('read',  event => postMessage(event.detail));
// Database.open('event-log', 1).then(database =>  {
// 	const eventSource = new EventSource('/events');
// 	eventSource.addEventListener('ServerEvent', event => {
// 		return database.insert('event-log', JSON.parse(event.data));
// 	});
// 	eventSource.addEventListener('error', error => {
// 		console.error(error);
// 	});
// });
"use strict";
});

require.register("curvature/model/Store.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Store=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Store=/*#__PURE__*/function(){function a(){_classCallCheck(this,a),_defineProperty(this,"storeName","test-store")}return _createClass(a,[{key:"select",value:function select(a){var b=a.index,c=a.range,d=void 0===c?null:c,e=a.ranges,f=void 0===e?[]:e,g=a.direction,h=void 0===g?"next":g,i=a.limit,j=void 0===i?0:i,k=a.offset,l=void 0===k?0:k,m=a.type,n=a.origin,o=void 0===n?void 0:n,p=a.map,q=void 0===p?void 0:p}},{key:"insert",value:function insert(){1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}},{key:"update",value:function update(){1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}},{key:"delete",value:function _delete(){1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0}},{key:"getMeta",value:function getMeta(){1<arguments.length&&void 0!==arguments[1]?arguments[1]:null}},{key:"setMeta",value:function setMeta(){}},{key:"listIndexes",value:function listIndexes(){}},{key:"clear",value:function clear(){}}],[{key:"setHighWaterMark",value:function setHighWaterMark(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0}},{key:"setLowWaterMark",value:function setLowWaterMark(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0}},{key:"checkHighWaterMark",value:function checkHighWaterMark(){1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0}},{key:"checkLowWaterMark",value:function checkLowWaterMark(){1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0}},{key:"create",value:function create(){}},{key:"delete",value:function _delete(){}}]),a}();exports.Store=Store;
});

;require.register("curvature/net/Elicit.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Elicit=void 0;var _Mixin=require("curvature/base/Mixin"),_EventTargetMixin=require("curvature/mixin/EventTargetMixin"),_PromiseMixin=require("curvature/mixin/PromiseMixin");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var IterateDownload=Symbol("IterateDownload"),Retry=Symbol("Retry"),HandleFirstByte=Symbol("HandleFirstByte"),HandleProgress=Symbol("HandleProgress"),HandleComplete=Symbol("HandleComplete"),HandleHeaders=Symbol("HandleHeaders"),HandleClose=Symbol("HandleClose"),HandleError=Symbol("HandleError"),HandleOpen=Symbol("HandleOpen"),HandleFail=Symbol("HandleFail"),LastChunkSize=Symbol("LastChunkSize"),LastChunkTime=Symbol("LastChunkTime"),Options=Symbol("Options"),Fetch=Symbol("Fetch"),Type=Symbol("Type"),Url=Symbol("Url"),RetriesLeft=Symbol("RetriesLeft"),TimeoutLeft=Symbol("TimeoutLeft"),Timeout=Symbol("Timeout"),Timer=Symbol("Timer"),Canceller=Symbol("Canecller"),Cancelled=Symbol("Caneclled"),Paused=Symbol("Paused"),Received=Symbol("Received"),Length=Symbol("Length"),Opened=Symbol("Opened"),Closed=Symbol("Closed"),Start=Symbol("Start"),First=Symbol("First"),End=Symbol("End"),Elicit=/*#__PURE__*/function(a){function b(a){var d,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,b),d=c.call(this),d[RetriesLeft]=e.retries||5,d[Timeout]=e.timeout||4500,d[TimeoutLeft]=e.maxTimeout||d[Timeout]*d[RetriesLeft],d[LastChunkTime]=0,d[LastChunkSize]=0,d[Cancelled]=!1,d[Received]=0,d[Paused]=!1,d[Closed]=0,d[Options]=Object.assign({},e),d[Url]=a,e.defer||d.open(),d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"open",value:function open(){var a=this;if(!this[Opened]||this[Closed]){this[Start]||(this[Start]=Date.now()),this[Canceller]=new AbortController,this[Options].signal=this[Canceller].signal,this[Opened]=Date.now(),this[Closed]=0,this[First]=0,this[Fetch]=fetch(this[Url],this[Options]).then(function(b){return a[HandleOpen](b)})["catch"](function(b){return a[HandleError](b)});var b=function(){if(!a[First]){if(a[Canceller].abort(),a[HandleClose](),a[TimeoutLeft]=Math.max(0,a[TimeoutLeft]-a[Timeout]),!a[TimeoutLeft])return;a[HandleFail](new Error("Timed out."))}};this[Timer]=setTimeout(b,this[Timeout])}}},{key:"headers",value:function headers(){return this[Fetch].then(function(a){var b=a.response,c=a.stream;return b.headers})}},{key:"json",value:function json(){var a=this;return this[Fetch].then(function(b){var c=b.response,d=b.stream,e=new Response(d,{headers:{"Content-Type":a.type}});return e.json()})}},{key:"text",value:function text(){var a=this;return this[Fetch].then(function(b){var c=b.response,d=b.stream,e=new Response(d,{headers:{"Content-Type":a.type}});return e.text()})}},{key:"css",value:function css(){return this.text().then(function(a){var b=new CSSStyleSheet;return b.replace(a),b})}},{key:"blob",value:function blob(){var a=this;return this[Fetch].then(function(b){var c=b.response,d=b.stream,e=new Response(d,{headers:{"Content-Type":a.type}});return e.blob()})}},{key:"objectUrl",value:function objectUrl(){return this.blob().then(function(a){return URL.createObjectURL(a)})}},{key:"dataUri",value:function dataUri(){return this.blob().then(function(a){return new Promise(function(b,c){var d=new FileReader;d.onload=function(){return b(d.result)},d.onerror=function(){return c(d.error)},d.onabort=function(){return c(new Error("Read aborted"))},d.readAsDataURL(a)})})}},{key:"buffer",value:function buffer(){return this.blob().then(function(a){return a.arrayBuffer()})}},{key:"bytes",value:function bytes(){return this.buffer().then(function(a){return new Uint8Array(a)})}},{key:"cancel",value:function cancel(){this.emitCancelEvent()&&(this[Canceller].abort(),this[Cancelled]=!0,this.emitCancelledEvent())}},{key:"pause",value:function pause(){this[End]||this[Paused]||this[Closed]||!this.emitPauseEvent()||(this[Paused]=!0,this.emitPausedEvent())}},{key:"unpause",value:function unpause(){!this[End]&&this[Paused]&&this.emitUnpauseEvent()&&(this[Paused]=!1,this.emitUnpausedEvent())}},{key:"done",get:function get(){return!!this[End]}},{key:"type",get:function get(){return this[Type]}},{key:"totalTime",get:function get(){return this[End]?this[End]-this[Start]:Date.now()-this[Start]}},{key:"waitTime",get:function get(){return this[First]?this[First]-this[Opened]:Date.now()-this[Opened]}},{key:"loadTime",get:function get(){return this[Opened]?this[Closed]?this[Closed]-this[First]:Date.now()-this[First]:0}},{key:"speed",get:function get(){if(!this[Opened])return 0;var a;return a=this[End]?this[End]-this[LastChunkTime]:Date.now()-this[LastChunkTime],a||(a=.01),this[LastChunkSize]/a}},{key:"received",get:function get(){return this[Received]}},{key:"length",get:function get(){return this[Length]}},{key:"isPaused",get:function get(){return this[Paused]}},{key:IterateDownload,value:function value(a,b,c){var d=this;this[HandleProgress](c,0,null);var e=Date.now(),f=1,g=function handleChunk(a){var g=a.done,i=a.value;return g?(b.close(),d[HandleComplete]()):(b.enqueue(i),d[Received]+=i.length,d[First]||d[HandleFirstByte](i),d[HandleProgress](c,d[Received]),d[LastChunkTime]=e,d[LastChunkSize]=f,e=Date.now(),f=i.length,h())},h=function iterate(){return d[Cancelled]?a.cancel():d[Paused]?new Promise(function(a){setTimeout(function(){return a(h())},100)}):a.read().then(function(a){return g(a)})["catch"](function(a){return d[HandleError](a)})};return h()}},{key:Retry,value:function value(){if(this.emitRetryEvent())return 0>=this[RetriesLeft]?void 0:(this[Canceller].abort(),this[HandleClose](),this[Received]=0,this[RetriesLeft]--,this.open())}},{key:HandleOpen,value:function value(a){var b=a.body.getReader(),c=this[Length]||+a.headers.get("Content-Length"),d=this[d]||a.headers.get("Content-Type");this[Length]=c,this[Type]=d,this[HandleHeaders](a.headers);var e=this,f=new ReadableStream({start:function start(a){e[IterateDownload](b,a,c)}});return{response:a,stream:f}}},{key:HandleClose,value:function value(){this[Closed]=Date.now(),this.emitCloseEvent()}},{key:HandleHeaders,value:function value(a){this.emitHeadersEvent(a)}},{key:HandleProgress,value:function value(a,b,c){this.emitProgressEvent(a,b,c)}},{key:HandleComplete,value:function value(){this[End]=Date.now(),this[HandleClose](),this.emitCompleteEvent(),this[_PromiseMixin.PromiseMixin.Accept]()}},{key:HandleError,value:function value(a){return console.warn(a),this.emitErrorEvent(a)?this[HandleFail](a):this[Retry]()}},{key:HandleFail,value:function value(a){return this[End]=Date.now(),this[HandleClose](),this.emitFailEvent(a),this[_PromiseMixin.PromiseMixin.Reject](a)}},{key:HandleFirstByte,value:function value(a){clearInterval(this[Timer]),this[First]=Date.now(),this.emitFirstByteEvent(a)}},{key:"emitProgressEvent",value:function emitProgressEvent(a,b,c){var d=a?b/a:0,e=this.totalTime,f=this.loadTime,g=this.waitTime,h=this.speed;return this.dispatchEvent(new CustomEvent("progress",{detail:{length:a,received:b,done:d,speed:h,loadTime:f,waitTime:g,totalTime:e,value:c}}))}},{key:"emitOpenEvent",value:function emitOpenEvent(){return this.dispatchEvent(new CustomEvent("open"))}},{key:"emitCloseEvent",value:function emitCloseEvent(){return this.dispatchEvent(new CustomEvent("close"))}},{key:"emitFirstByteEvent",value:function emitFirstByteEvent(a){return this.dispatchEvent(new CustomEvent("firstByte",{detail:{received:a}}))}},{key:"emitHeadersEvent",value:function emitHeadersEvent(a){return this.dispatchEvent(new CustomEvent("headers",{detail:{headers:a}}))}},{key:"emitCompleteEvent",value:function emitCompleteEvent(){return this.dispatchEvent(new CustomEvent("complete"))}},{key:"emitErrorEvent",value:function emitErrorEvent(){return this.dispatchEvent(new CustomEvent("error",{cancelable:0<this[RetriesLeft]}))}},{key:"emitRetryEvent",value:function emitRetryEvent(){return this.dispatchEvent(new CustomEvent("retry",{cancelable:!0}))}},{key:"emitFailEvent",value:function emitFailEvent(){return this.dispatchEvent(new CustomEvent("fail"))}},{key:"emitPauseEvent",value:function emitPauseEvent(){return this.dispatchEvent(new CustomEvent("pause",{cancelable:!0}))}},{key:"emitPausedEvent",value:function emitPausedEvent(){this.dispatchEvent(new CustomEvent("paused"))}},{key:"emitUnpauseEvent",value:function emitUnpauseEvent(){return this.dispatchEvent(new CustomEvent("unpause",{cancelable:!0}))}},{key:"emitUnpausedEvent",value:function emitUnpausedEvent(){this.dispatchEvent(new CustomEvent("unpaused"))}},{key:"emitCancelEvent",value:function emitCancelEvent(){return this.dispatchEvent(new CustomEvent("cancel",{cancelable:!0}))}},{key:"emitCancelledEvent",value:function emitCancelledEvent(){return this.dispatchEvent(new CustomEvent("cancelled"))}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin,_PromiseMixin.PromiseMixin));exports.Elicit=Elicit;
});

require.register("curvature/net/RtcClient.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RtcClient=void 0;var _Mixin=require("curvature/base/Mixin"),_EventTargetMixin=require("curvature/mixin/EventTargetMixin");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var RtcClient=/*#__PURE__*/function(a){function b(a){var d;return _classCallCheck(this,b),d=c.call(this),_defineProperty(_assertThisInitialized(d),"candidateTimeout",500),d.peerClient=new RTCPeerConnection(a),d.peerClientChannel=d.peerClient.createDataChannel("chat"),d.peerClientChannel.addEventListener("open",function(a){var b=new CustomEvent("open",{detail:a.data});b.originalEvent=a,d.dispatchEvent(b),d.connected=!0}),d.peerClientChannel.addEventListener("close",function(a){var b=new CustomEvent("close",{detail:a.data});b.originalEvent=a,d.dispatchEvent(b),d.connected=!1}),d.peerClientChannel.addEventListener("message",function(a){var b=new CustomEvent("message",{detail:a.data});b.originalEvent=a,d.dispatchEvent(b)}),d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"send",value:function send(a){this.peerClientChannel&&this.peerClientChannel.send(a)}},{key:"close",value:function close(){this.peerClientChannel&&this.peerClientChannel.close()}},{key:"offer",value:function offer(){var a=this;this.peerClient.createOffer().then(function(b){a.peerClient.setLocalDescription(b)});var b=new Set;return new Promise(function(c){var d=null;a.peerClient.addEventListener("icecandidate",function(e){e.candidate&&(b.add(e.candidate),d&&clearTimeout(d),d=setTimeout(function(){return c(a.peerClient.localDescription)},a.candidateTimeout))})})}},{key:"accept",value:function accept(a){var b=new RTCSessionDescription(a);this.peerClient.setRemoteDescription(b)}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin));exports.RtcClient=RtcClient;
});

;require.register("curvature/net/RtcServer.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RtcServer=void 0;var _Mixin=require("curvature/base/Mixin"),_EventTargetMixin=require("curvature/mixin/EventTargetMixin");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var RtcServer=/*#__PURE__*/function(a){function b(a){var d;return _classCallCheck(this,b),d=c.call(this),_defineProperty(_assertThisInitialized(d),"candidateTimeout",500),d.peerServer=new RTCPeerConnection(a),d.peerServer.addEventListener("datachannel",function(a){d.peerServerChannel=a.channel,d.peerServerChannel.addEventListener("open",function(a){var b=new CustomEvent("open",{detail:a.data});b.originalEvent=a,d.dispatchEvent(b),d.connected=!0}),d.peerServerChannel.addEventListener("close",function(a){var b=new CustomEvent("close",{detail:a.data});b.originalEvent=a,d.dispatchEvent(b),d.connected=!1}),d.peerServerChannel.addEventListener("message",function(a){var b=new CustomEvent("message",{detail:a.data});b.originalEvent=a,d.dispatchEvent(b)})}),d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"send",value:function send(a){this.peerServerChannel&&this.peerServerChannel.send(a)}},{key:"close",value:function close(){this.peerServerChannel&&this.peerServerChannel.close()}},{key:"answer",value:function answer(a){var b=this;return new Promise(function(c){b.peerServer.setRemoteDescription(a),b.peerServer.createAnswer(function(a){return b.peerServer.setLocalDescription(a)},function(a){return console.error(a)});var d=new Set,e=null;b.peerServer.addEventListener("icecandidate",function(a){a.candidate&&(d.add(a.candidate),e&&clearTimeout(e),e=setTimeout(function(){return c(b.peerServer.localDescription)},b.candidateTimeout))})})}}]),b}(_Mixin.Mixin["with"](_EventTargetMixin.EventTargetMixin));exports.RtcServer=RtcServer;
});

;require.register("curvature/service/CloudService.js", function(exports, require, module) {
"use strict";var _Router=require("curvature/base/Router");Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloudService=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var CloudService=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"handleFetch",value:function handleFetch(a){var b,c=new URL(a.request.url),d=c.pathname+c.search,e=_createForOfIteratorHelper(this.routeHandlers);try{for(e.s();!(b=e.n()).done;){var f=b.value;return _Router.Router.match(d,{routes:f}).then(function(a){return"object"===_typeof(a)&&a instanceof Response||(a=new Response(a)),a})}}catch(a){e.e(a)}finally{e.f()}}}]),a}();exports.CloudService=CloudService,Object.defineProperty(CloudService,"routeHandlers",{value:new Set}),globalThis.addEventListener("fetch",function(a){a.respondWith(CloudService.handleFetch(a))});
});

require.register("curvature/service/EventPipe.js", function(exports, require, module) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventPipe=void 0;function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _readOnlyError(a){throw new TypeError("\""+a+"\" is read-only")}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var EventPipe=function(a){var b=new Headers;b.set("Access-Control-Allow-Methods","GET, OPTIONS"),b.set("Access-Control-Allow-Origin","*"),b.set("Cache-Control","no-cache"),b.set("Content-Type","text/event-stream"),b.set("Connection","keep-alive");var c,d=new TransformStream,e=d.readable,f=d.writable,g=f.getWriter(),h=new TextEncoder,i=[],j=_createForOfIteratorHelper(a);try{for(j.s();!(c=j.n()).done;){var k=c.value;k instanceof Promise||(Promise.resolve(k),_readOnlyError("getEvent")),k.then(function(a){var b,c;a&&"object"===_typeof(a)||(a={data:a}),g.write(h.encode("event:  ".concat(null!==(b=a.type)&&void 0!==b?b:"ServerEvent","\n")+"data: ".concat(JSON.stringify(a.data),"\n")+"id:   ".concat(null!==(c=a.id)&&void 0!==c?c:Date.now(),"\n\n")))}),i.push(k)}}catch(a){j.e(a)}finally{j.f()}return Promise.all(i).then(function(){return g.close()}),new Response(e,{status:"200",statusText:"OK",headers:b})};exports.EventPipe=EventPipe;
});

require.register("curvature/service/Service.js", function(exports, require, module) {
"use strict";var _Router=require("../base/Router");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Service=void 0;function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c["return"]&&(g=c["return"](),Object(g)!==g))return}finally{if(j)throw e}}return h}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var Service=/*#__PURE__*/function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"register",value:function register(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"/";if(!("serviceWorker"in navigator))return Promise.reject("Service Workers not supported.");// navigator.serviceWorker.startMessages();
var d=navigator.serviceWorker;return d.register(a,{scope:c}),d.ready.then(function(a){var c=a.active;c&&(b.workers.set(c.scriptURL,c),d.addEventListener("message",function(a){return b.handleResponse(a)}))}),d.ready}},{key:"request",value:function request(a){var b,c=this,d=a.command,e=a.args,f=a.echo,g=a.notify,h=a.to,i=void 0===h?null:h,j=a.broadcast,k=(+(1/Math.random())).toString(36),l=new Promise(function(a){c.incomplete.set(k,a)}),m=_createForOfIteratorHelper(this.workers);try{for(m.s();!(b=m.n()).done;){var n=_slicedToArray(b.value,2),o=n[0],p=n[1];if("redundant"===p.state)return Promise.reject("Worker has been updated, connection lost. Please refresh the page.");p.postMessage({correlationId:k,broadcast:void 0!==j&&j,command:d,notify:g,args:e,echo:f,to:i})}}catch(a){m.e(a)}finally{m.f()}return l}},{key:"broadcast",value:function broadcast(a){var b=a.command,c=a.args,d=a.echo,e=a.notify;this.request({command:b,args:c,echo:d,notify:e,broadcast:!0})}},{key:"handleResponse",value:function handleResponse(a){var b=this;a.target.ready.then(function(a){var c=a.active;b.workers.set(c.scriptURL,c)});var c=a.data;if(c.to||c.correlationId){if(!this.incomplete.has(c.correlationId))return void(c.broadcast?this.handleBroadcast(a):c.to&&this.handleMessage(a));var d=this.incomplete.get(c.correlationId);this.incomplete["delete"](c.correlationId),d(c.result)}}},{key:"handleRequest",value:function handleRequest(a){var b=this;if(a.origin===globalThis.origin){var c=a.data,d=Promise.resolve("Unexpected request.");if(c.echo)d=Promise.resolve(c.echo);else if(c.notify){var e=c.args||[];d=globalThis.registration.getNotifications().then(function(a){var c;return a.forEach(function(a){return b.notifications.set(a.tag,a)}),(c=globalThis.registration).showNotification.apply(c,_toConsumableArray(e))}).then(function(){return globalThis.registration.getNotifications()}).then(function(){var c=a.data.args&&a.data.args[1]&&a.data.args[1].tag,d=new Promise(function(d){var e;b.notifyClients.has(c)?e=b.notifyClients.get(c):(e=new Map,b.notifyClients.set(c,e)),e.set(a.source,d)});return d})}else if(c.command){var f,g=c.command,h=c.args||[],i=_createForOfIteratorHelper(this.serviceHandlers);try{for(i.s();!(f=i.n()).done;){var j=f.value;if("function"==typeof j[g]){d=j[g].apply(j,_toConsumableArray(h));break}}}catch(a){i.e(a)}finally{i.f()}}if(_typeof(d)!==Promise&&(d=Promise.resolve(d)),c.broadcast){var k=a.source.id;globalThis.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(a){a.forEach(function(a){d.then(function(b){return a.postMessage(_objectSpread(_objectSpread({},c),{},{result:b,source:k}))})})})}else if(c.to){var l=a.source.id;globalThis.clients.get(c.to).then(function(a){d.then(function(b){a.postMessage(_objectSpread(_objectSpread({},c),{},{result:b,source:l}))})})}else d.then(function(b){return a.source.postMessage(_objectSpread(_objectSpread({},c),{},{result:b}))})}}},{key:"handleInstall",value:function handleInstall(a){globalThis.skipWaiting();var b,c=_createForOfIteratorHelper(this.pageHandlers);try{for(c.s();!(b=c.n()).done;){var d=b.value;"function"==typeof d.handleInstall&&d.handleInstall(a)}}catch(a){c.e(a)}finally{c.f()}}},{key:"handleActivate",value:function handleActivate(a){var b,c=_createForOfIteratorHelper(this.pageHandlers);try{for(c.s();!(b=c.n()).done;){var d=b.value;"function"==typeof d.handleActivate&&d.handleActivate(a)}}catch(a){c.e(a)}finally{c.f()}}},{key:"handleError",value:function handleError(a){console.error(a);var b,c=_createForOfIteratorHelper(this.pageHandlers);try{for(c.s();!(b=c.n()).done;){var d=b.value;"function"==typeof d.handleError&&d.handleError(a)}}catch(a){c.e(a)}finally{c.f()}}},{key:"handlePush",value:function handlePush(){// console.log('push', event);
}},{key:"handleSync",value:function handleSync(){// console.log('sync', event);
}},{key:"handlePeriodicSync",value:function handlePeriodicSync(){// console.log('periodic sync', event);
}},{key:"handleFetch",value:function handleFetch(a){var b,c=new URL(a.request.url),d=c.pathname+c.search,e=_createForOfIteratorHelper(this.routeHandlers);try{for(e.s();!(b=e.n()).done;){var f=b.value;return _Router.Router.match(d,{routes:f},{event:a}).then(function(a){if(void 0!==a)return"object"===_typeof(a)&&a instanceof Response||(a=new Response(a)),a})}}catch(a){e.e(a)}finally{e.f()}}},{key:"handleBroadcast",value:function handleBroadcast(a){var b,c=_createForOfIteratorHelper(this.pageHandlers);try{for(c.s();!(b=c.n()).done;){var d=b.value;"function"==typeof d.handleBroadcast&&d.handleBroadcast(a)}}catch(a){c.e(a)}finally{c.f()}}},{key:"handleMessage",value:function handleMessage(a){var b,c=_createForOfIteratorHelper(this.pageHandlers);try{for(c.s();!(b=c.n()).done;){var d=b.value;"function"==typeof d.handleMessage&&d.handleMessage(a)}}catch(a){c.e(a)}finally{c.f()}}},{key:"notify",value:function notify(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return c.tag=c.tag||"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)}),new Promise(function(a){Notification.requestPermission(function(b){a(b)})}).then(function(){return b.request({notify:!0,args:[a,c],broadcast:d})})}},{key:"handleNotifyClicked",value:function handleNotifyClicked(a){if(this.notifyClients.has(a.notification.tag)){var b=this.notifyClients.get(a.notification.tag),c=[];for(b.forEach(function(b,d){b({action:a.action,data:a.notification.data,click:Date.now(),time:a.notification.timestamp,tag:a.notification.tag}),c.push(d)});c.length;){var d=c.pop();if(d.focus())break}this.notifyClients["delete"](a.notification.tag)}var e,f=_createForOfIteratorHelper(this.pageHandlers);try{for(f.s();!(e=f.n()).done;){var g=e.value;"function"==typeof g.handleNotifyClicked&&g.handleNotifyClicked(a)}}catch(a){f.e(a)}finally{f.f()}a.notification.close()}},{key:"handleNotifyClosed",value:function handleNotifyClosed(a){if(this.notifyClients.has(a.notification.tag)){var b=this.notifyClients.get(a.notification.tag);b.forEach(function(b){return b({action:void 0,data:a.notification.data,close:Date.now(),time:a.notification.timestamp,tag:a.notification.tag})})}if(this.notifyClients["delete"](a.notification.tag)){var c,d=_createForOfIteratorHelper(this.pageHandlers);try{for(d.s();!(c=d.n()).done;){var e=c.value;"function"==typeof e.handleNotifyDismissed&&e.handleNotifyDismissed(a)}}catch(a){d.e(a)}finally{d.f()}}var f,g=_createForOfIteratorHelper(this.pageHandlers);try{for(g.s();!(f=g.n()).done;){var h=f.value;"function"==typeof h.handleNotifyClosed&&h.handleNotifyClosed(a)}}catch(a){g.e(a)}finally{g.f()}}}]),a}();exports.Service=Service,Object.defineProperty(Service,"serviceHandlers",{value:new Set}),Object.defineProperty(Service,"routeHandlers",{value:new Set}),Object.defineProperty(Service,"pageHandlers",{value:new Set}),Object.defineProperty(Service,"notifications",{value:new Map}),Object.defineProperty(Service,"notifyClients",{value:new Map}),Object.defineProperty(Service,"incomplete",{value:new Map}),Object.defineProperty(Service,"workers",{value:new Map}),globalThis.document||(globalThis.addEventListener("install",function(a){return Service.handleInstall(a)}),globalThis.addEventListener("activate",function(a){return Service.handleActivate(a)}),globalThis.addEventListener("error",function(a){return Service.handleActivate(a)}),globalThis.addEventListener("message",function(a){return Service.handleRequest(a)}),globalThis.addEventListener("fetch",function(a){a.waitUntil(new Promise(function(b){Service.handleFetch(a).then(function(c){c&&a.respondWith(c),b()})}))}),globalThis.addEventListener("push",function(a){return Service.handlePush(a)}),globalThis.addEventListener("notificationclose",function(a){return Service.handleNotifyClosed(a)}),globalThis.addEventListener("notificationclick",function(a){return Service.handleNotifyClicked(a)}),globalThis.addEventListener("sync",function(a){return Service.handleSync(a)}),globalThis.addEventListener("periodicsync",function(a){return Service.handlePeriodicSync(a)}));
});

;require.register("curvature/strings/Parser.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}// EXTREMELY ALPHA (not the good kind)
var INSERT=1,ENTER=2,LEAVE=3,HOME=4,Chunk=/*#__PURE__*/_createClass(function a(){_classCallCheck(this,a),this.depth=0,this.match=null,this.type="normal",this.list=[]}),Parser=/*#__PURE__*/function(){function a(b,c){_classCallCheck(this,a),this.index=0,this.mode="normal",this.stack=[],this.tokens=b||{},this.modes=c||{}}return _createClass(a,[{key:"parse",value:function parse(a){if(!(this.mode in this.modes))throw new Error("Mode ".concat(this.mode," does not exist on parser."),this);var b=new Chunk,c=this.modes[this.mode];for(b.type=this.mode;this.index<a.length;){var d=!1;for(var e in c){var f=this.tokens[e],g=f.exec(a.substr(this.index));if(g&&!(0<g.index)){if(!c[e]){throw new Error("Invalid token type \"".concat(e,"\" found in mode \"").concat(this.mode,"\"."))}var h=g[0],j="object"===_typeof(c[e])?c[e]:[c[e]];d=!0,console.log(b.type,b.depth,h),this.index+=h.length;var k="normal";for(var l in j){var m=j[l];if("string"==typeof m){if(!(m in this.modes))throw new Error("Mode \"".concat(m,"\" does not exist."));this.mode=m,c=this.modes[this.mode],k=m;continue}switch(m){case INSERT:b.list.push(h);break;case ENTER:var n=new Chunk;n.depth=b.depth+1,n.match=h,n.type=k,b.list.push(n),this.stack.push(b),b=n;// this.mode = chunk.type;
break;case LEAVE:if(!this.stack.length)throw console.log(this.mode,"\"".concat(h,"\""),b),new Error("Already at the top of the stack.");b=this.stack.pop(),this.mode=b.type,c=this.modes[this.mode];}}break}}if(!d)break}if(this.stack.length)throw new Error("Did not return to top of stack!");return this.stack.shift()||b}}]),a}();
});

;require.register("curvature/tag/LazyTag.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LazyTag=void 0;var _ScrollTag2=require("./ScrollTag"),_Dom=require("../base/Dom");function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var LazyTag=/*#__PURE__*/function(a){function b(a,d,e,f,g){var h;return _classCallCheck(this,b),h=c.call(this,a,d,e,f,g),h.element.classList.remove("cv-visible"),h.element.classList.add("cv-not-visible"),h.bindTo("visible",function(a){a&&(h.afterScroll&&clearTimeout(h.afterScroll),h.afterScroll=setTimeout(function(){h.element&&(h.element.classList.add("cv-visible"),h.element.classList.remove("cv-not-visible"),_Dom.Dom.mapTags(h.element,"[cv-lazy-style]",function(a){var b=a.getAttribute("cv-lazy-style"),c=a.getAttribute("style");a.setAttribute("style",c+";"+b),a.removeAttribute("cv-lazy-style")}))},.5*(h.offsetTop||h.element.offsetTop)+.5*h.element.offsetLeft))}),h}_inherits(b,a);var c=_createSuper(b);return _createClass(b)}(_ScrollTag2.ScrollTag);exports.LazyTag=LazyTag;
});

;require.register("curvature/tag/PopOutTag.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PopOutTag=void 0;var _Bindable=require("../base/Bindable"),_Dom=require("../base/Dom"),_Tag2=require("../base/Tag");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(a,b,c){var d=_superPropBase(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(3>arguments.length?a:c):e.value}},_get.apply(this,arguments)}function _superPropBase(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=_getPrototypeOf(a),null!==a););return a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var PopOutTag=/*#__PURE__*/function(a){function b(a,d,e,f,g){var i;return _classCallCheck(this,b),i=c.call(this,a,d,e,f,g),i.defaultStyle=a.getAttribute("style")||"",i.poppedOut=!1,i.moving=!1,i.hostSelector=a.getAttribute("cv-pop-to"),i.popMargin=a.getAttribute("cv-pop-margin")||0,i.popSpeed=a.getAttribute("data-pop-speed")||1750,a.removeAttribute("cv-pop-to"),a.removeAttribute("cv-pop-margin"),a.removeAttribute("data-pop-speed"),i.verticalDuration=.4,i.horizontalDuration=.1,i.unpoppedStyle="",i.previousScroll=0,i.bodyStyle="",i.bodyScroll=0,i.element.classList.add("unpopped"),i.scrollStyle="",i.existingStyle="",i.popTimeout=null,i.rect=null,i.transformRect=null,i.clickListener=function(a){if(i.rect=i.element.getBoundingClientRect(),!i.poppedOut){i.distance=Math.sqrt(Math.pow(i.rect.top,2)+Math.pow(i.rect.left,2));var b=i.popSpeed,c=window.innerWidth-i.rect.right,d=window.innerHeight-i.rect.bottom,e=(i.rect.left+c)/2,f=(i.rect.top+d)/2;i.horizontalDuration=e/b,i.verticalDuration=f/b,.1>i.horizontalDuration&&(i.horizontalDuration=.1),.1>i.verticalDuration&&(i.verticalDuration=.1),.4<i.horizontalDuration&&(i.horizontalDuration=.4),.4<i.verticalDuration&&(i.verticalDuration=.4)}i.element.contains(a.target)&&(a.stopPropagation(),a.preventDefault(),i.moving||(i.poppedOut?a.target.matches(".closeButton")&&i.poppedOut&&i.unpop():i.pop()))},i.escapeListener=function(a){i.poppedOut&&"Escape"===a.key&&i.unpop()},i.resizeListener=function(){if(i.poppedOut){for(var a=i.element;a.parentNode&&!a.matches(i.hostSelector)&&a.parentNode!=document;)a=a.parentNode;var b=a.getBoundingClientRect(),c=i.existingStyle+i.unpoppedStyle,d=b.x,e=b.y+document.documentElement.scrollTop,f=b.width,g=b.height;i.transformRect&&(d-=i.transformRect.x,e-=i.transformRect.y),d+i.popMargin,e+i.popMargin,f+2*i.popMargin,g+2*i.popMargin,c+=";\n\t\t\t\tz-index:    99999;\n\t\t\t\ttransition-duration: 0s;\n\t\t\t\toverflow: hidden;\n\t\t\t\tposition:  fixed;\n\t\t\t\tleft:      ".concat(d,"px;\n\t\t\t\ttop:        ").concat(e,"px;\n\t\t\t\twidth:      ").concat(f,"px;\n\t\t\t\theight:     ").concat(g,"px;\n\t\t\t\toverflow-y: auto;\n\t\t\t\ttransition-duration: 0s;\n\t\t\t"),i.element.setAttribute("style",c)}},i.element.___clickListener___||(Object.defineProperty(i.element,"___scrollListeners___",{enumerable:!1,writable:!0}),a.___clickListener___=i.clickListener,a.___escapeListener___=i.escapeListener,a.___resizeListener___=i.resizeListener,i.element.addEventListener("click",a.___clickListener___),window.addEventListener("keyup",a.___escapeListener___),window.addEventListener("resize",a.___resizeListener___),i.cleanup.push(function(a){return function(){a.removeEventListener("click",a.___clickListener___),window.removeEventListener("keyup",a.___escapeListener___),window.removeEventListener("resize",a.___resizeListener___)}}(a))),i}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"pause",value:function pause(){var a=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_get(_getPrototypeOf(b.prototype),"pause",this).call(this,a),a&&(document.body.setAttribute("style",this.bodyStyle),document.body.setAttribute("style",""))}},{key:"pop",value:function pop(){var a=this;b.popLevel(),this.previousScroll=window.scrollY,this.rect=this.element.getBoundingClientRect(),this.existingStyle=this.element.getAttribute("style");var c=this.element;// console.log(hostTag);
for(this.transformRect=null;c.parentNode&&!c.matches(this.hostSelector)&&c.parentNode!=document;)c=c.parentNode,this.transformRect||"none"===getComputedStyle(c).transform||(this.transformRect=c.getBoundingClientRect());// console.log(this.transformRect);
var d=c.getBoundingClientRect();this.element.classList.add("popping");var e=this.rect.x,f=this.rect.y,g=this.rect.width,i=this.rect.height;this.transformRect&&(e-=this.transformRect.x,f-=this.transformRect.y),window.requestAnimationFrame(function(){a.unpoppedStyle="\n\t\t\t\t;position:  fixed;\n\t\t\t\tleft:       ".concat(e,"px;\n\t\t\t\ttop:        ").concat(f,"px;\n\t\t\t\twidth:      ").concat(g,"px;\n\t\t\t\theight:     ").concat(i,"px;\n\t\t\t\tz-index:    99999;\n\t\t\t\ttransition-duration: 0s;\n\t\t\t\toverflow: hidden;\n\t\t\t");var b=d.x,c=d.y+document.documentElement.scrollTop,j=d.width,k=d.height;a.transformRect&&(b-=a.transformRect.x,c-=a.transformRect.y),b+a.popMargin,c+a.popMargin,j+2*a.popMargin,k+2*a.popMargin;// transition: width ${this.horizontalDuration}s  ease-out
// , top ${this.verticalDuration}s    ease-out
// , left ${this.horizontalDuration}s ease-out
// , height ${this.verticalDuration}s ease-out
// , all ${this.horizontalDuration}s  ease-out;
var h=a.existingStyle+a.unpoppedStyle;a.element.setAttribute("style",h),setTimeout(function(){h+="\n\t\t\t\t\t;left:      ".concat(b,"px;\n\t\t\t\t\ttop:        ").concat(c+document.documentElement.scrollTop,"px;\n\t\t\t\t\twidth:      ").concat(j,"px;\n\t\t\t\t\theight:     ").concat(k,"px;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\ttransition: width ").concat(a.horizontalDuration,"s ease-out\n\t\t\t\t\t\t, top ").concat(a.verticalDuration,"s           ease-out\n\t\t\t\t\t\t, left ").concat(a.horizontalDuration,"s        ease-out\n\t\t\t\t\t\t, height ").concat(a.verticalDuration,"s        ease-out\n\t\t\t\t\t\t, all ").concat(a.horizontalDuration,"s         ease-out;\n\t\t\t\t"),a.moving=!0,a.element.setAttribute("style",h),a.element.classList.add("popped"),a.element.classList.remove("unpopped"),a.element.classList.remove("popping"),a.popTimeout=setTimeout(function(){if(a.element){a.bodyStyle=document.body.getAttribute("style"),document.body.setAttribute("style","height:100%;overflow:hidden;"),a.moving=!1;var b=new CustomEvent("cvPopped");a.element.dispatchEvent(b),a.scrollStyle=a.element.getAttribute("style")}},1e3*a.horizontalDuration)},2*16.7),a.poppedOut=!0});var h=new CustomEvent("cvPop",{bubbles:!0,detail:{tag:this,view:this.parent,publicId:this.parent.args.publicId}});this.element.dispatchEvent(h)}},{key:"unpop",value:function unpop(){var a=this;this.element.classList.add("unpopping"),this.popTimeout&&clearTimeout(this.popTimeout),0==b.level?document.body.setAttribute("style",""):document.body.setAttribute("style",this.bodyStyle||""),b.unpopLevel(),this.rect||(this.rect=this.element.getBoundingClientRect()),window.scrollTo(0,this.previousScroll);var c=this.existingStyle+this.unpoppedStyle+";transition: width ".concat(this.horizontalDuration,"s ease-out\n\t\t\t\t\t, height ").concat(this.verticalDuration,"s        ease-out\n\t\t\t\t\t, all ").concat(this.horizontalDuration,"s         ease-out;");this.element.setAttribute("style",c),this.moving=!0,setTimeout(function(){a.element&&a.element.classList.remove("popped")},1e3*this.horizontalDuration),setTimeout(function(){if(a.element.classList.add("unpopped"),a.element.classList.remove("unpopping"),!!a.element){a.element.setAttribute("style",a.defaultStyle),a.moving=!1;var b=new CustomEvent("cvUnpopped");a.element.dispatchEvent(b)}},1e3*this.horizontalDuration);var d=new CustomEvent("cvUnpop",{bubbles:!0,detail:{tag:this,view:this.parent,publicId:this.parent.args.publicId}});this.element.dispatchEvent(d),this.poppedOut=!1}},{key:"remove",value:function remove(){document.body.setAttribute("style",this.bodyStyle),_get(_getPrototypeOf(b.prototype),"remove",this).call(this)}}],[{key:"popLevel",value:function popLevel(){return this.level||(this.level=0),this.level++,this.level}},{key:"unpopLevel",value:function unpopLevel(){return this.level||(this.level=0),this.level--,0>this.level&&(this.level=0),this.level}}]),b}(_Tag2.Tag);exports.PopOutTag=PopOutTag;
});

;require.register("curvature/tag/ScrollTag.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScrollTag=void 0;var _Tag2=require("../base/Tag"),_Dom=require("../base/Dom"),_Bindable=require("../base/Bindable");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var ScrollTag=/*#__PURE__*/function(a){function b(a,d,e,f,g){var h;return _classCallCheck(this,b),h=c.call(this,a,d,e,f,g),h.visible=!1,h.offsetTop=!1,h.offsetBottom=!1,h.attachListener=function(b){for(var c=b.target;c.parentNode;)c=c.parentNode;c!==window&&c!==document||b.target!==a||(h.addScrollListener(b.target),h.addResizeListener(b.target),h.scrolled(b.target),b.target.removeEventListener("cvDomAttached",h.attachListener))},h.element.addEventListener("cvDomAttached",h.attachListener),h.cleanup.push(function(a){return function(){a.removeEventListener("cvDomAttached",h.attachListener)}}(h.element)),h.bindTo("visible",function(a){var b;b=a?new Event("cvScrolledIn"):new Event("cvScrolledOut"),_Dom.Dom.mapTags(h.element,!1,function(a){a.dispatchEvent(b)}),h.element.dispatchEvent(b)}),h.bindTo("offsetTop",function(a){var b=new CustomEvent("cvScrolled",{detail:{offset:a}});_Dom.Dom.mapTags(h.element,!1,function(a){a.dispatchEvent(b)}),h.element.dispatchEvent(b)}),h}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"scrolled",value:function scrolled(){var a=this.element;if(a){var b=!1,c=a.getBoundingClientRect();0<c.bottom&&c.top<window.innerHeight&&(b=!0),this.proxy.visible=b,this.proxy.offsetTop=c.top||0,this.proxy.offsetBottom=c.bottom||0}}},{key:"addScrollListener",value:function addScrollListener(a){var b=this;if(!a.___scrollListener___){Object.defineProperty(a,"___scrollListener___",{enumerable:!1,writable:!0}),a.___scrollListener___=function(a){b.scrolled(a.target)};for(var c=a,d={passive:!0,capture:!0};c.parentNode;)c=c.parentNode,c.addEventListener("scroll",a.___scrollListener___,d),this.direct.cleanup.push(function(a,b,c){return function(){a.removeEventListener("scroll",b.___scrollListener___,c),b=a=null}}(c,a,d))}}},{key:"addResizeListener",value:function addResizeListener(a){var b=this;a.___resizeListener___||(Object.defineProperty(a,"___resizeListener___",{enumerable:!1,writable:!0}),a.___resizeListener___=function(a){b.scrolled(a.target)},window.addEventListener("resize",this.resizeListener),this.direct.cleanup.push(function(b){return function(){window.removeEventListener("resize",b.___resizeListener___),a.___resizeListener___=null,a=null}}(a)))}}]),b}(_Tag2.Tag);exports.ScrollTag=ScrollTag;
});

;require.register("curvature/toast/Toast.js", function(exports, require, module) {
"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toast=void 0;var _View2=require("../base/View"),_Bindable=require("../base/Bindable"),_ToastAlert=require("./ToastAlert");function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var Toast=/*#__PURE__*/function(a){function b(){var a;return _classCallCheck(this,b),a=c.call(this),a.template="\n\t\t\t<div id = \"[[_id]]\" cv-each = \"alerts:alert\" class = \"toast\">\n\t\t\t\t[[alert]]\n\t\t\t</div>\n\t\t",a.args.alerts=[],a}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"pop",value:function pop(a){var b=this,c=this.args.alerts.length;this.args.alerts.push(a),a.decay(function(a){return function(){for(var c in b.args.alerts)if(_Bindable.Bindable.ref(b.args.alerts[c])===_Bindable.Bindable.ref(a))return a.remove(),void delete b.args.alerts[c]}}(a))}},{key:"alert",value:function alert(a,b,c){return this.pop(new _ToastAlert.ToastAlert({title:a,body:b,time:c}))}}],[{key:"instance",value:function instance(){return this.inst||(this.inst=new this),this.inst}}]),b}(_View2.View);exports.Toast=Toast;
});

;require.register("curvature/toast/ToastAlert.js", function(exports, require, module) {
"use strict";var _View2=require("../base/View");function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToastAlert=void 0;function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,_toPropertyKey(c.key),c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&_setPrototypeOf(a,b)}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=_getPrototypeOf(a);if(b){var e=_getPrototypeOf(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return _possibleConstructorReturn(this,c)}}function _possibleConstructorReturn(a,b){if(b&&("object"===_typeof(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}var ToastAlert=/*#__PURE__*/function(a){function b(a){var d;return _classCallCheck(this,b),d=c.call(this,a),d.args.running=!1,d.args.time=d.args.time||16e3,d.init=d.args.time,d.args.title=d.args.title||"Standard alert",d.args.status="new",d.args.body=d.args.body||"This is a standard alert.",d.template="\n\t\t\t<div id = \"[[_id]]\" class = \"alert toast-[[status]]\">\n\t\t\t\t<h3>[[title]]</h3>\n\t\t\t\t<p>[[body]]</p>\n\t\t\t</div>\n\t\t",d}_inherits(b,a);var c=_createSuper(b);return _createClass(b,[{key:"decay",value:function decay(){var a=this;this.args.running=!0,this.onTimeout(50,function(){a.args.status=""}),this.onTimeout(300,function(){a.args.status="decaying"}),this.onTimeout(2400,function(){a.args.status="imminent"}),this.onTimeout(3500,function(){a.remove()})}}]),b}(_View2.View);exports.ToastAlert=ToastAlert;
});

;require.register("___globals___", function(exports, require, module) {
  
});})();require('___globals___');


//# sourceMappingURL=curvature.js.map